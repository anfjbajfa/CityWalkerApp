{"version":3,"file":"static/js/5704.1d5a399d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/boundedPlane.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/ControlPointsTransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/MediaTransformToolsWrapper.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/utils.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/RotateManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/ScaleManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/TransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/Manipulation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as t}from\"../core/mathUtils.js\";import{ObjectStack as i}from\"../core/ObjectStack.js\";import{invert as n,transpose as r,fromRotation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as a,h as c,g as u,i as g,j as b,l as f,o as p,f as l,d as m,p as d,t as h,n as j,k as y}from\"./vec32.js\";import{fromValues as I,clone as P,create as v}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as N}from\"../geometry/support/aaBoundingRect.js\";import{Axis as w}from\"../geometry/support/Axis.js\";import{create as x,projectPointClamp as M,distance2 as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as V,copy as A,fromVectorsAndPoint as E,fromValues as _,intersectRay as O,intersectLineSegment as k,intersectLineSegmentClamp as B,isPointInside as C,projectPoint as F,getNormal as R,setOffsetFromPoint as Y}from\"../geometry/support/plane.js\";import{distance2 as q}from\"../geometry/support/ray.js\";import{projectPointSignedLength as L}from\"../geometry/support/vector.js\";import{sv3d as U}from\"../geometry/support/vectorStacks.js\";const z=()=>s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class D{constructor(){this.plane=T(),this.origin=v(),this.basis1=v(),this.basis2=v()}}const G=D;function W(s=Ms){return{plane:T(s.plane),origin:P(s.origin),basis1:P(s.basis1),basis2:P(s.basis2)}}function X(s,t,i){const n=As.get();return n.origin=s,n.basis1=t,n.basis2=i,n.plane=V(0,0,0,0),K(n),n}function Z(s,t=W()){return J(s.origin,s.basis1,s.basis2,t)}function H(s,t){a(t.origin,s.origin),a(t.basis1,s.basis1),a(t.basis2,s.basis2),A(t.plane,s.plane)}function J(s,t,i,n=W()){return a(n.origin,s),a(n.basis1,t),a(n.basis2,i),K(n),ws(n,\"fromValues()\"),n}function K(s){E(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,t,i){s!==i&&Z(s,i);const n=c(U.get(),ys(s),t);return u(i.origin,i.origin,n),i.plane[3]-=t,i}function $(s,t,i){return ts(t,i),Q(i,ls(s,s.origin),i),i}function ss(s,t){const i=s.basis1[0],n=s.basis2[1],[r,o]=s.origin;return N(r-i,o-n,r+i,o+n,t)}function ts(s,t=W()){const i=(s[2]-s[0])/2,n=(s[3]-s[1])/2;return g(t.origin,s[0]+i,s[1]+n,0),g(t.basis1,i,0,0),g(t.basis2,0,n,0),_(0,0,1,0,t.plane),t}function is(s,t,i){return!!O(s.plane,t,i)&&Ps(s,i)}function ns(s,t,i){if(is(s,t,i))return i;const n=rs(s,t,U.get());return u(i,t.origin,c(U.get(),t.direction,b(t.origin,n)/f(t.direction))),i}function rs(s,i,n){const r=Ss.get();xs(s,i,r,Ss.get());let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(k(r,c,u)){const s=p(U.get(),i.origin,u),r=Math.abs(t(l(i.direction,s)));r<o&&(o=r,a(n,u))}}return o===Number.POSITIVE_INFINITY?es(s,i,n):n}function os(s,t){return(t-s)/t}function es(s,t,i){if(is(s,t,i))return i;const n=Ss.get(),r=Ss.get();xs(s,t,n,r);let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(B(n,c,u)){const s=q(t,u);if(!C(r,u))continue;s<o&&(o=s,a(i,u))}}return us(s,t.origin)<o&&as(s,t.origin,i),i}function as(s,t,i){const n=F(s.plane,t,U.get()),r=M(vs(s,s.basis1),n,-1,1,U.get()),o=M(vs(s,s.basis2),n,-1,1,U.get());return m(i,u(U.get(),r,o),s.origin),i}function cs(s,t,i){const{origin:n,basis1:r,basis2:o}=s,e=m(U.get(),t,n),a=L(r,e),c=L(o,e),u=L(ys(s),e);return g(i,a,c,u)}function us(s,t){const i=cs(s,t,U.get()),{basis1:n,basis2:r}=s,o=f(n),e=f(r),a=Math.max(Math.abs(i[0])-o,0),c=Math.max(Math.abs(i[1])-e,0),u=i[2];return a*a+c*c+u*u}function gs(s,t){return Math.sqrt(us(s,t))}function bs(s,t){let i=Number.NEGATIVE_INFINITY;for(const n of Es){const r=Ns(s,n,Ts.get()),o=S(r,t);o>i&&(i=o)}return Math.sqrt(i)}function fs(s,t){return C(s.plane,t)&&Ps(s,t)}function ps(s,t,i,n){return Is(s,i,n)}function ls(s,t){const i=-s.plane[3];return L(ys(s),t)-i}function ms(s,t,i,n){const r=ls(s,t),o=c(Vs,ys(s),i-r);return u(n,t,o),n}function ds(s,t){return d(s.basis1,t.basis1)&&d(s.basis2,t.basis2)&&d(s.origin,t.origin)}function hs(s,t,i){return s!==i&&Z(s,i),n(_s,t),r(_s,_s),h(i.basis1,s.basis1,_s),h(i.basis2,s.basis2,_s),h(R(i.plane),R(s.plane),_s),h(i.origin,s.origin,t),Y(i.plane,i.plane,i.origin),i}function js(s,t,i,n){return s!==n&&Z(s,n),o(Os,t,i),h(n.basis1,s.basis1,Os),h(n.basis2,s.basis2,Os),K(n),n}function ys(s){return R(s.plane)}function Is(s,t,i){switch(t){case w.X:a(i,s.basis1),j(i,i);break;case w.Y:a(i,s.basis2),j(i,i);break;case w.Z:a(i,ys(s))}return i}function Ps(s,t){const i=m(U.get(),t,s.origin),n=y(s.basis1),r=y(s.basis2),o=l(s.basis1,i),e=l(s.basis2,i);return-o-n<0&&o-n<0&&-e-r<0&&e-r<0}function vs(s,t){const i=Ts.get();return a(i.origin,s.origin),a(i.vector,t),i}function Ns(s,t,i){const{basis1:n,basis2:r,origin:o}=s,e=c(U.get(),n,t.origin[0]),a=c(U.get(),r,t.origin[1]);u(i.origin,e,a),u(i.origin,i.origin,o);const g=c(U.get(),n,t.direction[0]),b=c(U.get(),r,t.direction[1]);return c(i.vector,u(g,g,b),2),i}function ws(s,t){Math.abs(l(s.basis1,s.basis2)/(f(s.basis1)*f(s.basis2)))>1e-6&&z().warn(t,\"Provided basis vectors are not perpendicular\"),Math.abs(l(s.basis1,ys(s)))>1e-6&&z().warn(t,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-l(ys(s),s.origin)-s.plane[3])>1e-6&&z().warn(t,\"Plane offset is not consistent with plane origin\")}function xs(s,t,i,n){const r=ys(s);E(r,t.direction,t.origin,i),E(R(i),r,t.origin,n)}const Ms={plane:T(),origin:I(0,0,0),basis1:I(1,0,0),basis2:I(0,1,0)},Ss=new i(T),Ts=new i(x),Vs=v(),As=new i((()=>W())),Es=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],_s=e(),Os=e(),ks=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:G,altitudeAt:ls,axisAt:ps,cameraFrustumCoverage:os,closestPoint:es,closestPointOnSilhouette:rs,copy:Z,copyWithoutVerify:H,create:W,distance:gs,distance2:us,distanceToSilhouette:bs,elevate:Q,equals:ds,extrusionContainsPoint:fs,fromAABoundingRect:ts,fromValues:J,getExtent:ss,intersectRay:is,intersectRayClosestSilhouette:ns,normal:ys,projectPoint:as,projectPointLocal:cs,rotate:js,setAltitudeAt:ms,setExtent:$,transform:hs,up:Ms,updateUnboundedPlane:K,wrap:X},Symbol.toStringTag,{value:\"Module\"}));export{ls as A,G as B,ms as C,ds as D,Ms as E,W as a,ks as b,Z as c,os as d,fs as e,J as f,ts as g,gs as h,is as i,H as j,Q as k,ss as l,ns as m,ys as n,rs as o,es as p,as as q,js as r,$ as s,hs as t,K as u,cs as v,X as w,us as x,bs as y,ps as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import i from\"../../../../Graphic.js\";import\"../../../../symbols.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{project as a,initializeProjection as h}from\"../../../../geometry/projection.js\";import{isValid as c}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/GraphicsLayer.js\";import{applyCIMSymbolColor as p}from\"../../../../symbols/support/cimSymbolUtils.js\";import{ViewingMode as d}from\"../../../ViewingMode.js\";import{DragManipulation as m}from\"./manipulations/DragManipulation.js\";import{primaryKey as y}from\"../../../input/keys.js\";import{InteractiveToolBase as _}from\"../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as g}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as f}from\"../../../interactive/editGeometry/interfaces.js\";import u from\"../../../../symbols/CIMSymbol.js\";const P={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:y},v=1,S=10,k=new e(\"#009af2\");let b=class extends _{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new l({internal:!0,listMode:\"hide\",visible:!1,effect:\"drop-shadow(0px, 0px, 3px)\"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type=\"reshape\"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach((t=>t.destroy())),this._controlPointEditGeometryOperations.forEach((t=>t.destroy())),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return c(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const e=t.georeference;\"control-points\"===e.type&&null!=e.coords&&(this._georeference=e,this._georeference.controlPoints.forEach((({mapPoint:t},e)=>{const i=this._controlPointEditGeometryOperations[e],o=i.data.components[0].vertices[0];i.setVertexPosition(o,i.data.coordinateHelper.pointToVector(t))})),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,e=t.controlPoints,i=e[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map(((r,s)=>{const n=r.data.geometry;return this._controlPointGraphics[s].geometry=n,{mapPoint:a(n,i),sourcePoint:o?e[s].sourcePoint:t.toSource(n)}}))}updateActiveHandle(t){if(this.activeHandle===t)return;const e=this._controlPointGraphics[this.activeHandle].symbol.clone();p(e,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=e;const i=this._controlPointGraphics[t].symbol.clone();p(i,k),this._controlPointGraphics[t].symbol=i,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:e}=this;if(null==e.georeference)return;const o=e.georeference;\"control-points\"===o.type&&null!=o.coords&&(this._georeference=o,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map((({mapPoint:e})=>g.fromGeometry(a(e,t.spatialReference),d.Local))),this._controlPointGraphics=this._controlPointEditGeometryOperations.map(((t,e)=>new i({symbol:new u({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:9,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:22.5,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:e===this.activeHandle?k.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:\"Display\",angle:0}}}),geometry:t.data.geometry}))),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map((e=>new m({tool:this,view:t,graphic:e}))),this.addHandles([...this._controlPointManipulations.map(((t,e)=>t.createDragPipeline(this._getInfo.bind(this,e),((t,i)=>{\"start\"===t.action&&(this._undoStack.push(e),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})))),r((()=>this.view.scale),(()=>this.active?this.updateGraphics():null))]),this._controlPointManipulations.forEach(((t,e)=>{const i=t=>{this.addHandles([t.events.on([\"click\",\"grab-changed\"],(t=>this.updateActiveHandle(e)))])};t.forEachManipulator(i)})),this.addHandles([t.on(\"key-down\",(i=>{t.activeTool===this&&(i.key!==P.shift||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==P.toggleOpacity||i.repeat||(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==P.primaryKey||i.repeat||(this._factor=S,i.stopPropagation()),this._isModifierActive&&(i.key===P.up&&(this._move(0,this._factor),i.stopPropagation()),i.key===P.down&&(this._move(0,-this._factor),i.stopPropagation()),i.key===P.left&&(this._move(-this._factor,0),i.stopPropagation()),i.key===P.right&&(this._move(this._factor,0),i.stopPropagation())))})),t.on(\"key-up\",(e=>{t.activeTool===this&&(e.key===P.shift&&(this._isModifierActive=!1,e.stopPropagation()),e.key===P.primaryKey&&(this._factor=v,e.stopPropagation()))}))]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return h(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,e){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,e*this.view.resolution,0,f.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};t([s()],b.prototype,\"_hasValidSpatialReference\",null),t([s()],b.prototype,\"activeHandle\",void 0),t([s({constructOnly:!0,nonNullable:!0})],b.prototype,\"mediaElement\",void 0),t([s({readOnly:!0})],b.prototype,\"type\",void 0),t([s({constructOnly:!0})],b.prototype,\"view\",void 0),b=t([n(\"esri.views.2d.interactive.editingTools.ControlPointsTransformTool\")],b);export{b as ControlPointsTransformTool,P as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ControlPointsTransformTool as a}from\"./ControlPointsTransformTool.js\";import{TransformTool as r}from\"./TransformTool.js\";const n={redo:\"r\",undo:\"z\"};let d=class extends t{constructor(o){super(o),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:o,mediaElement:t,preserveAspectRatio:s,snapRotation:i,advancedMode:d}=this;this._originalOpacity=t.opacity,this._transformTool=new r({target:t,view:o,preserveAspectRatio:s,snapRotation:i}),this._controlPointsTransformTool=new a({mediaElement:t,view:o}),this._advancedModeTransformTool=new a({mediaElement:d.mediaElement,view:d.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const l=t.georeference,c=d.mediaElement.georeference;d.view.tools.addMany([this._advancedModeTransformTool]),\"controlPoints\"in c&&\"controlPoints\"in l&&this.addHandles([d.view.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),d.view.on(\"focus\",(async o=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),this._advancedModeTransformTool.highlightActiveHandle()})),e((()=>c.controlPoints),(o=>{l.controlPoints=o.map((({sourcePoint:o},t)=>({sourcePoint:o,mapPoint:l.controlPoints[t].mapPoint}))),this._activeTool?.refresh()})),e((()=>this._controlPointsTransformTool.activeHandle),(o=>{this._advancedModeTransformTool.updateActiveHandle(o),this.activeHandle=o})),e((()=>this._advancedModeTransformTool.activeHandle),(o=>{this._controlPointsTransformTool.updateActiveHandle(o),this.activeHandle=o}))]),this.addHandles([o.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),o.on(\"focus\",(async o=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),this._controlPointsTransformTool.highlightActiveHandle()}))]),o.tools.addMany([this._transformTool,this._controlPointsTransformTool]),o.activeTool=this._transformTool,this._activeTool=this._transformTool,o.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:o,operation:t}=this._sharedUndoStack.pop();o!==this._activeTool&&o.refresh(),t.undo(),o.updateGraphics(),this._sharedRedoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:o,operation:t}=this._sharedRedoStack.pop();o!==this._activeTool&&o.refresh(),t.apply(),o.updateGraphics(),this._sharedUndoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};o([s()],d.prototype,\"activeHandle\",void 0),o([s({constructOnly:!0})],d.prototype,\"advancedMode\",void 0),o([s()],d.prototype,\"preserveAspectRatio\",void 0),o([s()],d.prototype,\"snapRotation\",void 0),o([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"mediaElement\",void 0),o([s({constructOnly:!0})],d.prototype,\"view\",void 0),d=o([i(\"esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper\")],d);export{d as MediaTransformToolsWrapper,n as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../../../../../core/mathUtils.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";function n(t,e){\"start\"===t.action?e.cursor=\"grabbing\":e.cursor=\"grab\"}class s{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustScaleFactors(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}}class r{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotateAngle(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(a){const n=t(a.rotateAngle);a.rotateAngle=e(5*Math.round(n/5))}}export{s as PreserveAspectRatio,r as SnapRotation,n as onGrabChangedHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{c as i}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulation as e,ManipulatorType as a}from\"./Manipulation.js\";import{onGrabChangedHandle as o}from\"./utils.js\";import{getRotationAngle as n}from\"../../../../draw/support/drawUtils.js\";import{createManipulatorDragEventPipeline as s,screenToMap as l}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as p}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as h}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as c}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as m}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";class u extends e{constructor(i){super(),this._handles=new t,this._originCache=r(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._snapRotation=i.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>o(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,a.ROTATE)}createDragPipeline(t,r){let e=null,a=null;return s(this._manipulator,((o,s)=>{s.next((i=>{if(\"start\"===i.action){o.cursor=\"grabbing\";const i=t();e=i.plane,a=i.editGeometryOperations}return i})).next(l(this._view)).next((t=>({...t,rotateAngle:n(t.mapStart,t.mapEnd,{x:e.origin[0],y:e.origin[1]},!0)}))).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next((t=>{const o=i(this._originCache,e.origin),n=\"start\"===t.action?h.NEW_STEP:h.ACCUMULATE_STEPS,s=a.rotate(o,t.rotateAngle,n,c.REPLACE);return m(s,e),r(t,s),t})).next((t=>(\"end\"===t.action&&(o.cursor=\"grab\"),t)))}))}_createManipulator(){const t=this._view,i=this._graphic;return new p({view:t,graphic:i,selectable:!0,cursor:\"grab\"})}}export{u as RotateManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{set as i,normalize as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{l as a,c as s,b as n,d as o,f as l}from\"../../../../../chunks/vec32.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as h,c as p}from\"../../../../../chunks/boundedPlane.js\";import{getInfo as u}from\"../../../../../geometry/support/spatialReferenceUtils.js\";import{Manipulation as _,ManipulatorType as m}from\"./Manipulation.js\";import{onGrabChangedHandle as d}from\"./utils.js\";import{createManipulatorDragEventPipeline as f,screenToMap as v}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as g}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as b}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as x}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as C}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";const E=10,S=1e-6,y=.3;function j(t){const i=a(t.basis1),e=a(t.basis2);return y*Math.min(i,e)}class w extends _{constructor(i){super(),this._handles=new t,this._planeStart=h(),this._displayPlaneStart=h(),this._originCache=c(),this._axisCache=r(),this._renderStartCache=c(),this._renderEndCache=c(),this._resizeOriginCache=c(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._direction=i.direction,this._preserveAspectRatio=i.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>d(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,m.SCALE)}createDragPipeline(t,r){let c=null,h=null,_=null,m=0,d=null,g=null;const y=this._planeStart,w=this._displayPlaneStart,P=this._direction;return f(this._manipulator,((f,M)=>{M.next((i=>{if(\"start\"===i.action){f.cursor=\"grabbing\";const i=t();c=i.plane,h=i.displayPlane,_=i.editGeometryOperations,m=E*this._view.resolution,p(c,y),p(h,w);const e=u(_.data.spatialReference);d=e?e.valid[1]-e.valid[0]-3*E*this._view.resolution:null}return i})).next(v(this._view)).next((t=>{const i=s(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=s(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),r=s(this._resizeOriginCache,w.origin);n(r,r,w.basis1,-P[0]),n(r,r,w.basis2,-P[1]),o(e,e,r),o(i,i,r);const c=0!==P[0]&&0!==P[1],p=j(w),u=j(h)/p,_=(t,r)=>{if(0===t)return 1;let s=a(r),n=.5*t*l(r,e)/s;const o=n<0?-1:1;if(c){n+=(s-.5*t*l(r,i)/s)*o*u}const h=s<1.5*m?1:S;return s=Math.max(s-m,S),o>0&&(n-=E*this._view.resolution),o*Math.max(o*(n/s),h)},d=_(P[0],w.basis1),f=_(P[1],w.basis2);return{...t,direction:P,factor1:d,factor2:f}})).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next((t=>{const a=s(this._originCache,y.origin);n(a,a,y.basis1,-P[0]),n(a,a,y.basis2,-P[1]);const o=i(this._axisCache,y.basis1[0],y.basis1[1]);e(o,o);const l=_.data.allVertices,h=\"start\"===t.action?b.NEW_STEP:b.ACCUMULATE_STEPS,u=_.scaleVertices(l,a,o,t.factor1,t.factor2,h,x.REPLACE);return d&&d<_.data.geometry.extent.width&&g?_.updateVertices(l,g):(p(y,c),C(u,c),g=u.operation,r(t,u)),t})).next((t=>(\"end\"===t.action&&(f.cursor=\"grab\"),t)))}))}_createManipulator(){return new g({view:this._view,graphic:this._graphic,selectable:!0,cursor:\"grab\"})}}export{w as ScaleManipulation,j as calculateDiagonalResizeHandleScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../Graphic.js\";import\"../../../../symbols.js\";import{getContrast as i}from\"../../../../core/colorUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{subtract as c,normalize as h}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l,UNIT_X as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as m,l as d,n as _,g as y,m as g,d as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{project as v,initializeProjection as G}from\"../../../../geometry/projection.js\";import{a as w,c as R}from\"../../../../chunks/boundedPlane.js\";import{equals as b}from\"../../../../geometry/support/spatialReferenceUtils.js\";import j from\"../../../../layers/GraphicsLayer.js\";import{ViewingMode as C}from\"../../../ViewingMode.js\";import{DragManipulation as k}from\"./manipulations/DragManipulation.js\";import{RotateManipulation as A}from\"./manipulations/RotateManipulation.js\";import{ScaleManipulation as S}from\"./manipulations/ScaleManipulation.js\";import{PreserveAspectRatio as P,SnapRotation as T}from\"./manipulations/utils.js\";import{primaryKey as M}from\"../../../input/keys.js\";import{InteractiveToolBase as O}from\"../../../interactive/InteractiveToolBase.js\";import{mediaKeys as x,KeyBindings as D}from\"../../../interactive/keybindings.js\";import{EditGeometry as U}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as L}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as E}from\"../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as B}from\"../../../interactive/editGeometry/operations/UpdateVertices.js\";import{calculateOrientedBounds as H}from\"../../../interactive/editGeometry/support/editPlaneUtils.js\";import{findFirstGraphicHit as I}from\"../../../support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as V}from\"../../../support/screenUtils.js\";import z from\"../../../../geometry/Polygon.js\";import N from\"../../../../geometry/Point.js\";import W from\"../../../../symbols/SimpleFillSymbol.js\";import q from\"../../../../symbols/SimpleMarkerSymbol.js\";const F={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",plus:\"+\",minus:\"-\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:M},K=80,J=10,Q=30,X=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]],Y=1,Z=10;let $=class extends O{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=w(),this._displayPlaneCache=w(),this._mainAxisCache=l(),this._rotationHandleCache=f(),this._cornerA=f(),this._cornerB=f(),this._cornerC=f(),this._cornerD=f(),this._avgAB=f(),this._avgBC=f(),this._avgCD=f(),this._avgDA=f(),this._preserveAspectRatio=new P,this._snapRotation=new T,this._graphicsLayer=new j({internal:!0,listMode:\"hide\",visible:!1}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=Y,this.preserveAspectRatio=null,this.snapRotation=null,this.type=\"transform\"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach((e=>e.destroy())),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=s(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.components[0].edges[0],s=c(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);h(s,s);let o=K*this.view.resolution;const a=this.view.spatialReference;return b(a,e.spatialReference)&&(o*=r(a)/r(e.spatialReference)),H(s,t,o,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;R(e,t);const i=J*this.view.resolution;return m(t.basis1,t.basis1,1+i/d(t.basis1)),m(t.basis2,t.basis2,1+i/d(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new z({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return _(t,e.basis1),m(t,t,Q*this.view.resolution),y(t,t,e.origin),y(t,t,e.basis1),new N({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:s,_cornerC:o,_cornerD:r}=this,a=g(this._avgAB,i,s,.5),n=g(this._avgBC,s,o,.5),c=g(this._avgCD,o,r,.5),h=g(this._avgDA,r,i,.5);return[new N({x:i[0],y:i[1],spatialReference:t}),new N({x:s[0],y:s[1],spatialReference:t}),new N({x:o[0],y:o[1],spatialReference:t}),new N({x:r[0],y:r[1],spatialReference:t}),new N({x:a[0],y:a[1],spatialReference:t}),new N({x:n[0],y:n[1],spatialReference:t}),new N({x:c[0],y:c[1],spatialReference:t}),new N({x:h[0],y:h[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i=\"georeference\"in t?t.georeference.coords:t.geometry,s=this._editGeometryOperations,o=s.data.components[0].vertices,r=U.fromGeometry(v(i,e.spatialReference),C.Local).components[0].vertices;o.forEach(((e,t)=>{s.setVertexPosition(e,r[t].pos)})),this.updateGraphics()}reset(){const{target:e}=this;if(\"georeference\"in e){const t=e.georeference;\"control-points\"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;if(\"georeference\"in this.target){this.target.georeference.coords=e}this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach(((e,t)=>{this._scaleGraphics[t].geometry=e}))}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:s}=this;if(\"georeference\"in s){const e=s.georeference;this._graphic=new t({geometry:e.coords}),this._initialControlPoints=\"control-points\"===e.type?e.controlPoints:null}else this._graphic=s,this._initialGeometry=s.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=L.fromGeometry(v(this._graphic.geometry,e.spatialReference),C.Local),this._backgroundGraphic=new t({symbol:new W({color:\"transparent\",outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new t({symbol:new q({color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map((s=>new t({symbol:new q({size:6,style:\"square\",color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:s}))),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new k({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new A({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map(((t,i)=>new S({tool:this,view:e,graphic:t,direction:X[i],preserveAspectRatio:this._preserveAspectRatio}))),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map((e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)))),o((()=>this.view.scale),(()=>this.active?this.updateGraphics():null)),e.on(\"click\",(async t=>{if(null!=e.activeTool&&e.activeTool!==this)return;const i=V(t),o=[];e.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const r=await this.view.hitTest(i,{exclude:o}),a=r.results;if(0===a.length)e.activeTool=null;else{const t=I(r.results),i=\"georeference\"in s,o=a.map((e=>\"media\"===e.type?e.element:null)).filter(Boolean),n=new Set([...this._graphicsLayer.graphics,i?null:s].filter(Boolean));i&&o.includes(s)||null!=t&&n.has(t.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}}))]);const r=e=>{this.addHandles(e.events.on(\"grab-changed\",(e=>{\"georeference\"in s&&(\"start\"===e.action?s.opacity*=.5:\"end\"===e.action&&(s.opacity*=2))})))};this._dragManipulation.forEachManipulator(r),this._rotateManipulation.forEachManipulator(r),this._scaleManipulations.forEach((e=>e.forEachManipulator(r)));const a=new D;a.addToggle(x.preserveAspectRatio,(()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)})),a.addToggle(x.rotateIncrements,(()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)})),a.add(x.toggleOpacity,(()=>{\"georeference\"in s&&(s.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),a.addToggle(x.factorModifier,(e=>this._factor=\"key-down\"===e.type?Z:Y)),a.add(x.scaleUp,(()=>this._scale(this._factor))),a.add(x.scaleDown,(()=>this._scale(-this._factor))),a.add(x.moveUp,(()=>this._move(0,this._factor))),a.add(x.moveDown,(()=>this._move(0,-this._factor))),a.add(x.moveLeft,(()=>this._move(-this._factor,0))),a.add(x.moveRight,(()=>this._move(this._factor,0))),this.addHandles([e.on(\"key-down\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)})),e.on(\"key-up\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)}))])}async _loadProjectionEngine(){const e=this._graphic.geometry;return G(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:s}=e,o=this._cornerA;y(o,s,t),y(o,o,i);const r=this._cornerB;y(r,s,t),u(r,r,i);const a=this._cornerC;u(a,s,t),u(a,a,i);const n=this._cornerD;u(n,s,t),y(n,n,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){\"start\"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){const t=this._editGeometryOperations,i=t.data.geometry.extent?.width,s=(i+e*this.view.resolution)/i,o=t.scale(this._plane.origin,p,s,s,E.NEW_STEP,B.REPLACE);this._sharedUndoStack.push({tool:this,operation:o}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,E.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};e([a()],$.prototype,\"_plane\",null),e([a()],$.prototype,\"_backgroundGraphicGeometry\",null),e([a()],$.prototype,\"_rotateGraphicGeometry\",null),e([a()],$.prototype,\"_scaleGraphicGeometries\",null),e([a()],$.prototype,\"preserveAspectRatio\",void 0),e([a()],$.prototype,\"snapRotation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],$.prototype,\"target\",void 0),e([a({readOnly:!0})],$.prototype,\"type\",void 0),e([a({constructOnly:!0})],$.prototype,\"view\",void 0),$=e([n(\"esri.views.2d.interactive.editingTools.TransformTool\")],$);export{$ as TransformTool,F as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../../symbols.js\";import e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as s,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SnappingVisualizer2D as o}from\"../../SnappingVisualizer2D.js\";import{outline as c,regularVertices as h,activeVertex as m}from\"./symbols.js\";import{DrawGraphicTool as p,geometryTypeToDrawOperationGeometryType as u}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as v}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as y}from\"../../../../draw/drawSurfaces.js\";import d from\"../../../../../geometry/Point.js\";import g from\"../../../../../geometry/Multipoint.js\";let E=class extends p{constructor(e){super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:e.activeLineSymbol??c,regularVertices:e.regularVerticesSymbol??h,activeVertex:e.activeVertexSymbol??m,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles(s((()=>this.view?.effectiveTheme?.accentColor),(e=>{if(!e)return;const t=this._visualElementSymbols.activeVertex.clone().set({color:e});this._visualElementGraphics.activeVertex?.set(\"symbol\",t),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:t}}),a))}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(G),i()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new v({view:i,manipulators:this.manipulators,geometryType:u(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new y(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new o(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return i();const[s,a]=e,l=new d({x:s,y:a,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=l,i()):(this._visualElementGraphics.activeVertex=new t({geometry:l,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=r(this._visualElementGraphics.activeVertex))})))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,i()):(this._visualElementGraphics.activeEdge=new t({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=r(this._visualElementGraphics.activeEdge))})))}onRegularVerticesChanged(e){const s=new g({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=s,i()):(this._visualElementGraphics.regularVertices=new t({geometry:s,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=r(this._visualElementGraphics.regularVertices))})))}};function G(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([l()],E.prototype,\"activeFillSymbol\",void 0),e([l({readOnly:!0})],E.prototype,\"type\",void 0),e([l({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([n(\"esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Manipulation as t,ManipulatorType as i}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as r,screenToMap as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as e}from\"../../../../interactive/editGeometry/interfaces.js\";import{getSymbolInfo as n}from\"../../../../interactive/support/utils.js\";class s extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,i.TRANSLATE_XY)}createDragPipeline(t,i){let o=null,s=null,l=0,p=0,c=0;const{offsetX:m,offsetY:h,size:u}=n(this._graphic.symbol);return r(this._manipulator,((r,n)=>{n.next((i=>{if(\"start\"===i.action){const i=t();o=i.editGeometryOperations,s=i.constraints}return i})).next(a(this._view)).next((t=>{const{x:r,y:a,z:n}=t.mapEnd;if(s&&(r+m<s.xmin||a+h-u<s.ymin||r+m>s.xmax||a+h-u>s.ymax))return t;(\"start\"===t.action||0===l&&0===p&&0===c)&&(l=t.mapStart.x,p=t.mapStart.y,c=t.mapStart.z);const _=r-l,f=a-p,v=n-c;l=r,p=a,c=n;const x=\"start\"===t.action?e.NEW_STEP:e.ACCUMULATE_STEPS,E=o.move(_,f,v,x);return i(t,E),t}))}))}_createManipulator(){const t=this._view,i=this._graphic;return new o({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{s as DragManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass r{get hovering(){return this.someManipulator((r=>r.hovering))}get grabbing(){return this.someManipulator((r=>r.grabbing))}get dragging(){return this.someManipulator((r=>r.dragging))}hasManipulator(r){return this.someManipulator((t=>t===r))}someManipulator(r){let t=!1;return this.forEachManipulator((a=>{!t&&r(a)&&(t=!0)})),t}}var t;!function(r){r[r.TRANSLATE_XY=0]=\"TRANSLATE_XY\",r[r.SCALE=1]=\"SCALE\",r[r.ROTATE=2]=\"ROTATE\"}(t||(t={}));export{r as Manipulation,t as ManipulatorType};\n"],"names":["z","s","getLogger","G","constructor","this","plane","T","origin","v","basis1","basis2","W","arguments","length","undefined","Ms","P","Z","t","J","i","n","a","K","Math","abs","l","f","warn","ys","ws","E","Q","c","U","get","u","ts","g","_","is","O","Ps","rs","r","Ss","xs","o","Number","POSITIVE_INFINITY","e","Es","Ns","Ts","k","p","direction","es","B","q","C","us","as","F","M","vs","m","cs","L","max","gs","sqrt","ls","R","y","vector","b","I","x","Vs","As","_s","Os","ks","Object","freeze","defineProperty","__proto__","BoundedPlaneClass","altitudeAt","axisAt","w","X","j","Y","Is","cameraFrustumCoverage","closestPoint","closestPointOnSilhouette","copy","copyWithoutVerify","A","create","distance","distance2","distanceToSilhouette","NEGATIVE_INFINITY","S","elevate","equals","d","extrusionContainsPoint","fromAABoundingRect","fromValues","getExtent","N","intersectRay","intersectRayClosestSilhouette","normal","projectPoint","projectPointLocal","rotate","h","setAltitudeAt","setExtent","transform","up","updateUnboundedPlane","wrap","V","Symbol","toStringTag","value","super","_isOpacityToggled","_isModifierActive","_factor","_initialControlPoints","_graphicsLayer","internal","listMode","visible","effect","_undoStack","_redoStack","_sharedUndoStack","_sharedRedoStack","_highlightHandle","activeHandle","type","initialize","_initialize","destroy","map","view","_controlPointManipulations","forEach","_controlPointEditGeometryOperations","removeMany","removeAll","_georeference","_controlPointGraphics","_hasValidSpatialReference","spatialReference","onActivate","onDeactivate","onShow","onHide","canUndo","canRedo","undo","pop","updateGraphics","push","redo","refresh","mediaElement","georeference","coords","controlPoints","_ref","mapPoint","data","components","vertices","setVertexPosition","coordinateHelper","pointToVector","reset","geometry","sourcePoint","toSource","updateActiveHandle","symbol","clone","effectiveTheme","accentColor","surface","document","activeElement","highlightActiveHandle","removeHighlightActiveHandle","whenLayerView","highlight","remove","setSharedUndoStack","setSharedRedoStack","addMany","focus","finishToolCreation","_loadProjectionEngine","_ref2","fromGeometry","Local","symbolLayers","enable","colorLocked","anchorPoint","anchorPointUnits","dominantSizeAxis3D","size","billboardMode3D","frame","xmin","ymin","xmax","ymax","markerGraphics","rings","color","scaleSymbolsProportionally","respectFrame","clippingPath","clippingType","path","rotation","toArray","haloSize","scaleX","angleAlignment","angle","graphics","tool","graphic","addHandles","createDragPipeline","_getInfo","bind","action","operation","scale","active","forEachManipulator","events","on","activeTool","key","repeat","stopPropagation","opacity","_move","editGeometryOperations","constraints","width","height","move","resolution","NEW_STEP","prototype","constructOnly","nonNullable","readOnly","_transformTool","_controlPointsTransformTool","_advancedModeTransformTool","_activeTool","_originalOpacity","preserveAspectRatio","snapRotation","advancedMode","target","tools","async","apply","enableAdvancedMode","when","disableAdvancedMode","cursor","_lastDragEvent","next","_enabled","enabled","_adjustScaleFactors","execute","createDragEventPipelineStep","factor1","factor2","_adjustRotateAngle","rotateAngle","round","_handles","_originCache","_view","_tool","_graphic","_snapRotation","_manipulator","_createManipulator","add","manipulators","ROTATE","mapStart","mapEnd","ACCUMULATE_STEPS","REPLACE","selectable","min","_planeStart","_displayPlaneStart","_axisCache","_renderStartCache","_renderEndCache","_resizeOriginCache","_direction","_preserveAspectRatio","SCALE","displayPlane","valid","allVertices","scaleVertices","extent","updateVertices","$","_initialGeometry","_planeCache","_displayPlaneCache","_mainAxisCache","_rotationHandleCache","_cornerA","_cornerB","_cornerC","_cornerD","_avgAB","_avgBC","_avgCD","_avgDA","_dragManipulation","_rotateManipulation","_scaleManipulations","_editGeometryOperations","_plane","edges","leftVertex","pos","rightVertex","H","_displayPlane","_backgroundGraphicGeometry","_updateDisplayPlaneConrers","_rotateGraphicGeometry","_scaleGraphicGeometries","_backgroundGraphic","_rotateGraphic","_scaleGraphics","outline","style","_updateGraphics","allLayers","hitTest","exclude","results","element","filter","Boolean","Set","includes","has","D","addToggle","rotateIncrements","toggleOpacity","factorModifier","scaleUp","_scale","scaleDown","moveUp","moveDown","moveLeft","moveRight","dispatch","inputManager","effects","dashTemplate","lineDashEnding","controlPointEnding","capStyle","joinStyle","miterLimit","_visualElementGraphics","regularVertices","activeVertex","activeEdge","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","set","normalizeCtorArgs","initializeGraphic","internalGraphicsLayer","sort","makeDrawOperation","defaultZ","hasZ","_createOrUpdateGraphic","geometryType","drawingMode","mode","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","constraintsEnabled","onActiveVertexChanged","attributes","displayOrder","onCursorEdgeChanged","onRegularVerticesChanged","points","TRANSLATE_XY","offsetX","offsetY","hovering","someManipulator","grabbing","dragging","hasManipulator"],"sourceRoot":""}