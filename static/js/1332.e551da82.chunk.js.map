{"version":3,"file":"static/js/1332.e551da82.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/Intersector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as r,ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextRenderAlignment as c,textVerticalPaddingPx as n}from\"../../webgl-engine/lib/TextRenderer.js\";const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({\"bottom-left\":r(0,0),bottom:r(.5,0),\"bottom-right\":r(1,0),left:r(0,.5),center:r(.5,.5),right:r(1,.5),\"top-left\":r(0,1),top:r(.5,1),\"top-right\":r(1,1)});function f(t){switch(t){case\"left\":return c.Left;case\"right\":return c.Right;default:return c.Center}}function a(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function l(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function m(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function u(t){return\"middle\"===t?\"center\":t}function h(r,c){switch(r){case\"top\":return e(c,0,n);case\"bottom\":return e(c,0,-n);default:return t(c,o)}}export{m as anchorFromPlacements,a as horizontalPlacementFromAnchor,i as horizontalPlacementToAnchorX,s as namedAnchorToHUDMaterialAnchorPos,f as textRenderAlignmentFromHorizontalPlacement,u as verticalPlacementFromAlignment,l as verticalPlacementFromAnchor,h as verticalScreenOffsetFromAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as t}from\"./TextHelperCanvas.js\";function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=t(o,0,0).getContext(\"2d\");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{e as getFontMetrics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction a(a,n,c){return a.canvas||(a.canvas=document.createElement(\"canvas\")),a.canvas.width=n,a.canvas.height=c,a.canvas}export{a as getTextHelperCanvas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{debugFlags as e}from\"../../support/debugFlags.js\";import{getFontMetrics as i}from\"./FontMetrics.js\";import{getTextHelperCanvas as n}from\"./TextHelperCanvas.js\";const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`${t}--${this._parameters.key}-${this._alignment}`,this._lines=t.replaceAll(\" \",\"Â \").split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=n(a,l,l).getContext(\"2d\"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;\"italic\"!==h.style&&\"oblique\"!==h.style&&\"bold\"!==h.weight&&\"bolder\"!==h.weight||(r+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=i(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R=\"underline\"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=n(a,Math.max(h,l),Math.max(o,l)),_=d.getContext(\"2d\");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(o||(o={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}export{o as TextRenderAlignment,r as TextRenderer,s as textVerticalPaddingPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IntersectorType as t}from\"../IntersectorInterfaces.js\";import{Graphic3DTarget as r}from\"../IntersectorTarget.js\";import{isValidIntersectorResult as e}from\"../intersectorUtils.js\";class s extends r{constructor(t,r,e,s,i,o){super(t,r),this.layerUid=t,this.graphicUid=r,this.geometryId=e,this.triangleNr=s,this.baseBoundingSphere=i,this.numLodLevels=o}}function i(r){return e(r)&&r.intersector===t.LOD&&!!r.target}export{s as LodTarget,i as isLodIntersectorResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as h,transpose as l}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as n}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as _,BufferViewMat3f as p,BufferViewVec2f as T,BufferViewVec4f64 as u,BufferViewVec4f as L,BufferViewVec4u8 as E,BufferViewUint8 as A}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as v}from\"../../../support/mathUtils.js\";import{newLayout as M}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as O}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{initialCapacity as S}from\"./RenderInstanceData.js\";var F;function C(t){let e=M().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.INSTANCEMODEL).mat3f(I.INSTANCEMODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(I.OBJECTANDLAYERIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(F||(F={}));class R{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,_),this.model=t.getField(I.INSTANCEMODEL,p),this.modelNormal=t.getField(I.INSTANCEMODELNORMAL,p),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,T),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,u),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,E),this.objectAndLayerIdColor=t.getField(I.OBJECTANDLAYERIDCOLOR,E),this.state=t.getField(I.STATE,A),this.lodLevel=t.getField(I.LODLEVEL,A)}}let b=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightGroupMap=new Map,this._highlightGroupMapPrev=new Map,this._layout=C(e),this._capacity=S,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,F.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;O(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,F.ACTIVE)?this._setStateFlags(t,F.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;O(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=G,i=y;e.localTransform.getMat(t,D),e.globalTransform.getMat(t,N);const a=c(N,N,D);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=v(G,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),h(i,i),l(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,F.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,y),s.modelOrigin.getVec(t,G),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=0,e[4]=y[3],e[5]=y[4],e[6]=y[5],e[7]=0,e[8]=y[6],e[9]=y[7],e[10]=y[8],e[11]=0,e[12]=G[0],e[13]=G[1],e[14]=G[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=Math.max(G[0],G[1],G[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=w(G[0],G[1],G[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,F.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,F.VISIBLE)}setHighlight(t,e,s){let i=this._highlightGroupMap.get(t);e?(i||(i=new Set,this._highlightGroupMap.set(t,i)),i.add(s)&&(this._setStateFlag(t,F.HIGHLIGHT,!0),this.events.emit(\"instance-highlight-changed\"))):i?.delete(s)&&(0===i.size&&(this._highlightGroupMap.delete(t),this._setStateFlag(t,F.HIGHLIGHT,!1)),this.events.emit(\"instance-highlight-changed\"))}getHighlight(t){return this._getStateFlag(t,F.HIGHLIGHT)}foreachHighlightGroupPrev(t,e){this._highlightGroupMapPrev.get(t)?.forEach(e),this._highlightGroupMapPrev.delete(t)}foreachHighlightGroup(t,e){const s=this._highlightGroupMap.get(t);s?.forEach(e),s?this._highlightGroupMapPrev.set(t,new Set(s)):this._highlightGroupMapPrev.delete(t)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(S,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&F.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],b.prototype,\"shaderTransformation\",void 0),t([a()],b.prototype,\"_size\",void 0),t([a({readOnly:!0})],b.prototype,\"size\",null),b=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],b);const G=f(),y=n(),D=g(),N=g();export{b as InstanceData,R as InstanceDataView,F as StateFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,a as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glLayout as t}from\"../../../support/buffer/glUtil.js\";import{ContentObject as e}from\"../ContentObject.js\";import{Default3D as r}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as s}from\"../GLMaterials.js\";import{newIntersectorResult as o}from\"../Intersector.js\";import{IntersectorType as n,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{LodTarget as u}from\"./Intersector.js\";import{BufferObject as m}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";function f(t,e,r,s=null){const o=t.createBufferWriter(),n=o.vertexBufferLayout,i=o.elementCount(e),a=n.createBuffer(i);return o.write(null,null,e,s,a,0),{material:t,vertexBufferLayout:n,buffer:a.buffer,elementCount:i,boundingInfo:r}}class d{constructor(o,n){const i=o.renderContext.rctx,u=n.geometry;let d=null;d=u instanceof e?f(u.material,u.attributes,u.boundingInfo):u;const c=d.material;this._materials=o.materials,c.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=c,this.glMaterials=new s(c,this._materials),this.vertexBufferLayout=d.vertexBufferLayout,this.vbo=m.createVertex(i,l.STATIC_DRAW,d.buffer),this.vao=new a(i,r,new Map([[\"geometry\",t(d.vertexBufferLayout)]]),new Map([[\"geometry\",this.vbo]])),this.vertexCount=d.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(t,r,s,a,m,l,f,d){if(!(this.geometry instanceof e))return;const c=this.geometry.id;this.material.intersect(this.geometry,t.transform.transform,t,s,a,((e,s,a,p,y)=>{if(e>=0){if(null!=r&&!r(t.rayBegin,t.rayEnd,e))return;const p=new u(l.layerUid,l.graphicUid(m),c,a,f,d);if((null==t.results.min.drapedLayerOrder||y>=t.results.min.drapedLayerOrder)&&(null==t.results.min.dist||e<t.results.min.dist)&&t.results.min.set(n.LOD,p,e,s,t.transform.transform,y),t.options.store!==i.MIN&&(null==t.results.max.drapedLayerOrder||y>=t.results.max.drapedLayerOrder)&&(null==t.results.max.dist||e>t.results.max.dist)&&t.results.max.set(n.LOD,p,e,s,t.transform.transform,y),t.options.store===i.ALL){const r=o(t.results.min.ray);r.set(n.LOD,p,e,s,t.transform.transform,y),t.results.all.push(r)}}}))}}export{d as LodComponentData,f as createLodComponentRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as n}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as s,throwIfAborted as i}from\"../../../../../core/promiseUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d as h,f as d,t as u}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as m,fromValues as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as _}from\"../../../support/debugFlags.js\";import{glLayout as g}from\"../../../support/buffer/glUtil.js\";import{newLayout as I}from\"../../../support/buffer/InterleavedLayout.js\";import y from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as C}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AsyncRenderPlugin as v}from\"../../effects/RenderPlugin.js\";import{Default3D as E}from\"../DefaultVertexAttributeLocations.js\";import{IntersectorType as R}from\"../IntersectorInterfaces.js\";import b from\"../Octree.js\";import{RenderSlot as D}from\"../RenderSlot.js\";import{assert as A}from\"../Util.js\";import{VertexAttribute as T}from\"../VertexAttribute.js\";import{InstanceData as L,StateFlags as S}from\"./InstanceData.js\";import{InstanceOctree as O}from\"./InstanceOctree.js\";import{LevelSelector as M}from\"./LevelSelector.js\";import{LodLevel as j}from\"./LodLevel.js\";import{RenderInstanceData as x}from\"./RenderInstanceData.js\";import{colorMixModes as N}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as w}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as U}from\"../../shaders/DefaultMaterialTechnique.js\";import{TaskPriority as H,noBudget as F}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as V,unbindVertexBufferLayout as B}from\"../../../../webgl/Util.js\";const G=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new M(t,r)};let q=class extends v{constructor(e,t){super(e),this.type=R.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new y,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[D.OPAQUE_MATERIAL,e=>this._produces(e)],[D.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new L({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(H.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=k(this.optionalFields),this._glInstanceBufferLayout=g(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get hasEmissions(){return this.baseMaterial.hasEmissions}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),0)}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,a=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*a,trianglesPerInstance:a})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new x(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>j.create(e,t,r)))),a=n.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(s(r)||a.length!==n.length){a.forEach((e=>e.destroy())),i(r);for(const e of n)if(\"rejected\"===e.status)throw e.reason}this._levels=a,this._levelSelector=G(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(D.TRANSPARENT_MATERIAL);return t?.(C.Color)}))))}hasHighlights(){return n(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return e!==C.Highlight&&e!==C.ShadowHighlight||this.hasHighlights()}prepareRender(e){if(!_.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(F),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},a)=>n.forEach((n=>r.push(this._beginComponent(e,t[a],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const a=this.levels;r.forEach((r=>a.forEach((({components:a},s)=>a.forEach((a=>this._renderComponent(e,t[n++],r[s],a,s)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===C.Highlight,a=!n&&t!==C.ShadowHighlight,s=t!==C.ShadowExcludeHighlight;if(a)return s?this._allRenderInstanceData:[this._defaultRenderInstanceData];if(s){if(n){const{highlightGroupName:e}=r;if(!e)return null;const t=this._highlightRenderInstanceDataMap.get(e);return t?[t]:null}const e=[];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const a=f();h(a,n,r);const s=a=>{this._instanceData.getCombinedModelTransform(a,Y),e.transform.set(Y),u(J,r,e.transform.inverse),u(Q,n,e.transform.inverse);const s=this._instanceData.getState(a),i=this._instanceData.getLodLevel(a),o=this._levels.length;A(!!(s&S.ACTIVE),\"invalid instance state\"),A(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,J,Q,a,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(s):this._octree.forEachAlongRay(r,a,s)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new O(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&S.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return{near:1/0,far:-1/0};const t=e.viewForward,r=this._octree.findClosest(t,b.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,b.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return{near:1/0,far:-1/0};const a=e.eye,s=this._instanceData.view;s.boundingSphere.getVec(r,K),h(K,K,a);const i=d(K,t)-K[3];s.boundingSphere.getVec(n,K),h(K,K,a);const o=d(K,t)+K[3];return{near:Math.max(e.near,i),far:Math.min(e.far,o)}}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const s=this._instanceData,i=s.view;let o=s.size;const l=s.capacity;let c=this._instanceIndex;const h=Math.ceil(l/500);for(let d=0;d<o&&!e.done;++d){c===this._cycleStartIndex&&this._startUpdateCycle();const d=i.state.get(c);let u=0;if(!(d&S.ALLOCATED)){c=c+1===l?0:c+1,o++;continue}const f=i.lodLevel.get(c);if(d&S.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[f].freeTail(),d&S.HIGHLIGHT_ACTIVE&&s.foreachHighlightGroupPrev(c,(e=>{const t=this._highlightRenderInstanceDataMap.get(e);if(!t)throw new r(\"Internal error in lodRenderer\");t[f].freeTail()})),d&S.REMOVE)s.freeInstance(c);else if(d&S.VISIBLE){let e=0;t&&(i.modelOrigin.getVec(c,W),e=a.selectLevel(W,s.getCombinedMedianScaleFactor(c),n)),u=d&~(S.ACTIVE|S.TRANSFORM_CHANGED),e>=0&&(d&S.HIGHLIGHT?(s.foreachHighlightGroup(c,(t=>{let n=this._highlightRenderInstanceDataMap.get(t);if(n||(n=this._createRenderInstanceDataArray(),n.forEach((e=>e.beginUpdate())),this._highlightRenderInstanceDataMap.set(t,n)),e>=n.length)throw new r(`LodRenderer internal error - missing lodLevel ${e}`);P(n[e],i,c)})),u|=S.HIGHLIGHT_ACTIVE):(P(this._defaultRenderInstanceData[e],i,c),u|=S.DEFAULT_ACTIVE)),i.state.set(c,u),i.lodLevel.set(c,e)}else u=d&~(S.ACTIVE|S.TRANSFORM_CHANGED),i.state.set(c,u);if(null!=this._octreeCached){const e=!!(d&S.ACTIVE),t=!!(u&S.ACTIVE);!e&&t?this._octreeCached.addInstance(c):e&&!t?this._octreeCached.removeInstance(c):e&&t&&d&S.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(c),this._octreeCached.addInstance(c))}c=c+1===l?0:c+1,c%h==0&&e.madeProgress()}this._instanceIndex=c,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,a){if(!t)return;const{bind:s,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,s,n.material.parameters,$);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),_.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===C.Color&&(o.setUniform4fv(\"externalColor\",Z[Math.min(a,Z.length-1)]),o.setUniform1i(\"colorMixMode\",N.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,f=(e,a)=>{V(i,E,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,a-e),B(i,E,r.buffer,u)};n.material.parameters.transparent&&null!=d?c>h?(A(d>=h&&d<=c,\"invalid firstIndex\"),f(d,c),f(h,d)):c<h&&(d<=c?(A(d>=0&&d<=c,\"invalid firstIndex\"),f(d,c),f(h,l),f(0,d)):(A(d>=h&&d<=l,\"invalid firstIndex\"),f(d,l),f(0,c),f(h,d))):c>h?f(h,c):c<h&&(f(0,c),f(h,l)),i.bindVAO(null)}};function P(e,t,r){const n=e.allocateHead();z(t,r,e.view,n)}function z(e,t,r,n){w(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function k(e){let t=I().vec3f(T.INSTANCEMODELORIGINHI).vec3f(T.INSTANCEMODELORIGINLO).mat3f(T.INSTANCEMODEL).mat3f(T.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(T.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(T.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(T.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([o({constructOnly:!0})],q.prototype,\"symbol\",void 0),e([o({constructOnly:!0})],q.prototype,\"optionalFields\",void 0),e([o({constructOnly:!0})],q.prototype,\"metadata\",void 0),e([o({constructOnly:!0})],q.prototype,\"shaderTransformation\",void 0),e([o()],q.prototype,\"_instanceData\",void 0),e([o()],q.prototype,\"_cycleStartIndex\",void 0),e([o({readOnly:!0})],q.prototype,\"_enableLevelSelection\",null),e([o()],q.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([o({readOnly:!0})],q.prototype,\"running\",null),q=e([l(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],q);const W=f(),K=m(),Y=c(),J=f(),Q=f(),Z=[p(1,0,1,1),p(0,0,1,1),p(0,1,0,1),p(1,1,0,1),p(1,0,0,1)],$=new U;export{q as LodRenderer};\n"],"names":["i","Object","freeze","left","center","right","s","r","bottom","top","f","t","c","Left","Right","Center","m","e","u","h","n","o","size","definition","a","fontString","get","getContext","setFontProperties","x","measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","set","Map","maxHeight","this","maxAscent","maxDescent","constructor","canvas","String","fromCharCode","document","createElement","width","height","text","_alignment","_parameters","_maxSize","_textWidths","_lineWidths","_renderPixelRatio","_metricsCached","key","_lines","replaceAll","split","displayWidth","Math","ceil","_displayWidth","_horizontalPadding","displayHeight","_metrics","firstLineAscent","length","_lineSpacing","lastLineDescent","_haloSize","_verticalPadding","renderedWidth","_toRoundedRenderUnit","renderedHeight","firstRenderedBaselinePosition","_toRenderUnit","_firstLineYOffset","l","pixelRatio","_fontSize","font","style","weight","d","_","g","forEach","push","max","p","R","decoration","S","_midLineHeight","_linePadding","lineSpacingFactor","midLineHeight","_midLineAscent","maxLineAscent","_renderedFontSize","_renderedHaloSize","haloSize","_hasBackground","background","padding","backgroundStyle","renderPixelRatio","min","_getLineXOffset","render","save","_renderHalo","globalCompositeOperation","fillStyle","_fillText","_renderLineDecoration","textStyle","TEXT_SHOW_BASELINE","strokeStyle","setLineDash","lineWidth","_drawLine","TEXT_SHOW_BORDER","_drawBox","borderRadius","_roundedRect","fill","restore","arguments","undefined","haloStyle","beginPath","moveTo","lineTo","stroke","floor","arcTo","closePath","rect","clearRect","lineJoin","_renderHaloEmulated","_renderHaloNative","globalAlpha","halo","color","drawImage","_strokeText","round","fillText","strokeText","cos","PI","sin","firstLineHeight","maxLineDescent","lastLineHeight","super","layerUid","graphicUid","geometryId","triangleNr","baseBoundingSphere","numLodLevels","_elementSize","_buffer","createVertex","STATIC_DRAW","resize","destroy","dispose","elementSize","capacity","_capacity","array","_array","buffer","usedMemory","byteLength","copyRange","Uint8Array","transferAll","setData","transferRange","setSubData","ArrayBuffer","subarray","setSize","modelOriginHi","getField","INSTANCEMODELORIGINHI","modelOriginLo","INSTANCEMODELORIGINLO","model","INSTANCEMODEL","modelNormal","INSTANCEMODELNORMAL","featureAttribute","INSTANCEFEATUREATTRIBUTE","INSTANCECOLOR","objectAndLayerIdColor","INSTANCEOBJECTANDLAYERIDCOLOR","_rctx","_instanceBufferLayout","_headIndex","_tailIndex","_firstIndex","_captureFirstIndex","_updating","_prevHeadIndex","_resized","view","_view","isEmpty","isFull","headIndex","tailIndex","firstIndex","reset","startUpdateCycle","beginUpdate","endUpdate","_shrink","_transferRange","allocateHead","_grow","_incrementHead","freeTail","_incrementTail","_resize","stride","_compactInstances","createView","F","ALLOCATED","DEFAULT_ACTIVE","VISIBLE","HIGHLIGHT","HIGHLIGHT_ACTIVE","REMOVE","TRANSFORM_CHANGED","ACTIVE","localTransform","I","LOCALTRANSFORM","globalTransform","GLOBALTRANSFORM","modelOrigin","MODELORIGIN","modelScaleFactors","MODELSCALEFACTORS","T","boundingSphere","BOUNDINGSPHERE","FEATUREATTRIBUTE","L","COLOR","E","OBJECTANDLAYERIDCOLOR","state","STATE","A","lodLevel","LODLEVEL","b","events","_size","_next","_highlightGroupMap","_highlightGroupMapPrev","_layout","M","mat4f64","vec4f64","vec3f64","mat3f","vec2f","includes","vec4f","vec4u8","u8","C","createBuffer","addInstance","_findSlot","emit","removeInstance","O","_getStateFlag","_setStateFlags","freeInstance","setLocalTransform","setMat","updateModelTransform","getLocalTransform","getMat","setGlobalTransform","getGlobalTransform","G","y","D","N","setVec","v","sort","index","getModelTransform","getVec","applyShaderTransformation","shaderTransformation","applyTransform","getCombinedModelTransform","getCombinedLocalTransform","getCombinedMaxScaleFactor","scaleFactor","getCombinedMedianScaleFactor","w","getModel","setFeatureAttribute","getFeatureAttribute","setColor","setObjectAndLayerIdColor","setVisible","getVisible","_setStateFlag","setHighlight","Set","add","delete","getHighlight","foreachHighlightGroupPrev","foreachHighlightGroup","getState","getLodLevel","countFlags","_clearStateFlags","copyFrom","constructOnly","prototype","readOnly","_instanceData","_tmpSphere","maximumDepth","_boundingSphere","_tmpMat4","radius","remove","_worldSpaceRadius","_minScreenSpaceRadii","selectLevel","computeScreenPixelSizeAt","renderContext","rctx","geometry","createBufferWriter","vertexBufferLayout","elementCount","write","material","boundingInfo","attributes","_materials","materials","setParameters","instancedDoublePrecision","glMaterials","vbo","vao","vertexCount","triangleCount","intersect","id","transform","rayBegin","rayEnd","results","drapedLayerOrder","dist","LOD","options","store","MIN","ALL","ray","all","create","Promise","allSettled","components","map","controller","schedule","status","value","filter","reason","minScreenSpaceRadius","boundingBox","_boundingBox","bbMin","bbMax","reduce","q","type","isGround","_levels","_defaultRenderInstanceData","Array","_highlightRenderInstanceDataMap","_instanceIndex","_cycleStartIndex","_slicePlane","_camera","_updateCyclesWithStaticCamera","_needFullCycle","produces","OPAQUE_MATERIAL","_produces","TRANSPARENT_MATERIAL","_hasTransparentLevels","optionalFields","addHandles","registerTask","H","LOD_RENDERER","initialize","vec3f","k","_glInstanceBufferLayout","on","_requestUpdateCycle","_ref","metadata","notifyGraphicGeometryChanged","_ref2","notifyGraphicVisibilityChanged","_allRenderInstanceData","_enableLevelSelection","symbol","levels","baseBoundingBox","baseMaterial","slicePlaneEnabled","instanceData","hasEmissions","renderStats","renderedInstances","renderedTriangles","trianglesPerInstance","totalInstances","_createRenderInstanceDataArray","_context","initializeRenderContext","j","_levelSelector","uninitializeRenderContext","_invalidateOctree","some","Color","hasHighlights","Highlight","ShadowHighlight","prepareRender","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","bind","contentCamera","equals","runTask","acquireTechniques","visible","isVisibleForOutput","output","_getInstanceDatas","_ref3","_beginComponent","bindVAO","_ref4","_renderComponent","ShadowExcludeHighlight","highlightGroupName","_octree","Y","J","inverse","Q","parameters","verticalOffset","forEachAlongRay","notifyShaderTransformationChanged","_octreeCached","queryDepthRange","near","far","viewForward","findClosest","DepthOrder","FRONT_TO_BACK","frustum","BACK_TO_FRONT","eye","K","requestRender","_startUpdateCycle","running","done","W","P","madeProgress","load","slot","beginSlot","runAppleAmdDriverHelper","bindTechnique","$","ensureAttributeLocations","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","setUniform4fv","Z","setUniform1i","replace","V","drawArraysInstanced","primitiveType","B","transparent","z","U"],"sourceRoot":""}