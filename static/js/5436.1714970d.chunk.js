/*! For license information please see 5436.1714970d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcity_walk_app=self.webpackChunkcity_walk_app||[]).push([[5436],{65436:(e,t,i)=>{i.r(t),i.d(t,{CalciteInputTimeZone:()=>z,defineCustomElement:()=>E});var o=i(64843),a=i(41879),s=i(27885),n=i(3915),l=i(79846),c=i(83601),r=i(58867),m=i(40167),d=i(67126),h=i(16108),b=i(9778),u=i(3020),p=i(48799);const f="offset";function g(e){return e.replace(":15",".25").replace(":30",".5").replace(":45",".75").replace("\u2212","-")}async function v(e){if("offset"===e)return e=>e;const{normalize:t}=await Promise.all([i.e(9674),i.e(8462)]).then(i.bind(i,58462));return t}async function x(e,t,o,a,s){if("name"===o){const{groupByName:e}=await Promise.all([i.e(9674),i.e(5627)]).then(i.bind(i,25627));return(await e()).map((e=>{let{label:t}=e;return{label:C(t),value:t,metadata:{filterValue:t}}})).filter((e=>!!e)).sort()}const n="user"===s?e:"utc"===s?"fr":"en-GB",l=a.getTime();if("region"===o){const[{groupByRegion:e},{getCountry:o,global:a}]=await Promise.all([Promise.all([i.e(9674),i.e(7684)]).then(i.bind(i,77684)),Promise.all([i.e(9674),i.e(5785)]).then(i.bind(i,55785))]);return(await e()).map((e=>{let{label:i,tzs:s}=e;return s.sort(((e,i)=>{const o=I(e,t),a=I(i,t),s="Etc/GMT";if(e.startsWith(s)&&i.startsWith(s)){const t=e.substring(7),o=i.substring(7),a=""===t?0:parseInt(t);return(""===o?0:parseInt(o))-a}return o.localeCompare(a)})),{label:y(t,i),items:s.map((e=>{const s=g(Z(e,n,l)),c=I(e,t),r=i===a?`${I(a,t)} Etc`:C(e),m=o(e),d=y(t,m);return{label:c,value:e,metadata:{country:d===c?void 0:d,filterValue:r,offset:s}}}))}})).sort(((e,t)=>e.label===a?-1:t.label===a?1:e.label.localeCompare(t.label)))}const[{groupByOffset:c},{DateEngine:r}]=await Promise.all([Promise.all([i.e(9674),i.e(2753)]).then(i.bind(i,62753)),i.e(5122).then(i.bind(i,95122))]),m=await c({dateEngine:new r,groupDateRange:1,startDate:new Date(l).toISOString()}),d=new Intl.ListFormat(e,{style:"long",type:"conjunction"}),h=["Factory","Etc/UTC"];return m.forEach((e=>{const t=[];let i=0;e.tzs.forEach(((e,o)=>{h.includes(e)&&i++,t[o]=i})),e.tzs=e.tzs.filter((e=>!h.includes(e))),e.labelTzIdx=e.labelTzIdx.map((e=>e-t[e])).filter((t=>t>=0&&t<e.tzs.length))})),m.map((e=>{let{labelTzIdx:i,tzs:o}=e;const a=o[0],s=g(Z(a,n,l)),c=function(e,t){const i=Z(e,"en-US",t).replace("GMT","");return""===i?0:60*Number(g(i))}(a,l),r=i.map((e=>I(o[e],t))),m=function(e,t,i){return e.timeZoneLabel.replace("{offset}",t).replace("{cities}",i)}(t,s,d.format(r));return{label:m,value:c,metadata:{filterValue:o.map((e=>C(e)))}}})).filter((e=>!!e)).sort(((e,t)=>e.value-t.value))}function I(e,t){return t[e]||function(e){return e.split("/").pop()}(e)}function y(e,t){return e[t]||t}function C(e){return e.replace(/_/g," ")}function Z(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(0,n.b)(t,{timeZone:e,timeZoneName:"shortOffset"}).formatToParts(i).find((e=>{let{type:t}=e;return"timeZoneName"===t})).value}function T(e,t,i){return null==i?null:function(e){return void 0!==e[0].items?e.flatMap((e=>e.items)):e}(e).find((e=>e[t]==i))}const w=(0,o.w$)(class extends o.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputTimeZoneBeforeClose=(0,o.lh)(this,"calciteInputTimeZoneBeforeClose",6),this.calciteInputTimeZoneBeforeOpen=(0,o.lh)(this,"calciteInputTimeZoneBeforeOpen",6),this.calciteInputTimeZoneChange=(0,o.lh)(this,"calciteInputTimeZoneChange",6),this.calciteInputTimeZoneClose=(0,o.lh)(this,"calciteInputTimeZoneClose",6),this.calciteInputTimeZoneOpen=(0,o.lh)(this,"calciteInputTimeZoneOpen",6),this.setComboboxRef=e=>{this.comboboxEl=e},this.onComboboxBeforeClose=e=>{e.stopPropagation(),this.overrideSelectedLabelForRegion(!1),this.calciteInputTimeZoneBeforeClose.emit()},this.onComboboxBeforeOpen=e=>{e.stopPropagation(),this.overrideSelectedLabelForRegion(!0),this.calciteInputTimeZoneBeforeOpen.emit()},this.onComboboxChange=e=>{e.stopPropagation();const t=e.target.selectedItems[0];if(!t)return this.value=null,this.selectedTimeZoneItem=null,void this.calciteInputTimeZoneChange.emit();const i=this.findTimeZoneItemByLabel(t.getAttribute("data-label")),o=`${i.value}`;this.value===o&&i.label===this.selectedTimeZoneItem.label||(this.value=o,this.selectedTimeZoneItem=i,this.calciteInputTimeZoneChange.emit())},this.onComboboxClose=e=>{e.stopPropagation(),this.open=!1,this.calciteInputTimeZoneClose.emit()},this.onComboboxOpen=e=>{this.open=!0,e.stopPropagation(),this.calciteInputTimeZoneOpen.emit()},this.clearable=!1,this.disabled=!1,this.form=void 0,this.maxItems=0,this.messages=void 0,this.messageOverrides=void 0,this.mode="offset",this.offsetStyle="user",this.validationMessage=void 0,this.validationIcon=void 0,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.name=void 0,this.open=!1,this.overlayPositioning="absolute",this.referenceDate=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=void 0,this.readOnly=!1,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}handleTimeZoneItemPropsChange(){this.timeZoneItems&&(this.updateTimeZoneItems(),this.updateTimeZoneSelection())}openChanged(){this.comboboxEl.open=this.open}handleValueChange(e,t){if(!(e=this.normalizeValue(e)))return this.clearable?(this.value=e,void(this.selectedTimeZoneItem=null)):(this.value=t,void(this.selectedTimeZoneItem=this.findTimeZoneItem(t)));const i=this.findTimeZoneItem(e);i?this.selectedTimeZoneItem=i:this.value=t}async setFocus(){await(0,c.c)(this),await this.comboboxEl.setFocus()}effectiveLocaleWatcher(){(0,l.u)(this,this.effectiveLocale)}onLabelClick(){this.setFocus()}overrideSelectedLabelForRegion(e){if("region"!==this.mode||!this.selectedTimeZoneItem)return;const{label:t,metadata:i}=this.selectedTimeZoneItem;var o,a,s;this.comboboxEl.selectedItems[0].textLabel=!i.country||e?t:(o=t,a=i.country,(s=this.messages).timeZoneRegionLabel.replace("{city}",o).replace("{country}",y(s,a)))}findTimeZoneItem(e){return T(this.timeZoneItems,"value",e)}findTimeZoneItemByLabel(e){return T(this.timeZoneItems,"label",e)}async updateTimeZoneItems(){this.timeZoneItems=await this.createTimeZoneItems()}async updateTimeZoneSelection(){if(""===this.value&&this.clearable)return void(this.selectedTimeZoneItem=null);const e="offset"===this.mode?-1*(new Date).getTimezoneOffset():(new Intl.DateTimeFormat).resolvedOptions().timeZone,t=this.value??e;this.selectedTimeZoneItem=this.findTimeZoneItem(t)||this.findTimeZoneItem(e)}async createTimeZoneItems(){return this.effectiveLocale&&this.messages?x(this.effectiveLocale,this.messages,this.mode,this.referenceDate instanceof Date?this.referenceDate:new Date(this.referenceDate??Date.now()),this.offsetStyle):[]}connectedCallback(){(0,r.c)(this),(0,a.c)(this),(0,n.c)(this),(0,l.c)(this)}disconnectedCallback(){(0,r.d)(this),(0,a.d)(this),(0,n.d)(this),(0,l.d)(this)}normalizeValue(e){return(e=null===e?"":e)?this.normalizer(e):e}async componentWillLoad(){(0,c.s)(this);const[,e]=await Promise.all([(0,l.s)(this),v(this.mode)]);this.normalizer=e,await this.updateTimeZoneItems(),this.value=this.normalizeValue(this.value),await this.updateTimeZoneSelection();const t=this.selectedTimeZoneItem?`${this.selectedTimeZoneItem.value}`:null;(0,r.a)(this,t),this.value=t}componentDidLoad(){(0,c.a)(this),this.openChanged()}componentDidRender(){(0,s.u)(this),this.overrideSelectedLabelForRegion(this.open)}render(){return(0,o.h)(o.xr,{key:"b94fb2d93cdcaf0c44bbd2a0c7deaf59701078bf"},(0,o.h)(s.I,{key:"45246bbab441e9daf0e372832e74d7660039c770",disabled:this.disabled},(0,o.h)("calcite-combobox",{key:"294e44d8ab01079651c417f7808348e584f135b7",clearDisabled:!this.clearable,disabled:this.disabled,label:this.messages.chooseTimeZone,lang:this.effectiveLocale,maxItems:this.maxItems,onCalciteComboboxBeforeClose:this.onComboboxBeforeClose,onCalciteComboboxBeforeOpen:this.onComboboxBeforeOpen,onCalciteComboboxChange:this.onComboboxChange,onCalciteComboboxClose:this.onComboboxClose,onCalciteComboboxOpen:this.onComboboxOpen,overlayPositioning:this.overlayPositioning,placeholder:"name"===this.mode?this.messages.namePlaceholder:"offset"===this.mode?this.messages.offsetPlaceholder:this.messages.regionPlaceholder,placeholderIcon:"search",readOnly:this.readOnly,ref:this.setComboboxRef,scale:this.scale,selectionMode:this.clearable?"single":"single-persist",status:this.status,"validation-icon":this.validationIcon,"validation-message":this.validationMessage},this.renderItems()),(0,o.h)(r.H,{key:"0b7a0694166f1d5b36b780d3436dad15d466bc3c",component:this})))}renderItems(){return"region"===this.mode?this.renderRegionItems():this.timeZoneItems.map((e=>{const t=this.selectedTimeZoneItem===e,{label:i,metadata:a,value:s}=e;return(0,o.h)("calcite-combobox-item",{"data-label":i,key:i,metadata:a,selected:t,textLabel:i,value:s})}))}renderRegionItems(){return this.timeZoneItems.flatMap((e=>{let{label:t,items:i}=e;return(0,o.h)("calcite-combobox-item-group",{key:t,label:t},i.map((e=>{const t=this.selectedTimeZoneItem===e,{label:i,metadata:a,value:s}=e;return(0,o.h)("calcite-combobox-item",{"data-label":i,description:a.country,key:i,metadata:a,selected:t,textLabel:i,value:s},(0,o.h)("span",{class:f,slot:"content-end"},a.offset))})))}))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],open:["openChanged"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}.offset{white-space:nowrap}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}"}},[17,"calcite-input-time-zone",{clearable:[516],disabled:[516],form:[513],maxItems:[514,"max-items"],messages:[1040],messageOverrides:[1040],mode:[513],offsetStyle:[513,"offset-style"],validationMessage:[1,"validation-message"],validationIcon:[520,"validation-icon"],validity:[1040],name:[513],open:[1540],overlayPositioning:[513,"overlay-positioning"],referenceDate:[1,"reference-date"],required:[516],scale:[513],status:[513],value:[1025],readOnly:[516,"read-only"],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],open:["openChanged"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}]);function k(){if("undefined"===typeof customElements)return;["calcite-input-time-zone","calcite-chip","calcite-combobox","calcite-combobox-item","calcite-combobox-item-group","calcite-icon","calcite-input-message"].forEach((e=>{switch(e){case"calcite-input-time-zone":customElements.get(e)||customElements.define(e,w);break;case"calcite-chip":customElements.get(e)||(0,m.d)();break;case"calcite-combobox":customElements.get(e)||(0,d.d)();break;case"calcite-combobox-item":customElements.get(e)||(0,h.d)();break;case"calcite-combobox-item-group":customElements.get(e)||(0,b.d)();break;case"calcite-icon":customElements.get(e)||(0,u.d)();break;case"calcite-input-message":customElements.get(e)||(0,p.d)()}}))}k();const z=w,E=k},9778:(e,t,i)=>{i.d(t,{C:()=>r,d:()=>m});var o=i(64843),a=i(95776),s=i(284);const n="list",l="label",c="title",r=(0,o.w$)(class extends o.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.guid=(0,a.g)(),this.afterEmptyGroup=!1,this.ancestors=void 0,this.label=void 0,this.scale="m"}connectedCallback(){this.ancestors=(0,s.f)(this.el)}render(){const{el:e,scale:t}=this,i=(0,s.j)(e);return(0,o.h)("ul",{key:"32cc4bb7e8e551213c7b3aea1ee6c9907a93dc8b","aria-labelledby":this.guid,class:{[n]:!0,[`scale--${t}`]:!0},role:"group"},(0,o.h)("li",{key:"7bad1e784bd918befdeccba34625d9404f610a91",class:{[l]:!0},id:this.guid,role:"presentation",style:{"--calcite-combobox-item-spacing-indent-multiplier":`${i}`}},(0,o.h)("span",{key:"9cfc56d414a465bb5d5e5beec561f5149779b31c",class:c},this.label)),(0,o.h)("slot",{key:"ec83330096f7031828f4b58cf2ee94611a9fddfe"}))}get el(){return this}static get style(){return".scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent:1rem}:host,.list{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),.list:focus{outline:2px solid transparent;outline-offset:2px}.label{box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:0px;max-inline-size:100%;color:var(--calcite-color-text-3)}.title{--calcite-combobox-item-indent-value:calc(\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\n  );border:0 solid;display:block;flex:1 1 0%;border-block-end-width:1px;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-text-2);word-wrap:break-word;word-break:break-word;border-block-end-color:var(--calcite-color-border-3);padding-block:var(--calcite-combobox-item-spacing-unit-l);padding-inline:var(--calcite-combobox-item-spacing-unit-s);margin-inline-start:var(--calcite-combobox-item-indent-value)}::slotted(calcite-combobox-item-group:not([after-empty-group])){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-combobox-item-group",{afterEmptyGroup:[516,"after-empty-group"],ancestors:[1040],label:[1],scale:[1]}]);function m(){if("undefined"===typeof customElements)return;["calcite-combobox-item-group"].forEach((e=>{if("calcite-combobox-item-group"===e)customElements.get(e)||customElements.define(e,r)}))}m()}}]);
//# sourceMappingURL=5436.1714970d.chunk.js.map