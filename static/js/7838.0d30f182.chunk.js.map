{"version":3,"file":"static/js/7838.0d30f182.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js","../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../node_modules/@arcgis/core/views/3d/environment/weather.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../node_modules/@arcgis/core/views/3d/terrain/Intersector.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as g}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as b}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function m(m){const u=new c,{vertex:p,fragment:w,attributes:f,varyings:h}=u;n(p,m),u.include(o,m),u.include(l,m),u.include(t,m),u.include(i,m),u.include(r,m),u.include(b,m),f.add(v.POSITION,\"vec3\"),m.vvColor&&f.add(v.COLORFEATUREATTRIBUTE,\"float\"),h.add(\"vColor\",\"vec4\"),h.add(\"vpos\",\"vec3\");const C=m.terrainDepthTest&&m.output===e.Color;return C&&h.add(\"depth\",\"float\"),p.uniforms.add(new a(\"eColor\",(e=>e.color))),p.main.add(g`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${m.hasVertexColors?\"vColor *= eColor;\":m.vvColor?\"vColor = eColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = eColor;\"}\n      ${C?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      gl_Position = transformPosition(proj, view, vpos);`),u.include(r,m),C&&u.include(s,m),w.include(d),w.main.add(g`\n    discardBySlice(vpos);\n    ${C?\"terrainDepthTest(depth);\":\"\"}\n    vec4 fColor = vColor;\n    outputColorHighlightOID(fColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:\"Module\"}));export{u as C,m as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as l}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{IntegerPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";function r(){const r=new n;r.include(e);const{fragment:c}=r;return c.uniforms.add(new a(\"highlightTexture\",(e=>e.highlightTexture)),new a(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new i(\"pixelRatio\",(e=>e.pixelRatio)),new i(\"occludedIntensityFactor\",(e=>e.occludedFactor)),new t(\"maxHighlightLevel\",(e=>e.maxHighlightLevel))),c.constants.add(\"pixelSampleScale\",\"float\",1),r.include(l),c.code.add(o`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);\nconst float denom17 =  65536.0;\nfloat colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nvoid applyTexel(vec2 texel, float weight) {\nif (texel != vec2(0.0)){\nint maxChannel = (maxHighlightLevel >> 2) & 1;\nfor (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){\nuint channel = readChannel(texel, channelIndex << 2);\nint firstIndex = channelIndex << 2;\nint maxIndex  = min(firstIndex + 3, maxHighlightLevel);\nfor (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {\nuint v = readChannelBits(channel, highlightIndex);\nif ((v & 1u) == 1u){\ncolorWeight[highlightIndex] += weight;\nif ((v & 2u) == 2u){\ncolorOcclusion[highlightIndex] += weight;\n}\n}\n}\n}\n}\n}\nvec2 readTexel(ivec2 iuv, int du, int dv) {\nreturn texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;\n}\nvoid readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {\nvec2 texel = readTexel(iuv, du, dv);\napplyTexel(texel, weight);\n}\nvoid readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {\nreadAndApplyTexel(iuv, -du, dv, weight);\nreadAndApplyTexel(iuv, +du, dv, weight);\n}\nfloat getWeight(int pixelDistance) {\nfloat scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;\nfloat d0f = floor(scaledDistance);\nint d0 = int(d0f);\nif (d0 >= 8){\nreturn 0.0;\n}\nfloat w0 = pascal17[d0];\nfloat w1 = pascal17[d0+1];\nfloat f =  scaledDistance - d0f;\nreturn mix(w0, w1, f);\n}`),c.main.add(o`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nivec2 iuv = ivec2(sUV * highlightTextureSize);\nvec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;\nbool outlinePossible = false;\nif (vOutlinePossible > 0.0){\nfor (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {\nif ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {\noutlinePossible = true;\nbreak;\n}\n}\n}\nif (outlinePossible) {\nint maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);\nfloat weightSum = 0.0;\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nfloat w = getWeight(y);\nweights[y] = w;\nweightSum += w * (y == 0 ? 1.0 : 2.0);\n}\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nweights[y] = weights[y] / weightSum;\n}\nfloat weight0 = weights[0];\napplyTexel(centerTexel, weight0 * weight0);\nfor(int y = 0; y <= maxPixelDistance; y += 1) {\nfloat yFactor = weights[y];\nif (y != 0) {\nfloat xFactor = weight0;\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApplyTexel(iuv, 0, +y, weight);\nreadAndApplyTexel(iuv, 0, -y, weight);\n}\n}\nfor(int x = 1; x <= maxPixelDistance; x += 1) {\nfloat xFactor = weights[x];\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApply2TexelsU(iuv, x, +y, weight);\nif (y != 0){\nreadAndApply2TexelsU(iuv, x, -y, weight);\n}\n}\n}\n}\n} else {\napplyTexel(centerTexel, 1.0);\n}\nint frontColorIndex = 999;\nint maxColorIndex = 0;\nfor (int i = 0; i <= maxHighlightLevel; ++i) {\nif (colorWeight[i] > 0.0){\nfrontColorIndex = min(frontColorIndex, i);\nmaxColorIndex = max(maxColorIndex, i);\n}\n}\nif (frontColorIndex == 999){\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 accumulatedColor = vec4(0.0);\nfor (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {\nfloat curColorWeight = colorWeight[curColorIndex];\nif (curColorWeight <= 0.01){\ncontinue;\n}\nuint vc = readLevelBits(centerTexel, curColorIndex);\nbool centerFilled = (vc & 1u) == 1u;\nbool centerOccluded = (vc & 3u) == 3u;\nfloat curColorOcclusion = colorOcclusion[curColorIndex];\nbool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;\nint colorChannel = centerFilled ? 0 : 1;\nvec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);\nfloat intensity = colorBase.a * occlusionFactor * outlineFactor;\nvec3 currentColor = colorBase.rgb;\nfloat a0 = accumulatedColor.a;\nfloat a1 = intensity;\nfloat alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);\nif (alpha > 0.001){\nvec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;\naccumulatedColor = vec4(blendedColor, alpha);\n}\n}\nfragColor = accumulatedColor;`),r}const c=Object.freeze(Object.defineProperty({__proto__:null,build:r},Symbol.toStringTag,{value:\"Module\"}));export{c as H,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{NoParameters as r,glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DDrawUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";class o extends r{}function a(){const r=new i,{outputs:o,fragment:a}=r;return r.include(e),a.uniforms.add(new n(\"textureInput\",(e=>e.input))),a.constants.add(\"outlineWidth\",\"int\",Math.ceil(c)),a.constants.add(\"cellSize\",\"int\",l),o.add(\"fragGrid\",\"vec2\"),a.main.add(t`vec2 inputTextureSize = vec2(textureSize(textureInput, 0));\nvec2 cellBottomLeftCornerInput = floor(gl_FragCoord.xy) * vec2(cellSize);\nvec2 coordMid =  (cellBottomLeftCornerInput + 0.5 * vec2(cellSize)) / inputTextureSize;\nvec2 commonValue = texture(textureInput, coordMid).rg;\nint margin = outlineWidth;\nfloat marginSquare = float(margin*margin);\nfor(int y = -margin; y <= cellSize + margin; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : margin;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nvec2 coord = (cellBottomLeftCornerInput + vec2(x, y)) / inputTextureSize;\nvec2 value = texture(textureInput, coord).rg;\nif (value != commonValue){\nfragGrid = vec2(1.0, 1.0);\nreturn;\n}\n}\n}\nbool hasAny = commonValue != vec2(0.0);\nfragGrid = vec2(hasAny ? 1.0 : 0.0, 0.0);`),r}const l=32,c=9,u=.4,d=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:o,blurSize:u,build:a,gridCellPixelSize:l,outlineSize:c},Symbol.toStringTag,{value:\"Module\"}));export{o as H,d as a,u as b,a as c,l as g,c as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as g}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";function h(){const h=new g;h.include(e),h.include(i);const{fragment:s}=h;return h.outputs.add(\"fragSingleHighlight\",\"vec2\",0),s.uniforms.add(new t(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"maxHighlightLevel\",(e=>e.maxHighlightLevel)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.include(i),s.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),h}const s=Object.freeze(Object.defineProperty({__proto__:null,build:h},Symbol.toStringTag,{value:\"Module\"}));export{s as H,h as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{IntegerPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{NoParameters as a,glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";class d extends a{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new s(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(n`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{IntegerPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as u,b as h}from\"./HighlightDownsample.glsl.js\";function s(){const s=new n;s.include(e);const{fragment:c}=s;return c.uniforms.add(new g(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new g(\"highlightTexture\",(e=>e.highlightTexture)),new g(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new r(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(u-h)/u),s.include(t),c.main.add(o`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{NoParameters as u,glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DDrawUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";class n extends u{constructor(){super(...arguments),this.blurSize=e()}}function o(){const e=new l;return e.include(r),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new s(\"blurInput\",(e=>e.blurInput))),e.outputs.add(\"fragSingleHighlight\",\"vec2\",0),e.fragment.main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nif (vOutlinePossible == 0.0) {\nfragSingleHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfragSingleHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:\"Module\"}));export{n as S,g as a,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{NoParameters as s,glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";class a extends s{constructor(){super(...arguments),this.color=e(1,1,1)}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new i(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(t`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const d=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:l},Symbol.toStringTag,{value:\"Module\"}));export{a as T,d as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,h as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-P||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(C,this.parallax.anchorPoint,v),s(this.parallax.transform,i,v[3],p(v)),f(C,this.parallaxNew.anchorPoint,v),s(this.parallaxNew.transform,i,v[3],p(v))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const C=u(0,0,1),v=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([t({cloudy:\"cloudy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([s(\"esri.views.3d.environment.CloudyWeather\")],p);const u=p;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([e({foggy:\"foggy\"})],c.prototype,\"type\",void 0),o([t({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IntersectorType as e}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{Graphic3DTarget as r}from\"../webgl-engine/lib/IntersectorTarget.js\";import{isValidIntersectorResult as t}from\"../webgl-engine/lib/intersectorUtils.js\";function n(r){return t(r)&&r.intersector===e.TERRAIN&&!!r.target}class i extends r{constructor(e,r,t){super(e,r),this.triangleNr=t}}function o(r){return t(r)&&r.intersector===e.OVERLAY&&!!r.target}export{i as OverlayTarget,o as isOverlayIntersectorResult,n as isTerrainIntersectorResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl/formats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ShaderOutput as t}from\"../shaderLibrary/ShaderOutput.js\";import{VertexNormalPassParameters as i,VertexNormalDrawParameters as r}from\"../shaderLibrary/attributes/VertexNormal.glsl.js\";class e extends i{constructor(){super(...arguments),this.slicePlaneLocalOrigin=s(),this.origin=this.slicePlaneLocalOrigin,this.modelTransformation=null}}class a extends r{}var o;!function(s){s[s.Material=0]=\"Material\",s[s.ShadowMap=1]=\"ShadowMap\",s[s.Highlight=2]=\"Highlight\",s[s.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(o||(o={}));class h extends e{constructor(){super(...arguments),this.identifier=o.Material,this.output=t.Color,this.transparent=!1}}class l extends e{constructor(){super(...arguments),this.identifier=o.ShadowMap}}class n extends e{constructor(){super(...arguments),this.identifier=o.Highlight}}class c extends e{constructor(){super(...arguments),this.identifier=o.ViewshedShadowMap}}export{a as DrawParameters,n as HighlightPassParameters,h as MaterialPassParameters,e as PassParameters,o as RenderPassIdentifier,l as ShadowMapPassParameters,c as ViewshedShadowMapPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/AllRenderPasses.js\";import{ShaderOutput as n}from\"../ShaderOutput.js\";import{addMainLightDirection as s,addMainLightIntensity as v}from\"../shading/MainLighting.glsl.js\";import{PBRMode as d}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as c}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as x}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as u}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as y}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as m}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as p}from\"../../shaderModules/Uniform.js\";var f;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new x(\"overlayTexOffset\",((e,o)=>T(e,o))),new x(\"overlayTexScale\",((e,o)=>V(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new m(\"ovColorTex\",((e,o)=>h(e,o)))),O(e,o)}function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new I(\"overlayTexOffset\"),new I(\"overlayTexScale\")),t.uniforms.add(new u(\"overlayOpacity\",(e=>e.overlayOpacity)),new m(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),O(e,o)}function O(e,o){const r=o.pbrMode===d.Water||o.pbrMode===d.WaterOnIntegratedMesh||o.pbrMode===d.TerrainWithWater;r&&e.include(c,o);const{vertex:t,fragment:a}=e;e.varyings.add(\"vtcOverlay\",\"vec4\"),t.code.add(y`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(y`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(y`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(y`vec4 getOverlayColorTexel(vec4 texCoords) {\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(y`vec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = vec2(uvInner.x * 0.5,       uvInner.y);\nvec2 texelCoordOuter = vec2(uvOuter.x * 0.5 + 0.5, uvOuter.y);\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;\nvec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nvec2(0.0);\n}`),r&&(s(a),v(a),a.code.add(y`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function h(e,o){return e.identifier===i.Material&&e.output===n.Color?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===n.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function T(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(b[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),b[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(b[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),b[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),b}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(b[0]=e.toMapSpace[2]/r(i),b[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(b[2]=e.toMapSpace[2]/r(n),b[3]=e.toMapSpace[3]/t(n)),b}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(f||(f={}));const b=e();class I extends p{constructor(e){super(e,\"vec4\")}}export{C as OverlayIM,f as OverlayMode,g as OverlayTerrain,h as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as s,defaultColorWrite as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o,s){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))),s)}initializePipeline(){return o({blending:s,colorWrite:l})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s,i){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))),i)}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{NoParameters as t}from\"../../core/shaderModules/interfaces.js\";import{defaultOccludedFactor as e}from\"../../../../support/HighlightDefaults.js\";class i extends t{constructor(){super(...arguments),this.occludedFactor=e,this.maxHighlightLevel=1,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{i as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o,s){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))),s)}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as i}from\"../../../../../chunks/SingleHighlightApply.glsl.js\";import{makePipelineState as l,premultipliedAlphaToPremultipliedAlpha as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,l,o){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightApply.glsl.js\"))),o)}initializePipeline(){return l({blending:o,colorWrite:s})}}export{t as SingleHighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWrite as o}from\"../../../../webgl/renderState.js\";class s extends r{constructor(r,l,o){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightBlur.glsl.js\"))),o)}initializePipeline(){return l({colorWrite:o})}}export{s as SingleHighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[],o=[new t(e.POSITION,3,r.FLOAT,0,12)],m=[new t(e.POSITION,2,r.FLOAT,0,8)],n=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{O as NoVertex,m as Pos2,n as Pos2Tex,o as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import has from\"../../../../../core/has.js\";import{disposeMaybe as t,releaseMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as n}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as h}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as c}from\"../../../webgl/formats.js\";import u from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as g}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as p}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as m}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as T}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as b}from\"../../lib/basicInterfaces.js\";import{Default3D as x}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as w}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as v,g as C}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as q}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{maximumHighlights as H}from\"../../../../support/HighlightDefaults.js\";import{BufferObject as j}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as y,TextureSamplingMode as D,FramebufferBit as P,Usage as R,TextureType as S,PrimitiveType as A,DataType as O}from\"../../../../webgl/enums.js\";import{Texture as M}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as I}from\"../../../../webgl/TextureDescriptor.js\";let G=class extends u{constructor(e){super(e),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this.useMultipleHighlights=!!has(\"enable-feature:multiple-highlights\"),this._optionsTexture=null,this._downsampleDrawParameters=new v,this._passParameters=new m,this._singleHighlightBlurDrawParameters=new q,this._grid=new L,e.techniques.precompile(p),this.useMultipleHighlights?e.techniques.precompile(g):(e.techniques.precompile(d),e.techniques.precompile(T),e.techniques.precompile(f))}initialize(){this.addHandles([r((()=>F(this.view.highlights)),(()=>{this._optionsTexture=t(this._optionsTexture),this.requestRender(b.UPDATE)}),s)])}destroy(){this._passParameters&&(this._passParameters.highlightOptionsTexture=null),this._grid.coverage=i(this._grid.coverage),this._grid.vao=t(this._grid.vao),this._optionsTexture=i(this._optionsTexture)}_updateOptionsTexture(e){const t=this.renderingContext;let i=this._optionsTexture;if(null==i){const e=new I(16,2);e.internalFormat=y.RGBA,e.samplingMode=D.NEAREST,i=new M(t,e,null),this._optionsTexture=i}i.setData(e),this._passParameters.highlightOptionsTexture=i}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const l=i.acquire(p);if(!l.compiled)return l.release(),this.requestRender(b.UPDATE),t;const n=e.find((({name:e})=>\"highlights\"===e)).getTexture(),h=()=>{const{highlights:e}=this.view;this._optionsTexture||this._updateOptionsTexture(E(e)),s.highlightOptionsTexture=this._optionsTexture,this._gridUpdateResources(n);const t=this._gridComputeCoverage(l,n,r);l.release();const{horizontalCellCount:i,verticalCellCount:o}=t;return s.horizontalCellCount=i,s.verticalCellCount=o,s.coverageTexture=t.coverage?.getTexture(),t},c=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(A.TRIANGLES,6,O.UNSIGNED_BYTE,0,t)},{camera:u}=r,g=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(u.fullViewport)};return this.useMultipleHighlights?this._renderMultiple(n,h,c,g):this._renderSingle(n,h,c,g),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:l,renderingContext:n}=this,h=s.acquire(g);if(!h.compiled)return h.release(),void this.requestRender(b.UPDATE);const a=t();l.highlightTexture=e,l.pixelRatio=o.camera.pixelRatio,l.maxHighlightLevel=k(this.view.highlights)-1,n.bindTechnique(h,o,l),r(),i(a),h.release()}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:l,_passParameters:h,renderingContext:a}=this,u=o.acquire(d),g=o.acquire(T),p=o.acquire(f);if(!p.compiled||!g.compiled||!u.compiled)return p.release(),g.release(),u.release(),void this.requestRender(b.UPDATE);const m=t(),{width:x,height:w}=e.descriptor;h.maxHighlightLevel=k(this.view.highlights)-1,h.highlightTexture=e;const{camera:_}=l,{fullWidth:v,fullHeight:C,pixelRatio:q}=_,H=Math.ceil(v/q),j=Math.ceil(C/q),{_singleHighlightBlurDrawParameters:y}=this;for(let d=0;d<=h.maxHighlightLevel;++d){h.highlightLevel=d,a.setClearColor(0,0,0,0);const e=s.acquire(x,w,\"single highlight\",c.RG);a.bindFramebuffer(e.fbo),a.setViewport(0,0,x,w),a.clear(P.COLOR),a.bindTechnique(u,l,h),i(m),y.blurInput=e.getTexture(),n(y.blurSize,1/H,0);const t=s.acquire(H,j,\"single highlight blur h\",c.RG);a.unbindTexture(t.fbo?.colorTexture),a.bindFramebuffer(t.fbo),a.setViewport(0,0,H,j),a.clear(P.COLOR),y.blurInput=e.getTexture(),n(y.blurSize,1/H,0),a.bindTechnique(g,l,h,y),i(m),e.release(),n(y.blurSize,0,1/j),h.singleHighlightBlurTexture=t.getTexture(),r(),a.bindTechnique(p,l,h,y),i(m),t.release()}u.release(),g.release(),p.release()}_gridUpdateResources(e){const t=this.renderingContext,i=this._grid,{width:r,height:s}=e.descriptor;if(i.horizontalCellCount=Math.ceil(r/C),i.verticalCellCount=Math.ceil(s/C),i.vao)return;const o=j.createIndex(t,R.STATIC_DRAW,N);i.vao=new _(t,x,new Map([[\"geometry\",w]]),new Map([[\"geometry\",j.createVertex(t,R.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,l=Math.ceil(o.width/C),n=Math.ceil(o.height/C);this._downsampleDrawParameters.input=t,s.coverage?.release();const h=this.fboCache.acquire(l,n,\"highlight coverage\",c.RG);return s.coverage=h,r.bindFramebuffer(h.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,l,n),r.screen.draw(),s}get test(){}};e([o()],G.prototype,\"produces\",void 0),e([o()],G.prototype,\"consumes\",void 0),e([o({constructOnly:!0})],G.prototype,\"techniques\",void 0),G=e([l(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],G);class L{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function E(e){const t=new Uint8Array(128),i=(e,i)=>{t[e]=i},r=(e,t)=>{const r=4*e,s=4*e+64,{color:o}=t,l=t.haloColor??o;i(r+0,o.r),i(r+1,o.g),i(r+2,o.b),i(r+3,t.fillOpacity*o.a*255),i(s+0,l.r),i(s+1,l.g),i(s+2,l.b),i(s+3,t.haloOpacity*l.a*255)};return V(e,((e,t)=>{r(t,e.options)})),t}const z=new Array(H),U=new Array(H);function V(e,t){const i=Math.min(e.length,H);let r=H;for(let o=i-1;o>=0;--o){const t=e.at(o);if(t){const e=t.name;z.includes(e,r)||(--r,z[r]=e,U[r]=o)}}const s=H-r;for(let o=0;o<s;++o){const i=U[H-s+o];t(e.at(i),o)}}let B=0;function F(e){let t=0;const i=Math.min(H,e.length);for(let r=0;r<i;++r){const i=e.at(r);if(i){const{name:e,options:r}=i;t+=e.length;const{color:s,fillOpacity:o,haloColor:l,haloOpacity:n}=r;t+=s.r+(l?.r??1)+o+n}}{const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i.options;t+=e+r+s.r}}return B+++(t>=0?0:1)}const N=new Uint8Array([0,1,2,2,1,3]);function W(e,t,i,r,s,o,l=0,a){const{highlightGroupIndices:u}=s;u.clear();const g=[];V(r,(e=>{const{name:t}=e;u.set(t,g.length),g.push(t)}));const p=u.size,{gl:m}=e;n(s.highlightMixOrigin,l,0);let d=null;p>1&&(d=t.acquire(i.width,i.height,\"highlight mix\",c.RG),e.bindFramebuffer(d.fbo),e.clearFramebuffer(h));const f=d?.getTexture()??null;s.highlightMixTexture=f,a();for(let n=0;n<p;++n)n>0&&(e.bindTexture(f,0),m.copyTexSubImage2D(S.TEXTURE_2D,0,0,0,l,0,i.width,i.height),e.bindTexture(null,0)),e.clear(P.DEPTH),s.highlightLevel=n,s.highlightGroupName=g[n],o();d?.release()}function k(e){const t=new Set;for(let i=0;i<H;++i){const r=e.at(i)?.name;r&&t.add(r)}return t.size}export{G as Highlight,W as renderHighlightBuffer,F as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{assert as i}from\"./Util.js\";class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,i(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{s as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as e}from\"../../environment/CloudsParameters.js\";import h from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as o}from\"../lighting/SceneLighting.js\";class a{constructor(i,t){this.width=i,this.height=t}}class l{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new h,this._inverseViewport=t(),this._oldLighting=new o,this._newLighting=new o,this._fadedLighting=new o,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlightMixTexture=null,this.highlightGroupName=null,this.highlightGroupIndices=new Map,this.highlightLevel=0,this.highlightMixOrigin=t(),this.hudRenderStyle=s.Occluded,this.clouds=new e,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,e,h){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=e,this._newLighting.set(i),h===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{l as BindParameters,a as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as s}from\"./BindParameters.js\";import{RenderOccludedFlag as i}from\"./Material.js\";class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=o,this.bind=new s(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=r(0)}}const o=i.Occlude|i.OccludeAndTransparent|i.OccludeAndTransparentStencil;export{a as OverlayRenderContext,n as RenderContext,o as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as m,scale as u,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as C,c as j,v as T,t as y,i as D}from\"../../../../chunks/vec32.js\";import{create as H}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as v,t as S}from\"../../../../chunks/vec42.js\";import{create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{ColorFormat as E,DepthFormat as U}from\"../../webgl/formats.js\";import{CascadeCamera as F}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as L,applyTextureResizeFloorModulo as Q}from\"./textureUtils.js\";import{assert as V,logWithBase as N,verify as A,rayRay2D as B}from\"./Util.js\";import{TextureType as I,FramebufferBit as W}from\"../../../webgl/enums.js\";import{Texture as z}from\"../../../webgl/Texture.js\";var P;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(P||(P={}));class q{constructor(){this.camera=new F,this.lightMat=l()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=R(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return v(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=i(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){V(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){V(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||H(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){V(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?\"shadow highlight snapshot\":\"shadow no highlight snapshot\";this._snapshots[t]=this._fbos.acquire(e,i,a,E.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),z.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,z.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(W.COLOR|W.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=L(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return Q(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,\"shadow map\",E.RGBA4)),this._handle?.acquireDepth(U.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);V(c<l);for(let r=0;r<8;++r){v(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];S(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}T(et,K[0]),a.camera.viewMatrix=r(k,this._modelViewLight,et);for(let r=0;r<8;++r)y(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===O.Global?t.eye:D(et,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=l(),J=R(),K=[];for(let yt=0;yt<8;++yt)K.push(R());const Y=M(),Z=M(),$=M(),tt=M(),st=M(),et=H(),it=[],at=l(),rt=c.concat(c,c,c,c),ht=M(),ot=M(),nt=[M(),M(),M(),M()],ct=M(),lt=M(),dt=M(),mt=M(),ut=M(),_t=M(),ft=M();function gt(t,s,e,i,a,r,h,o){d(ht,0,0);for(let d=0;d<4;++d)m(ht,ht,t[d]);u(ht,ht,.25),d(ot,0,0);for(let d=4;d<8;++d)m(ot,ot,t[d]);u(ot,ot,.25),_(nt[0],t[4],t[5],.5),_(nt[1],t[5],t[6],.5),_(nt[2],t[6],t[7],.5),_(nt[3],t[7],t[4],.5);let n=0,c=f(nt[0],ht);for(let d=1;d<4;++d){const t=f(nt[d],ht);t<c&&(c=t,n=d)}g(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,g(lt,ot,ht),p(lt,ct)<0&&x(ct,ct),_(ct,ct,lt,e),b(ct,ct),M=C=p(g(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=p(g(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}w(i,ht),u(dt,ct,M-s),m(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){g(mt,t[d],i),b(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}A(j>0,\"leftArea\"),A(T<0,\"rightArea\"),u(ut,ct,M),m(ut,ut,ht),u(_t,ct,C),m(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=B(i,t[D],_t,m(dt,_t,ft),1,a),v=B(i,t[y],_t,dt,1,r),S=B(i,t[y],ut,m(dt,ut,ft),1,h),R=B(i,t[D],ut,dt,1,o);A(H,\"rayRay\"),A(v,\"rayRay\"),A(S,\"rayRay\"),A(R,\"rayRay\")}function pt(t,s){return 3*s+t}const xt=M();function bt(t,s){return d(xt,t[s],t[s+3]),xt}const wt=M(),Mt=a();function Ct(t,s,e,i,a){g(wt,e,i),u(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-p(bt(Mt,0),t),Mt[pt(1,2)]=-p(bt(Mt,1),t);let r=p(bt(Mt,0),e)+Mt[pt(0,2)],h=p(bt(Mt,1),e)+Mt[pt(1,2)],o=p(bt(Mt,0),i)+Mt[pt(0,2)],n=p(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/(p(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/(p(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=p(bt(Mt,1),e)+Mt[pt(1,2)],n=p(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];V(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{X as ShadowMap,P as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";import s from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{a}from\"../../../../chunks/sphere.js\";import{OverlayTarget as d}from\"../../terrain/Intersector.js\";import{ShaderOutput as h}from\"../core/shaderLibrary/ShaderOutput.js\";import{releaseTechniques as l}from\"../effects/RenderPlugin.js\";import{ChangeSet as c}from\"./ChangeSet.js\";import{newIntersectorResult as p}from\"./Intersector.js\";import{StoreResults as m,IntersectorType as u}from\"./IntersectorInterfaces.js\";import{RenderOccludedFlag as g}from\"./Material.js\";import{DirtyOperation as _,DirtyState as y}from\"./ModelDirtyTypes.js\";import{splitRenderGeometryChangeSetByMaterial as f}from\"./rendererUtils.js\";import{RenderSlot as R}from\"./RenderSlot.js\";import{MergedRenderer as G}from\"../materials/renderers/MergedRenderer.js\";let v=class extends r{constructor(e){super(e),this._pending=new C,this._changes=new c,this._renderers=new Map,this._sortedRenderers=new s,this._geometries=new Map,this._hasHighlights=!1,this._hasWater=!1}destroy(){this._changes.prune(),this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._sortedRenderers.clear(),this._geometries.clear(),this._pending.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get rctx(){return this.rendererContext.rctx}get _materials(){return this.rendererContext.materials}get _localOriginFactory(){return this.rendererContext.localOriginFactory}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccludedDraped(){for(const e of this._renderers.values())if(0!==e.numGeometries&&!e.queryRenderOccludedState(g.Occlude))return!0;return!1}get isEmpty(){return!this.updating&&0===this._renderers.size&&0===this._geometries.size}getMaterialRenderer(e){return this._renderers.get(e)}get sortedRenderers(){return this._sortedRenderers}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=f(this._changes);let r=!1;return e.forEach(((e,t)=>{let s=this._renderers.get(t);!s&&e.adds.length>0&&(s=new G({material:t}),s.initializeRenderContext(this.rendererContext.pluginContext,this._materials),this._renderers.set(t,s),r=!0),s&&(s.modify(e),0===s.numGeometries&&(this._renderers.delete(t),s.destroy(),r=!0))})),this._changes.clear(),r&&this._updateSortedMaterialRenderers(),this._hasHighlights=t(this._renderers,(e=>{const r=e.produces.get(R.DRAPED_MATERIAL);return!!r&&r(h.Highlight)})),this._hasWater=t(this._renderers,(e=>{const r=e.produces.get(R.DRAPED_WATER);return!!r&&r(h.Normal)})),this.notifyChange(\"updating\"),!0}addGeometries(e,r){if(0===e.length)return;const t=this._validateRenderGeometries(e);for(const i of t)this._geometries.set(i.id,i);const s=this._pending.empty;for(const i of t)this._pending.adds.add(i);s&&this.notifyChange(\"updating\"),r===_.UPDATE&&this._notifyGraphicGeometryChanged(e)}removeGeometries(e,r){const t=this._pending.empty,s=this._pending.adds;for(const i of e)s.has(i)?(this._pending.removed.add(i),s.delete(i)):this._pending.removed.has(i)||this._pending.removes.add(i),this._geometries.delete(i.id);t&&!this._pending.empty&&this.notifyChange(\"updating\"),r===_.UPDATE&&this._notifyGraphicGeometryChanged(e)}modifyGeometries(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=this._validateRenderGeometry(s),e.updateType=r}switch(t&&this._changes.updates.length>0&&this.notifyChange(\"updating\"),r){case y.TRANSFORMATION:case y.GEOMETRY:return this._notifyGraphicGeometryChanged(e);case y.VISIBILITY:return this._notifyGraphicVisibilityChanged(e)}}updateAnimation(e){let r=!1;return this._sortedRenderers.forAll((t=>r=!!t.updateAnimation&&t.updateAnimation(e)||r)),r}precompile(e){return this._sortedRenderers.reduce(((r,t)=>t.precompile(e)||r),!1)}render(e){this._sortedRenderers.forAll((r=>{const t=r.acquireTechniques(e);t&&(r.render(e,t),l(t))}))}intersect(e,r,t,s,i){for(const n of this._geometries.values()){if(!s(n))continue;this._intersectRenderGeometry(n,t,r,0,e,i);const o=this.rendererContext.longitudeCyclical;o&&(n.boundingSphere[0]-n.boundingSphere[3]<o.min&&this._intersectRenderGeometry(n,t,r,o.range,e,i),n.boundingSphere[0]+n.boundingSphere[3]>o.max&&this._intersectRenderGeometry(n,t,r,-o.range,e,i)),i++}return i}_updateSortedMaterialRenderers(){this._sortedRenderers.clear();let e=0;for(const r of this._renderers.values())r.drapedPriority=e++,this._sortedRenderers.push(r);this._sortedRenderers.sort(((e,r)=>r.material?.renderPriority===e.material?.renderPriority?e.drapedPriority-r.drapedPriority:(r.material?.renderPriority||0)-(e.material?.renderPriority||0)))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes)),this._changes.updates.filterInPlace((({renderGeometry:e})=>!this._pending.has(e))),this._pending.clear()}_intersectRenderGeometry(e,r,t,s,i,n){if(!e.visible||!e.material.visible)return;let o=0;s+=e.transformation[12],o=e.transformation[13],S[0]=t[0]-s,S[1]=t[1]-o,e.screenToWorldRatio=this.rendererContext.screenToWorldRatio,e.material.intersectDraped(e,null,i,S,((t,s,o)=>{A(r,o,n,e.material.renderPriority,i,e.layerUid,e.graphicUid)}),r)}_notifyGraphicGeometryChanged(e){if(null==this.drapeSource.notifyGraphicGeometryChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicGeometryChanged(t),r=t)}_notifyGraphicVisibilityChanged(e){if(null==this.drapeSource.notifyGraphicVisibilityChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicVisibilityChanged(t),r=t)}_validateRenderGeometries(e){for(const r of e)this._validateRenderGeometry(r);return e}_validateRenderGeometry(e){return null==e.localOrigin&&(e.localOrigin=this._localOriginFactory.getOrigin(a(e.boundingSphere))),e}get test(){}};e([i()],v.prototype,\"drapeSource\",void 0),e([i()],v.prototype,\"updating\",null),e([i()],v.prototype,\"rctx\",null),e([i({constructOnly:!0})],v.prototype,\"rendererContext\",void 0),e([i()],v.prototype,\"_materials\",null),e([i()],v.prototype,\"_localOriginFactory\",null),e([i({readOnly:!0})],v.prototype,\"isEmpty\",null),e([i()],v.prototype,\"_renderers\",void 0),e([i()],v.prototype,\"_geometries\",void 0),v=e([n(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],v);class C{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}function A(e,r,t,s,i,n,o){const a=new d(n,o,r),h=r=>{r.set(u.OVERLAY,a,e.dist,e.normal,e.transformation,t,s)};if((null==i.results.min.drapedLayerOrder||t>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&h(i.results.min),i.options.store!==m.MIN&&(null==i.results.max.drapedLayerOrder||t<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&h(i.results.max),i.options.store===m.ALL){const e=p(i.ray);h(e),i.results.all.push(e)}}const S=o();export{v as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i,l){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))),l)}initializePipeline(e){return e.hasAlpha?i({blending:l,colorWrite:s}):i({colorWrite:s})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as e,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.hasAlpha=!1}}s([o()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s,a){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))),a)}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as o,syncAndInitial as n,on as a}from\"../../../core/reactiveUtils.js\";import{someSet as h}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as c,fromTranslation as u}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as p}from\"../../../chunks/vec32.js\";import{ones as g}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as _,DrapedRenderGroup as y}from\"../layers/interfaces.js\";import{debugFlags as f}from\"../support/debugFlags.js\";import{OverlayIndex as R}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as b}from\"./OverlayRenderTargets.js\";import D from\"../webgl/RenderCamera.js\";import{ShaderOutput as v}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as x}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as O,renderHighlightBuffer as E}from\"../webgl-engine/effects/highlight/Highlight.js\";import{GLMaterialRepository as P}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as j}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as A}from\"../webgl-engine/lib/Material.js\";import{OITPass as W}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as M,defaultRenderOccludedMask as I}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as q}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as N}from\"../webgl-engine/lib/ShadowMap.js\";import{SortedRenderGeometryRenderer as F}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechnique as L}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as V}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as H}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as k}from\"../webgl-engine/lighting/Lightsources.js\";import{O as U}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as B}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as z,noBudget as Y}from\"../../support/Scheduler.js\";import{FramebufferBit as X,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as K}from\"../../webgl/Texture.js\";import{TextureDescriptor as Q}from\"../../webgl/TextureDescriptor.js\";let Z=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new U,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new D,this.worldToPCSRatio=1,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[q.DRAPED_MATERIAL,e=>e!==v.Highlight||this.hasHighlights],[q.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const{view:e}=this,{_stage:r}=e,t=r.renderer.fboCache,s=r.renderView,{waterTextures:i,textures:h}=s;this._renderContext=new M(this._rctx,new N(t,e.state.viewingMode)),this.addHandles([o((()=>i.updating),(()=>this.events.emit(\"content-changed\")),n),o((()=>this.spatialReference),(e=>this._localOriginFactory=new j(e)),n),a((()=>this.view.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),o((()=>O(this.view.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),n)]),this._materials=new P(h,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:d,_camera:l}=this;d.slot=q.DRAPED_MATERIAL,d.mainDepth=null,l.near=1,l.far=1e4,l.relativeElevation=null,d.camera=this._camera,d.oitPass=W.NONE,d.updateLighting([new k(g())],0,0,G.Immediate),this.addHandles(this.view.resourceController.scheduler.registerTask(z.STAGE,this))}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this.view._stage.renderView.renderingContext}get _techniques(){return this.view._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(B)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}createGeometryDrapeSourceRenderer(e){return this.createDrapeSourceRenderer(e,F)}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(o((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&h(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=h(e,(e=>e.drapeSourceType===_.Features)),this._hasDrapedRasterSource=h(e,(e=>e.drapeSourceType===_.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new b(this.view._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"),this._updateHasWater())}processSyncDrapeSources(){this._processDrapeSources(Y,(e=>e.updatePolicy===H.SYNC))}get isEmpty(){return!f.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){return this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=te,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(f.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?x.Disabled:this._renderTargets?.getTexture(w.WaterNormal)?x.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?x.Enabled:x.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,this._bindParameters.highlightGroupName=null,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===v.Normal?q.DRAPED_WATER:q.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=te),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===_.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=I}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const r of this._renderTargets.targets){if(r.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const t=this._drawTarget(R.INNER,r,e),s=this._drawTarget(R.OUTER,r,e);(t||s)&&r.fbo.generateMipMap()}}}_drawTarget(e,r,t){const s=this._overlays[e],i=s.canvasGeometries;if(0===i.numViews)return!1;const{contentPixelRatio:o}=t;this._screenToWorldRatio=o*s.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===v.Normal&&!this.hasWater||!s.hasSomeSizedView())return!1;const{_rctx:a,_bindParameters:h}=this;if(this._camera.pixelRatio=s.pixelRatio*o,this._renderContext.output=n,h.screenToWorldRatio=this._screenToWorldRatio,h.screenToPCSRatio=this._screenToWorldRatio*this.worldToPCSRatio,h.slot=n===v.Normal?q.DRAPED_WATER:q.DRAPED_MATERIAL,r.content===w.Occluded&&(this._renderContext.renderOccludedMask=te),h.highlightGroupName=null,!this.renders(r.content))return this._renderContext.renderOccludedMask=I,!1;const{resolution:d}=s,l=e===R.INNER?0:d;a.setViewport(l,0,d,d),this._bindTargetFBO(r),e===R.INNER&&(a.setClearColor(0,0,0,0),a.clear(X.COLOR));if(f.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(L,se);const r=this._techniques.acquire(L,se);for(let t=0;t<i.numViews;t++)this._setViewParameters(i.extents[t],s),this._ensureDebugPatternResources(s.resolution,ee[e]),a.bindTechnique(r,h,this._passParameters),a.screen.draw();r.release()}if(r.output===v.Highlight){const{fboCache:t}=this.view._stage.renderer,s=this._resolution;E(a,t,{width:s,height:s},this.view.highlights,h,(()=>this._renderAllGeometry(e,r)),l,(()=>this._bindTargetFBO(r)))}else this._renderAllGeometry(e,r);return a.bindFramebuffer(null),this._renderContext.renderOccludedMask=I,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:o})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===_.RasterImage)return;const{fullOpacity:n}=i,a=null!=n&&n<1&&r.output===v.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),o.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=n,this._overlayParameters.overlayIndex=e;const t=this._techniques.acquire(B);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),t.release(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this.view._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(X.COLOR),s}get _resolution(){return this._overlays?.[R.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:o}of this._sortedRenderers)i=o.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this.view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),o=i>=0,n=s.renderGroup??(o?y.MapLayer:y.ViewLayer),a=r*n+(o?i:0);this._sortedRenderers.push(new $(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],c(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),u(t.viewMatrix,[-e[0],-e[1],0])}_updateHasWater(){const e=t(this._renderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\"))}_ensureDebugPatternResources(e,r){if(p(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let o=0;o<e;o++)for(let r=0;r<e;r++){const i=Math.floor(r/10),n=Math.floor(o/10);i<2||n<2||10*i>e-20||10*n>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&n?1&r^1&o?0:255:1&i^1&n?0:128)}const i=new Q(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new K(this._rctx,i,t)}get test(){}};e([d()],Z.prototype,\"hasHighlights\",void 0),e([d()],Z.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],Z.prototype,\"view\",void 0),e([d({readOnly:!0})],Z.prototype,\"_techniques\",null),e([d()],Z.prototype,\"worldToPCSRatio\",void 0),e([d()],Z.prototype,\"spatialReference\",void 0),e([d({type:Boolean,readOnly:!0})],Z.prototype,\"updating\",null),e([d()],Z.prototype,\"isEmpty\",null),e([d({readOnly:!0})],Z.prototype,\"rendersOccludedDraped\",null),Z=e([l(\"esri.views.3d.terrain.OverlayRenderer\")],Z);class ${constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const ee=[[1,.5,.5],[.5,.5,1]],re=-2,te=A.OccludeAndTransparent,se=new V;se.hasAlpha=!0;export{Z as OverlayRenderer,re as drapedZ,te as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Integer2PassUniform as e}from\"../shaderModules/Integer2PassUniform.js\";import{glsl as l}from\"../shaderModules/interfaces.js\";import{Texture2DPassUniform as i}from\"../shaderModules/Texture2DPassUniform.js\";import{g as t}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function o(o){const{vertex:c}=o;c.uniforms.add(new i(\"coverageTexture\",(e=>e.coverageTexture)),new e(\"highlightRenderCellCount\",(e=>[e.horizontalCellCount,e.verticalCellCount])),new e(\"highlightTextureResolution\",(e=>[e.highlightTexture.descriptor.width,e.highlightTexture.descriptor.height]))),c.constants.add(\"cellSize\",\"int\",t),o.varyings.add(\"sUV\",\"vec2\"),o.varyings.add(\"vOutlinePossible\",\"float\"),c.code.add(l`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`),c.main.add(l`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nvec4 cov = texelFetch(coverageTexture, cellPos, 0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = cov.g;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}export{o as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function t(t){const{fragment:i}=t;i.code.add(e`uint readChannelBits(uint channel, int highlightLevel) {\nint llc = (highlightLevel & 3) << 1;\nreturn (channel >> llc) & 3u;\n}\nuint readChannel(vec2 texel, int highlightLevel) {\nint lic = (highlightLevel >> 2) & 1;\nreturn uint(texel[lic] * 255.0);\n}\nuint readLevelBits(vec2 texel, int highlightLevel) {\nreturn readChannelBits(readChannel(texel, highlightLevel), highlightLevel);\n}`)}export{t as HighlightReadBitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`const float GAMMA = 2.2;\nconst float INV_GAMMA = 0.4545454545;\nvec4 delinearizeGamma(vec4 color) {\nreturn vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n}\nvec3 linearizeGamma(vec3 color) {\nreturn pow(color, vec3(GAMMA));\n}`)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{Float2PassUniform as o}from\"../../shaderModules/Float2PassUniform.js\";import{FloatPassUniform as t}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{Matrix4PassUniform as a}from\"../../shaderModules/Matrix4PassUniform.js\";import{Texture2DPassUniform as i}from\"../../shaderModules/Texture2DPassUniform.js\";function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(e),c.uniforms.add(new o(\"nearFar\",((e,o)=>o.camera.nearFar)),new i(\"depthMap\",((e,o)=>o.depth?.attachment)),new a(\"proj\",((e,o)=>o.camera.projectionMatrix)),new t(\"invResolutionHeight\",((e,o)=>1/o.camera.height)),new a(\"reprojectionMatrix\",((e,o)=>o.ssr.reprojectionMatrix))).code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy * 0.5 + 0.5;\n  }\n\n  const int maxSteps = ${n.highStepCount?\"150\":\"75\"};\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n        return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P = clamp(P + dP, vec2(0.0), vec2(0.999));\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}export{d as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Uniform as e}from\"./Uniform.js\";import{BindType as r}from\"../shaderTechnique/BindType.js\";class s extends e{constructor(e,s){super(e,\"samplerCube\",r.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}export{s as TextureCubePassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as a}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as r}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as c}from\"../shading/MainLighting.glsl.js\";import{BooleanPassUniform as n}from\"../../shaderModules/BooleanPassUniform.js\";import{Float3PassUniform as d}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";import{Matrix4PassUniform as u}from\"../../shaderModules/Matrix4PassUniform.js\";import{TextureCubePassUniform as m}from\"../../shaderModules/TextureCubePassUniform.js\";function h(t){const r=t.fragment;r.constants.add(\"radiusCloudsSquared\",\"float\",C).code.add(s`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),r.uniforms.add(new l(\"radiusCurvatureCorrection\",((o,t)=>t.clouds.parallax.radiusCurvatureCorrection))).code.add(s`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),r.code.add(s`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(r),c(r);const h=o(.28,.175,.035);r.constants.add(\"RIM_COLOR\",\"vec3\",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add(s`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${s.float(v)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${s.float(f)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${s.float(p)} * pow(dirDotLight, ${s.float(g)}) * (1. - pow(sunsetTransition, ${s.float(w)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),r.uniforms.add(new n(\"readChannelsRG\",((o,t)=>t.clouds.readChannels===e.RG)),new m(\"cubeMap\",((o,t)=>t.clouds.data?.cubeMap?.colorTexture??null))).code.add(s`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = texture(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),r.uniforms.add(new d(\"anchorPoint\",((o,t)=>t.clouds.parallax.anchorPoint)),new d(\"anchorPointNew\",((o,t)=>t.clouds.parallaxNew.anchorPoint)),new u(\"rotationClouds\",((o,t)=>t.clouds.parallax.transform)),new u(\"rotationCloudsNew\",((o,t)=>t.clouds.parallaxNew.transform)),new l(\"cloudsOpacity\",((o,t)=>t.clouds.opacity)),new l(\"fadeFactor\",((o,t)=>t.clouds.fadeFactor)),new n(\"crossFade\",((o,t)=>t.clouds.fadeState===a.CROSS_FADE))).code.add(s`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const C=(t.radius+r)**2;export{h as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/interfaces.js\";function o(o){o.code.add(e`vec3 tonemapACES(vec3 x) {\nreturn clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);\n}`)}export{o as ToneMapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRenderingWater as t}from\"./PhysicallyBasedRendering.glsl.js\";import{distanceFadeStart as r,distanceFadeEnd as i}from\"./ScreenSpaceConstants.js\";import{ScreenSpaceReflections as a}from\"./ScreenSpaceReflections.glsl.js\";import{CloudsParallaxShading as n}from\"../util/CloudsParallaxShading.glsl.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../../shaderModules/interfaces.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";import{Texture2DPassUniform as c}from\"../../shaderModules/Texture2DPassUniform.js\";import{ToneMapping as f}from\"../../../shaders/ToneMapping.glsl.js\";function m(m,v){m.include(t,v),m.include(o),m.include(e),v.cloudReflections&&m.include(n),m.include(a,v);const u=m.fragment;u.include(f),u.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]),u.constants.add(\"fresnelMaterial\",\"vec2\",[.02,.1]),u.constants.add(\"roughness\",\"float\",.015),u.constants.add(\"foamIntensityExternal\",\"float\",1.7),u.constants.add(\"ssrIntensity\",\"float\",.65),u.constants.add(\"ssrHeightFadeStart\",\"float\",r),u.constants.add(\"ssrHeightFadeEnd\",\"float\",i),u.constants.add(\"waterDiffusion\",\"float\",.92),u.constants.add(\"waterSeaColorMod\",\"float\",.8),u.constants.add(\"correctionViewingPowerFactor\",\"float\",.4),u.constants.add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]),u.constants.add(\"skyColor\",\"vec3\",[.67,.79,.9]),u.constants.add(\"cloudFresnelModifier\",\"vec2\",[1.2,.01]),u.code.add(d`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),u.uniforms.add(new l(\"lightingSpecularStrength\",((e,o)=>o.lighting.mainLight.specularStrength)),new l(\"lightingEnvironmentStrength\",((e,o)=>o.lighting.mainLight.environmentStrength))),u.code.add(d`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {\nfloat reflectionHit = 0.0;\nfloat reflectionHitDiffused = 0.0;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nfloat NdotL = clamp(dot(n, l), 0.0, 1.0);\nspecular = lightingSpecularStrength * NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}\nfloat correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);\nvec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);\nvec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new l(\"cloudsOpacity\",((e,o)=>o.clouds.opacity))).code.add(d`vec4 cloudsColor = renderClouds(reflectedWorld, position);\ncloudsColor.a = 1.0 - cloudsColor.a;\ncloudsColor = pow(cloudsColor, vec4(GAMMA));\ncloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new s(\"view\",((e,o)=>o.camera.viewMatrix)),new c(\"lastFrameColorTexture\",((e,o)=>o.ssr.lastFrameColor?.getTexture())),new l(\"fadeFactorSSR\",((e,o)=>o.ssr.fadeFactor))).code.add(d`vec3 viewDir = normalize(viewPosition);\nvec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = view * vec4(localUp, 0.0);\nvec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));\nvec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);\nreflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;\nreflectionHitDiffused = waterDiffusion * reflectionHit;\nreflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *\nreflectionHitDiffused * fresnelModifier.y * ssrIntensity;\n}\nfloat seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);\nvec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +\nreflSea * seaColorMod + specular + foam);`):u.code.add(d`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add(d`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor;\n}`)}export{m as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightGroup(t){this.geometry.foreachHighlightGroup(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{blending as l,oitDepthTest as o,depthWrite as n,getDrawBuffers as a,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as m}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as f}from\"../materials/VisualVariablePassParameters.js\";import{C as d}from\"../../../../chunks/ColorMaterial.glsl.js\";import{SpecialDrawBuffers as h}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as j,defaultColorWrite as P}from\"../../../webgl/renderState.js\";class g extends f{constructor(){super(...arguments),this.color=e}}class O extends s{constructor(e,r,s){super(e,r,new t(d,(()=>import(\"./ColorMaterial.glsl.js\"))),s)}_createPipeline(e,t){const{oitPass:s,output:f,transparent:d,cullFace:g,draped:O,hasOccludees:T,polygonOffset:_,enableOffset:w}=e,x=s===i.NONE,y=s===i.FrontFace;return b({blending:f===r.Color&&d?l(s):null,culling:j(g),depthTest:O?null:{func:o(s)},depthWrite:n(e),drawBuffers:f===r.Depth?{buffers:[h.NONE]}:a(s,f),colorWrite:P,stencilWrite:T?p:null,stencilTest:T?t?u:m:null,polygonOffset:x||y?_?S:null:c(w)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1};export{g as ColorMaterialPassParameters,O as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasSlicePlane\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrOID as e,isDepth as s,is2DGeometryOutput as i,ShaderOutput as a}from\"../core/shaderLibrary/ShaderOutput.js\";import{alphaCutoff as o}from\"../core/shaderLibrary/util/AlphaCutoff.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as T}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as g}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";class O extends m{constructor(t){super(t,d),this._configuration=new g,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=o}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===a.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new A(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class A extends p{beginSlot(t){return this.acquireTechnique(T,t)}}class d extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{O as ColorMaterial,d as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n"],"names":["m","u","c","vertex","p","fragment","w","attributes","f","varyings","h","n","include","o","l","t","i","r","b","add","v","POSITION","vvColor","COLORFEATUREATTRIBUTE","C","terrainDepthTest","output","e","Color","uniforms","a","color","main","g","hasVertexColors","s","d","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","highlightTexture","highlightOptionsTexture","pixelRatio","occludedFactor","maxHighlightLevel","constants","code","outputs","input","Math","ceil","HighlightDownsampleDrawParameters","blurSize","gridCellPixelSize","outlineSize","highlightLevel","constructor","super","arguments","this","overlayIndex","INNER","opacity","texture","OverlayCompositingPassParameters","singleHighlightBlurTexture","blurInput","SingleHighlightBlurDrawParameters","TextureOnlyPassParameters","EnableFastUpdates","DisableFastUpdates","UpdateFastLocalOrigin","running","Idle","Rendering","Ready","Fading","RG","BA","COUNT","A","x","startTime","_data","_readChannels","parallax","O","parallaxNew","_anchorPoint","_","_fadeState","HIDE","_fadeFactor","data","readChannels","fadeState","fadeFactor","FADE_OUT","FADE_IN","SHOW","CROSS_FADE","fade","isFading","H","_endFade","_evaluateState","_updateParallax","relativeElevation","_updateAnchorPoint","P","I","_startFade","E","state","D","eye","radiusCurvatureCorrection","sqrt","max","S","radius","anchorPoint","transform","requestFade","_switchReadChannels","F","type","cloudCover","clone","cloudy","prototype","Number","nonNullable","range","min","json","write","fogStrength","foggy","precipitation","rainy","snowCover","snowy","sunny","key","base","typeMap","keys","length","undefined","mapPositions","attributeData","position","removeDuplicateStartEnd","Array","slice","push","indices","colorFeature","COLOR","sizeFeature","SIZE","size","j","normal","NORMAL","T","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","y","overlayInfo","renderCoordsHelper","viewingMode","Global","spatialReference","isGeographic","DISTANCETOSTART","Line","R","forEach","CCW_IS_HOLE","NONE","rings","paths","outlines","hasZ","lines","projectionSuccess","sampledElevation","index","count","triangleNr","_extent","resolution","renderLocalOrigin","mapUnitsPerPixel","canvasGeometries","extent","setupGeometryViewsCyclical","setupGeometryView","extents","numViews","hasSomeSizedView","ColorNoRasterImage","Highlight","WaterNormal","Occluded","ObjectAndLayerIdColor","_fbos","_format","_name","valid","_handle","getTexture","dispose","bind","fbo","width","height","release","acquire","bindFramebuffer","generateMipMap","descriptor","hasMipmap","generateMipmap","RGBA_MIPMAP","content","targets","Normal","RGBA","computeValidity","reduce","Material","ShadowMap","ViewshedShadowMap","Disabled","Enabled","EnabledWithWater","initializePipeline","blending","colorWrite","verticalCellCount","horizontalCellCount","FLOAT","UV0","G","produces","HIGHLIGHTS","consumes","required","useMultipleHighlights","has","_optionsTexture","_downsampleDrawParameters","_passParameters","_singleHighlightBlurDrawParameters","q","_grid","L","techniques","precompile","initialize","addHandles","view","highlights","requestRender","UPDATE","destroy","coverage","vao","_updateOptionsTexture","renderingContext","internalFormat","samplingMode","NEAREST","M","setData","render","find","_ref","name","bindParameters","decorations","compiled","_ref2","Uint8Array","haloColor","fillOpacity","haloOpacity","V","options","_gridUpdateResources","_gridComputeCoverage","coverageTexture","bindVAO","drawElementsInstanced","TRIANGLES","UNSIGNED_BYTE","camera","setViewport4fv","fullViewport","_renderMultiple","_renderSingle","k","bindTechnique","fboCache","fullWidth","fullHeight","setClearColor","setViewport","clear","unbindTexture","colorTexture","createIndex","STATIC_DRAW","N","Map","createVertex","screen","draw","test","constructOnly","viewportWidth","viewportHeight","z","U","at","includes","B","shadowOpacity","shadowDifference","shadowColor","Set","_textures","_techniques","materialChanged","_id2glMaterialRef","_ownMaterial","get","id","createGLMaterial","material","textures","set","ref","glMaterial","unref","referenced","delete","repository","getLogger","error","_refCnt","Immediate","FadeWithWeather","shadowMap","slot","OPAQUE_MATERIAL","slicePlane","hasOccludees","enableFillLights","oitPass","alignPixelEnabled","overlayStretch","viewshedEnabled","_camera","_inverseViewport","_oldLighting","_newLighting","_fadedLighting","_lighting","ssr","cullAboveTerrain","highlightMixTexture","highlightGroupName","highlightGroupIndices","highlightMixOrigin","hudRenderStyle","clouds","shadowHighlightsVisible","inverseViewport","lighting","fadeLighting","lerpLighting","copyFrom","updateLighting","noonFactor","globalFactor","reprojectionMatrix","rctx","lastFrameCamera","renderOccludedMask","Occlude","OccludeAndTransparent","OccludeAndTransparentStencil","_projectionMatrix","projectionMatrix","readOnly","ExcludeHighlight","lightMat","maxNumCascadesHighQuality","maxNumCascadesLowQuality","textureSizeModHighQuality","textureSizeModLowQuality","splitSchemeLambda","X","_viewingMode","_enabled","_snapshots","_textureHeight","_numCascades","settings","_projectionView","_projectionViewInverse","_modelViewLight","_cascadeDistances","_usedCascadeDistances","_cascades","_lastOrigin","_maxTextureWidth","parameters","maxTextureSize","enabled","disposeOffscreenBuffers","depthTexture","_textureWidth","numCascades","cascadeDistances","_discardSnapshots","maxCascades","floor","ready","cascades","it","start","near","far","Tt","_computeCascadeDistances","_computeTextureHeight","_setupMatrices","viewMatrix","_constructCascade","finish","detachDepth","getShadowMapMatrices","rt","moveSnapshot","copySnapshot","RGBA4","_bindFbo","bindTexture","TEXTURE_UNIT_FOR_UPDATES","gl","copyTexSubImage2D","TEXTURE_2D","getSnapshot","_ensureFbo","W","DEPTH","window","devicePixelRatio","Q","acquireDepth","DEPTH16_BUFFER","_discardSnapshot","abs","J","K","et","sin","ht","ot","nt","ct","lt","dt","mt","ut","_t","ft","gt","Y","Z","$","tt","st","wt","Mt","pt","bt","Ct","jt","viewport","yt","concat","xt","_pending","_changes","_renderers","_sortedRenderers","_geometries","_hasHighlights","_hasWater","prune","updating","empty","updates","rendererContext","_materials","materials","_localOriginFactory","localOriginFactory","hasHighlights","hasWater","rendersOccludedDraped","values","numGeometries","queryRenderOccludedState","isEmpty","getMaterialRenderer","sortedRenderers","commitChanges","_processAddsRemoves","adds","initializeRenderContext","pluginContext","modify","_updateSortedMaterialRenderers","DRAPED_MATERIAL","DRAPED_WATER","notifyChange","addGeometries","_validateRenderGeometries","_notifyGraphicGeometryChanged","removeGeometries","removed","removes","modifyGeometries","pushNew","renderGeometry","_validateRenderGeometry","updateType","TRANSFORMATION","GEOMETRY","VISIBILITY","_notifyGraphicVisibilityChanged","updateAnimation","forAll","acquireTechniques","intersect","_intersectRenderGeometry","longitudeCyclical","boundingSphere","drapedPriority","sort","renderPriority","pushArray","from","filterInPlace","visible","transformation","screenToWorldRatio","intersectDraped","OVERLAY","dist","results","drapedLayerOrder","ground","store","MIN","ALL","ray","all","layerUid","graphicUid","drapeSource","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","localOrigin","getOrigin","hasAlpha","_overlays","_renderTargets","_overlayParameters","_sortedDrapeSourceRenderersDirty","_screenToWorldRatio","unloadedMemory","ignoresMemoryFactor","worldToPCSRatio","events","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","_stage","renderer","renderView","waterTextures","_renderContext","_rctx","emit","allLayerViews","_bindParameters","mainDepth","resourceController","scheduler","registerTask","STAGE","disposeOverlays","_pluginContext","uninitializeRenderContext","hasOverlays","layers","_updateSortedDrapeSourceRenderers","map","layer","filter","createGeometryDrapeSourceRenderer","createDrapeSourceRenderer","fullOpacity","removeDrapeSourceRenderer","removeHandles","releaseRenderTargets","overlays","ensureDrapeTargets","drapeTargetType","WithoutRasterImage","ensureDrapeSources","drapeSourceType","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","runTask","_processDrapeSources","done","destroyed","madeProgress","_updateHasWater","processSyncDrapeSources","updatePolicy","SYNC","OVERLAY_DRAW_DEBUG_TEXTURE","te","precompiling","some","renders","mode","updateDrapeSourceOrder","precompileShaders","_ref3","drawOverlays","_drawTarget","OUTER","contentPixelRatio","screenToPCSRatio","_bindTargetFBO","se","_setViewParameters","_ensureDebugPatternResources","ee","_resolution","clearFramebuffer","_renderAllGeometry","_ref4","_bindTemporaryFBO","notifyContentChanged","allLayers","indexOf","renderGroup","MapLayer","ViewLayer","Boolean","re","REGULAR","HAS_NORTH_POLE","HAS_SOUTH_POLE","HAS_BOTH_POLES","FADING","IMMEDIATE","UNFADED","screenSpaceReflections","nearFar","depth","attachment","highStepCount","Pass","float","cubeMap","cloudReflections","mainLight","specularStrength","environmentStrength","lastFrameColor","geometry","_transformation","_shaderTransformation","_boundingSphere","castShadow","objectShaderTransformation","objectShaderTransformationChanged","boundingInfo","center","shaderTransformation","highlight","foreachHighlightGroup","occludees","_createPipeline","transparent","cullFace","draped","polygonOffset","enableOffset","FrontFace","culling","depthTest","func","depthWrite","drawBuffers","Depth","buffers","stencilWrite","stencilTest","_occludeePipelineState","getPipeline","factor","units","None","hasSlicePlane","discardInvisibleFragments","writeDepth","objectAndLayerIdColorInstanced","textureCoordinateType","emissionSource","occlusionPass","hasVvInstancing","vvSize","vvOpacity","_configuration","supportsEdges","_isOpaqueMaterialPass","OPAQUE_MATERIAL_WITHOUT_NORMALS","_isOpaqueNoSSAODepthPass","TRANSPARENT_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","_isOpaquePass","forceTransparentMode","createBufferWriter","vec3f","vec4u8","OBJECTANDLAYERIDCOLOR","f32","beginSlot","acquireTechnique","vec2f","dash","dot","none","solid","pattern","style"],"sourceRoot":""}