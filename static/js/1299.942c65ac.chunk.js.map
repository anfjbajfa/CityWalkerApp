{"version":3,"file":"static/js/1299.942c65ac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","../node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","../node_modules/@arcgis/core/chunks/SSAO.glsl.js","../node_modules/@arcgis/core/chunks/SSAOBlur.glsl.js","../node_modules/@arcgis/core/geometry/support/lineSegment.js","../node_modules/@arcgis/core/geometry/support/triangle.js","../node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAO.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAONoiseData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sDrawUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatDrawUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{isColorOrColorEmission as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as s,NormalType as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as u}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as w,addAmbientBoostFactor as p,addLightingGlobalFactor as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightIntensity as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{Normals as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as C,PBRMode as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as P,ReadShadowMapDraw as T}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as O}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{colorTextureUV as N,normalTextureUV as S,emissiveTextureUV as A,occlusionTextureUV as V,metallicRoughnessTextureUV as $}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js\";import{VisualVariables as D}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{alphaCutoff as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{DiscardOrAdjustAlphaPass as E}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as U}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as I,addCameraPosition as B}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as _}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as R}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as z,If as G}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as W}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as k}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as H}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as q}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function J(J){const K=new W,{vertex:Q,fragment:X,varyings:Y}=K,{output:Z,normalType:ee,offsetBackfaces:re,instancedColor:oe,spherical:ie,receiveShadows:ae,snowCover:le,pbrMode:se,textureAlphaPremultiplied:te,instancedDoublePrecision:ne,hasVertexColors:de,hasVertexTangents:ce,hasColorTexture:me,hasNormalTexture:ge,hasNormalTextureTransform:ve,hasColorTextureTransform:ue}=J;if(I(Q,J),K.include(n),Y.add(\"vpos\",\"vec3\"),K.include(D,J),K.include(l,J),K.include(v,J),K.include(N,J),!o(Z))return K.include(u,J),K;K.include(S,J),K.include(A,J),K.include(V,J),K.include($,J),B(Q,J),K.include(s,J),K.include(a,J);const be=ee===t.Attribute||ee===t.Compressed;return be&&re&&K.include(r),K.include(b,J),K.include(g,J),oe&&K.attributes.add(H.INSTANCECOLOR,\"vec4\"),Y.add(\"vPositionLocal\",\"vec3\"),K.include(c,J),K.include(e,J),K.include(d,J),K.include(m,J),Q.uniforms.add(new _(\"externalColor\",(e=>e.externalColor))),Y.add(\"vcolorExt\",\"vec4\"),J.terrainDepthTest&&Y.add(\"depth\",\"float\"),Q.main.add(z`\n    forwardNormalizedVertexColor();\n    vcolorExt = externalColor;\n    ${G(oe,\"vcolorExt *= instanceColor * 0.003921568627451;\")}\n    vcolorExt *= vvColor();\n    vcolorExt *= getSymbolColor();\n    forwardColorMixMode();\n\n    if (vcolorExt.a < ${z.float(M)}) {\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n    } else {\n      vpos = getVertexInLocalOriginSpace();\n      vPositionLocal = vpos - view[3].xyz;\n      vpos = subtractOrigin(vpos);\n      ${G(be,\"vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\")}\n      vpos = addVerticalOffset(vpos, localOrigin);\n      ${G(ce,\"vTangent = dpTransformVertexTangent(tangent);\")}\n      gl_Position = transformPosition(proj, view, vpos);\n      ${G(be&&re,\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\")}\n    }\n\n    ${G(J.terrainDepthTest,\"depth = (view * vec4(vpos, 1.0)).z;\")}\n    forwardLinearDepth();\n    forwardTextureCoordinates();\n    forwardColorUV();\n    forwardNormalUV();\n    forwardEmissiveUV();\n    forwardOcclusionUV();\n    forwardMetallicRoughnessUV();\n  `),K.include(w,J),K.include(h,J),K.include(E,J),K.include(ne?P:T,J),K.include(O,J),K.include(i,J),K.include(q,J),B(X,J),X.uniforms.add(Q.uniforms.get(\"localOrigin\"),new F(\"ambient\",(e=>e.ambient)),new F(\"diffuse\",(e=>e.diffuse)),new R(\"opacity\",(e=>e.opacity)),new R(\"layerOpacity\",(e=>e.layerOpacity))),me&&X.uniforms.add(new k(\"tex\",(e=>e.texture))),K.include(C,J),K.include(L,J),X.include(U),K.include(y,J),p(X),f(X),x(X),X.main.add(z`\n      discardBySlice(vpos);\n      ${G(J.terrainDepthTest,\"terrainDepthTest(depth);\")}\n      ${me?z`\n              vec4 texColor = texture(tex, ${ue?\"colorUV\":\"vuv0\"});\n              ${G(te,\"texColor.rgb /= texColor.a;\")}\n              discardOrAdjustAlpha(texColor);`:z`vec4 texColor = vec4(1.0);`}\n      shadingParams.viewDirection = normalize(vpos - cameraPosition);\n      ${ee===t.ScreenDerivative?z`vec3 normal = screenDerivativeNormal(vPositionLocal);`:z`shadingParams.normalView = vNormalWorld;\n                 vec3 normal = shadingNormal(shadingParams);`}\n      applyPBRFactors();\n      float ssao = evaluateAmbientOcclusionInverse() * getBakedOcclusion();\n\n      vec3 posWorld = vpos + localOrigin;\n\n      float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);\n      float shadow = ${ae?\"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth))\":G(ie,\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\",\"0.0\")};\n\n      vec3 matColor = max(ambient, diffuse);\n      vec3 albedo = mixExternalColor(${G(de,\"vColor.rgb *\")} matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n      float opacity_ = layerOpacity * mixExternalOpacity(${G(de,\"vColor.a * \")} opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n      ${ge?`mat3 tangentSpace = computeTangentSpace(${ce?\"normal\":\"normal, vpos, vuv0\"});\\n             vec3 shadingNormal = computeTextureNormal(tangentSpace, ${ve?\"normalUV\":\"vuv0\"});`:\"vec3 shadingNormal = normal;\"}\n      vec3 normalGround = ${ie?\"normalize(posWorld);\":\"vec3(0.0, 0.0, 1.0);\"}\n\n      ${G(le,z`\n            float snow = smoothstep(0.5, 0.55, dot(normal, normalGround));\n            albedo = mix(albedo, vec3(1), snow);\n            shadingNormal = mix(shadingNormal, normal, snow);\n            ssao = mix(ssao, 1.0, snow);`)}\n\n      vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n\n      ${se===j.Normal||se===j.Schematic?z`\n              float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n              ${G(le,z`mrr = mix(mrr, vec3(0.0, 1.0, 0.04), snow);`)}\n              vec4 emission = ${le?\"mix(getEmissions(), vec4(0.0), snow)\":\"getEmissions()\"};\n              vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:z`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n      vec4 finalColor = vec4(shadedColor, opacity_);\n      outputColorHighlightOID(finalColor, vpos);\n  `),K}const K=Object.freeze(Object.defineProperty({__proto__:null,build:J},Symbol.toStringTag,{value:\"Module\"}));export{K as D,J as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{ShaderOutput as i}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VerticalOffset as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as m}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as b,addAmbientBoostFactor as w,addLightingGlobalFactor as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightDirection as p,addMainLightIntensity as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{PhysicallyBasedRendering as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PBRMode as x,PhysicallyBasedRenderingParameters as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as C,ReadShadowMapDraw as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as O}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{alphaCutoff as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{DiscardOrAdjustAlphaPass as P}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as A}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as S,addCameraPosition as D}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as E}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as $}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as N,If as T}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as V}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as I}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as _}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as B}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function R(R){const z=new V,{vertex:k,fragment:G,varyings:U}=z,{output:W,offsetBackfaces:H,instancedColor:q,pbrMode:J,snowCover:K,spherical:Q}=R,X=J===x.Normal||J===x.Schematic;if(S(k,R),z.include(s),U.add(\"vpos\",\"vec3\"),z.include(O,R),z.include(l,R),z.include(g,R),W===i.Color&&(D(z.vertex,R),z.include(t,R),z.include(a,R),H&&z.include(r),q&&z.attributes.add(_.INSTANCECOLOR,\"vec4\"),U.add(\"vNormalWorld\",\"vec3\"),U.add(\"localvpos\",\"vec3\"),R.terrainDepthTest&&U.add(\"depth\",\"float\"),z.include(d,R),z.include(e,R),z.include(n,R),z.include(c,R),k.uniforms.add(new $(\"externalColor\",(e=>e.externalColor))),U.add(\"vcolorExt\",\"vec4\"),k.main.add(N`\n      forwardNormalizedVertexColor();\n      vcolorExt = externalColor;\n      ${T(q,\"vcolorExt *= instanceColor * 0.003921568627451;\")}\n      vcolorExt *= vvColor();\n      vcolorExt *= getSymbolColor();\n      forwardColorMixMode();\n\n      if (vcolorExt.a < ${N.float(M)}) {\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n      } else {\n        vpos = getVertexInLocalOriginSpace();\n        localvpos = vpos - view[3].xyz;\n        vpos = subtractOrigin(vpos);\n        vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        ${T(H,\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\")}\n      }\n      ${T(R.terrainDepthTest,\"depth = (view * vec4(vpos, 1.0)).z;\")}\n      forwardLinearDepth();\n      forwardTextureCoordinates();`)),W===i.Color){const{hasColorTexture:e,hasColorTextureTransform:r,receiveShadows:i}=R;z.include(b,R),z.include(v,R),z.include(P,R),z.include(R.instancedDoublePrecision?C:L,R),z.include(j,R),z.include(o,R),z.include(B,R),D(z.fragment,R),p(G),w(G),h(G),G.uniforms.add(k.uniforms.get(\"localOrigin\"),k.uniforms.get(\"view\"),new E(\"ambient\",(e=>e.ambient)),new E(\"diffuse\",(e=>e.diffuse)),new F(\"opacity\",(e=>e.opacity)),new F(\"layerOpacity\",(e=>e.layerOpacity))),e&&G.uniforms.add(new I(\"tex\",(e=>e.texture))),z.include(y,R),z.include(u,R),G.include(A),f(G),G.main.add(N`\n      discardBySlice(vpos);\n      ${T(R.terrainDepthTest,\"terrainDepthTest(depth);\")}\n      vec4 texColor = ${e?`texture(tex, ${r?\"colorUV\":\"vuv0\"})`:\" vec4(1.0)\"};\n      ${T(e,`${T(R.textureAlphaPremultiplied,\"texColor.rgb /= texColor.a;\")}\\n        discardOrAdjustAlpha(texColor);`)}\n      vec3 viewDirection = normalize(vpos - cameraPosition);\n      applyPBRFactors();\n      float ssao = evaluateAmbientOcclusionInverse();\n      ssao *= getBakedOcclusion();\n\n      float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n      vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n      float shadow = ${i?\"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth))\":Q?\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\":\"0.0\"};\n      vec3 matColor = max(ambient, diffuse);\n      ${R.hasVertexColors?N`vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n             float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:N`vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n             float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n      ${T(K,\"albedo = mix(albedo, vec3(1), 0.9);\")}\n      ${N`vec3 shadingNormal = normalize(vNormalWorld);\n             albedo *= 1.2;\n             vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);\n             float alignmentLightView = clamp(dot(viewForward, -mainLightDirection), 0.0, 1.0);\n             float transmittance = 1.0 - clamp(dot(viewForward, shadingNormal), 0.0, 1.0);\n             float treeRadialFalloff = vColor.r;\n             float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n             additionalLight += backLightFactor * mainLightIntensity;`}\n      ${T(X,`vec3 normalGround = ${Q?\"normalize(vpos + localOrigin)\":\"vec3(0.0, 0.0, 1.0)\"};`)}\n      ${X?N`float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n                 ${T(K,N`mrr = vec3(0.0, 1.0, 0.04);`)}\n            vec4 emission = ${K?\"vec4(0.0)\":\"getEmissions()\"};\n            vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:N`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n      vec4 finalColor = vec4(shadedColor, opacity_);\n      outputColorHighlightOID(finalColor, vpos);`)}return z.include(m,R),z}const z=Object.freeze(Object.defineProperty({__proto__:null,build:R},Symbol.toStringTag,{value:\"Module\"}));export{z as R,R as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{CameraSpace as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";const u=16;function f(){const r=new c,f=r.fragment;return r.include(t),r.include(a),f.include(o),f.uniforms.add(new i(\"radius\",((e,r)=>d(r.camera)))).code.add(s`vec3 sphere[16] = vec3[16](\nvec3(0.186937, 0.0, 0.0),\nvec3(0.700542, 0.0, 0.0),\nvec3(-0.864858, -0.481795, -0.111713),\nvec3(-0.624773, 0.102853, -0.730153),\nvec3(-0.387172, 0.260319, 0.007229),\nvec3(-0.222367, -0.642631, -0.707697),\nvec3(-0.01336, -0.014956, 0.169662),\nvec3(0.122575, 0.1544, -0.456944),\nvec3(-0.177141, 0.85997, -0.42346),\nvec3(-0.131631, 0.814545, 0.524355),\nvec3(-0.779469, 0.007991, 0.624833),\nvec3(0.308092, 0.209288,0.35969),\nvec3(0.359331, -0.184533, -0.377458),\nvec3(0.192633, -0.482999, -0.065284),\nvec3(0.233538, 0.293706, -0.055139),\nvec3(0.417709, -0.386701, 0.442449)\n);\nfloat fallOffFunction(float vv, float vn, float bias) {\nfloat f = max(radius * radius - vv, 0.0);\nreturn f * f * f * max(vn - bias, 0.0);\n}`),f.code.add(s`float aoValueFromPositionsAndNormal(vec3 C, vec3 n_C, vec3 Q) {\nvec3 v = Q - C;\nfloat vv = dot(v, v);\nfloat vn = dot(normalize(v), n_C);\nreturn fallOffFunction(vv, vn, 0.1);\n}`),f.uniforms.add(new l(\"normalMap\",(e=>e.normalTexture)),new l(\"depthMap\",(e=>e.depthTexture)),new i(\"projScale\",(e=>e.projScale)),new l(\"rnm\",(e=>e.noiseTexture)),new n(\"rnmScale\",((r,t)=>e(m,t.camera.fullWidth/r.noiseTexture.descriptor.width,t.camera.fullHeight/r.noiseTexture.descriptor.height))),new i(\"intensity\",(e=>e.intensity)),new n(\"screenSize\",((r,t)=>e(m,t.camera.fullWidth,t.camera.fullHeight)))),r.outputs.add(\"fragOcclusion\",\"float\"),f.main.add(s`\n      float depth = depthFromTexture(depthMap, uv);\n\n      // Early out if depth is out of range, such as in the sky\n      if (depth >= 1.0 || depth <= 0.0) {\n        fragOcclusion = 1.0;\n        return;\n      }\n\n      // get the normal of current fragment\n      vec4 norm4 = texture(normalMap, uv);\n      if(norm4.a != 1.0) {\n        fragOcclusion = 1.0;\n        return;\n      }\n      vec3 norm = vec3(-1.0) + 2.0 * norm4.xyz;\n\n      float currentPixelDepth = linearizeDepth(depth);\n      vec3 currentPixelPos = reconstructPosition(gl_FragCoord.xy, currentPixelDepth);\n\n      float sum = 0.0;\n      vec3 tapPixelPos;\n\n      vec3 fres = normalize(2.0 * texture(rnm, uv * rnmScale).xyz - 1.0);\n\n      // note: the factor 2.0 should not be necessary, but makes ssao much nicer.\n      // bug or deviation from CE somewhere else?\n      float ps = projScale / (2.0 * currentPixelPos.z * zScale.x + zScale.y);\n\n      for(int i = 0; i < ${s.int(u)}; ++i) {\n        vec2 unitOffset = reflect(sphere[i], fres).xy;\n        vec2 offset = vec2(-unitOffset * radius * ps);\n\n        // don't use current or very nearby samples\n        if( abs(offset.x) < 2.0 || abs(offset.y) < 2.0){\n          continue;\n        }\n\n        vec2 tc = vec2(gl_FragCoord.xy + offset);\n        if (tc.x < 0.0 || tc.y < 0.0 || tc.x > screenSize.x || tc.y > screenSize.y) continue;\n        vec2 tcTap = tc / screenSize;\n        float occluderFragmentDepth = linearDepthFromTexture(depthMap, tcTap);\n\n        tapPixelPos = reconstructPosition(tc, occluderFragmentDepth);\n\n        sum += aoValueFromPositionsAndNormal(currentPixelPos, norm, tapPixelPos);\n      }\n\n      // output the result\n      float A = max(1.0 - sum * intensity / float(${s.int(u)}), 0.0);\n\n      // Anti-tone map to reduce contrast and drag dark region farther: (x^0.2 + 1.2 * x^4) / 2.2\n      A = (pow(A, 0.2) + 1.2 * A * A * A * A) / 2.2;\n\n      fragOcclusion = A;`),r}function d(e){return Math.max(10,20*e.computeScreenPixelSizeAtDist(Math.abs(4*e.relativeElevation)))}const m=r(),v=Object.freeze(Object.defineProperty({__proto__:null,build:f,getRadius:d},Symbol.toStringTag,{value:\"Module\"}));export{v as S,f as b,d as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{Float2DrawUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DDrawUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";const d=4;function i(){const i=new l,f=i.fragment;i.include(e);const u=(d+1)/2,c=1/(2*u*u);return f.include(r),f.uniforms.add(new s(\"depthMap\",(e=>e.depthTexture)),new n(\"tex\",(e=>e.colorTexture)),new o(\"blurSize\",(e=>e.blurSize)),new t(\"projScale\",((e,r)=>{const o=r.camera.distance;return o>5e4?Math.max(0,e.projScale-(o-5e4)):e.projScale}))),f.code.add(a`\n    void blurFunction(vec2 uv, float r, float center_d, float sharpness, inout float wTotal, inout float bTotal) {\n      float c = texture(tex, uv).r;\n      float d = linearDepthFromTexture(depthMap, uv);\n\n      float ddiff = d - center_d;\n\n      float w = exp(-r * r * ${a.float(c)} - ddiff * ddiff * sharpness);\n      wTotal += w;\n      bTotal += w * c;\n    }\n  `),i.outputs.add(\"fragBlur\",\"float\"),f.main.add(a`\n    float b = 0.0;\n    float w_total = 0.0;\n\n    float center_d = linearDepthFromTexture(depthMap, uv);\n\n    float sharpness = -0.05 * projScale / center_d;\n    for (int r = -${a.int(d)}; r <= ${a.int(d)}; ++r) {\n      float rf = float(r);\n      vec2 uvOffset = uv + rf * blurSize;\n      blurFunction(uvOffset, rf, center_d, sharpness, w_total, b);\n    }\n    fragBlur = b / w_total;`),i}const f=Object.freeze(Object.defineProperty({__proto__:null,build:i},Symbol.toStringTag,{value:\"Module\"}));export{f as S,i as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,d as o,f as e,h as i,g as c,k as s,s as u}from\"../../chunks/vec32.js\";import{clone as a,create as g}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:a(t.origin),vector:a(t.vector)}:{origin:g(),vector:g()}}function m(t,r){const n=S.get();return n.origin=t,n.vector=r,n}function p(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function b(t,r,e=v()){return n(e.origin,t),o(e.vector,r,t),e}function M(r,n){const c=o(f.get(),n,r.origin),s=e(r.vector,c),u=e(r.vector,r.vector),a=t(s/u,0,1),g=o(f.get(),i(f.get(),r.vector,a),c);return e(g,g)}function j(t,r,n){return A(t,r,0,1,n)}function l(t,r,n){return c(n,t.origin,i(n,t.vector,r))}function A(r,n,u,a,g){const{vector:v,origin:m}=r,p=o(f.get(),n,m),h=e(v,p)/s(v);return i(g,v,t(h,u,a)),c(g,g,r.origin)}function d(t,r){if(k(t,m(r.origin,r.direction),!1,x)){const{tA:r,pB:n,distance2:o}=x;if(r>=0&&r<=1)return o;if(r<0)return u(t.origin,n);if(r>1)return u(c(f.get(),t.origin,t.vector),n)}return null}function B(t,r,o){return!!k(t,r,!0,x)&&(n(o,x.pA),!0)}function k(r,n,o,e){const i=1e-6,s=r.origin,a=c(f.get(),s,r.vector),g=n.origin,v=c(f.get(),g,n.vector),m=f.get(),p=f.get();if(m[0]=s[0]-g[0],m[1]=s[1]-g[1],m[2]=s[2]-g[2],p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],Math.abs(p[0])<i&&Math.abs(p[1])<i&&Math.abs(p[2])<i)return!1;const h=f.get();if(h[0]=a[0]-s[0],h[1]=a[1]-s[1],h[2]=a[2]-s[2],Math.abs(h[0])<i&&Math.abs(h[1])<i&&Math.abs(h[2])<i)return!1;const b=m[0]*p[0]+m[1]*p[1]+m[2]*p[2],M=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],j=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],l=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<i)return!1;let d=(b*M-j*l)/A,B=(b+M*d)/l;o&&(d=t(d,0,1),B=t(B,0,1));const k=f.get(),x=f.get();return k[0]=s[0]+d*h[0],k[1]=s[1]+d*h[1],k[2]=s[2]+d*h[2],x[0]=g[0]+B*p[0],x[1]=g[1]+B*p[1],x[2]=g[2]+B*p[2],e.tA=d,e.tB=B,e.pA=k,e.pB=x,e.distance2=u(k,x),!0}const x={tA:0,tB:0,pA:g(),pB:g(),distance2:0},S=new r((()=>v()));export{B as closestLineSegmentPoint,d as closestRayDistance2,p as copy,v as create,M as distance2,b as fromPoints,h as fromValues,l as pointAt,j as projectPoint,A as projectPointClamp,m as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{c as e,d as n,e as r,f as o,h as c,g as s,l as p}from\"../../chunks/vec32.js\";import{clone as i,create as a}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,distance2 as u,fromValues as g}from\"./lineSegment.js\";import{sv3d as m}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:a(),p1:a(),p2:a()}}function l(t,e,n){const r=x.get();return r.p0=t,r.p1=e,r.p2=n,r}function h(t,e=j()){return b(t.p0,t.p1,t.p2,e)}function b(t,n,r,o=j()){return e(o.p0,t),e(o.p1,n),e(o.p2,r),o}function d(t,e){const c=t.p0,s=t.p1,p=t.p2,i=n(m.get(),s,c),a=n(m.get(),p,s),f=n(m.get(),c,p),j=n(m.get(),e,c),l=n(m.get(),e,s),h=n(m.get(),e,p),b=r(i,i,f),d=o(r(m.get(),i,b),j),k=o(r(m.get(),a,b),l),v=o(r(m.get(),f,b),h);if(d>0&&k>0&&v>0){const t=o(b,j);return t*t/o(b,b)}const S=u(g(c,i,w.get()),e),x=u(g(s,a,w.get()),e),M=u(g(p,f,w.get()),e);return Math.min(S,x,M)}function k(t,e,n){const r=1e-5,{direction:o,origin:p}=e,{p0:i,p1:a,p2:f}=t,u=a[0]-i[0],g=a[1]-i[1],m=a[2]-i[2],j=f[0]-i[0],l=f[1]-i[1],h=f[2]-i[2],b=o[1]*h-l*o[2],d=o[2]*j-h*o[0],k=o[0]*l-j*o[1],v=u*b+g*d+m*k;if(v>-r&&v<r)return!1;const S=1/v,w=p[0]-i[0],x=p[1]-i[1],M=p[2]-i[2],O=S*(w*b+x*d+M*k);if(O<0||O>1)return!1;const V=x*m-g*M,q=M*u-m*w,y=w*g-u*x,z=S*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(n){c(n,o,S*(j*V+l*q+h*y)),s(n,p,n)}return!0}function v(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],c=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-o*c)}function S(t,e,o){return n(M,e,t),n(O,o,t),.5*p(r(M,M,O))}const w=new t(f),x=new t((()=>j())),M=a(),O=a();export{v as areaPoints2d,S as areaPoints3d,h as copy,j as create,d as distance2,b as fromValues,k as intersectRay,l as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";var n;function e(t){switch(t){case\"multiply\":default:return n.Multiply;case\"ignore\":return n.Ignore;case\"replace\":return n.Replace;case\"tint\":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=t(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=t(Math.round(e[0]*o),0,o),a[1]=t(Math.round(e[1]*o),0,o),a[2]=t(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]=\"Multiply\",t[t.Ignore=2]=\"Ignore\",t[t.Replace=3]=\"Replace\",t[t.Tint=4]=\"Tint\"}(n||(n={}));const o=255,i=85,u=i,l=2*i;export{n as ColorMixModeEnum,r as encodeSymbolColor,e as parseColorMixMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ColorMixModeEnum as o}from\"../../../../../layers/support/symbolColorUtils.js\";import{glsl as l}from\"../../../../core/shaderModules/interfaces.js\";function e(e){e.vertex.code.add(l`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${l.int(o.Multiply)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${l.int(o.Replace)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${l.int(o.Tint)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${l.int(o.Multiply)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{e as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\nvec3 camToVert = posWorld - camPosWorld;\nbool isBackface = dot(camToVert, normalWorld) > 0.0;\nif (isBackface) {\nposClip.z += 0.0000003 * posClip.w;\n}\nreturn posClip;\n}`)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{normalFromMat4 as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{IDENTITY as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as a}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ShaderOutput as i}from\"../ShaderOutput.js\";import{DoublePrecision as t}from\"../util/DoublePrecision.glsl.js\";import{addViewNormal as s}from\"../util/View.glsl.js\";import{Float3DrawUniform as l}from\"../../shaderModules/Float3DrawUniform.js\";import{NoParameters as m,glsl as c}from\"../../shaderModules/interfaces.js\";import{Matrix3PassUniform as d}from\"../../shaderModules/Matrix3PassUniform.js\";import{Matrix4PassUniform as u}from\"../../shaderModules/Matrix4PassUniform.js\";import{VertexAttribute as v}from\"../../../lib/VertexAttribute.js\";import{encodeDoubleHi as g,encodeDoubleLo as p}from\"../../../../../webgl/doublePrecisionUtils.js\";class x extends m{constructor(){super(...arguments),this.modelTransformation=null}}const f=r();function M(r,n){const m=n.hasModelTransformation,x=n.instancedDoublePrecision;m&&(r.vertex.uniforms.add(new u(\"model\",(e=>e.modelTransformation??o))),r.vertex.uniforms.add(new d(\"normalLocalOriginFromModel\",(r=>(e(f,r.modelTransformation??o),f))))),n.instanced&&x&&(r.attributes.add(v.INSTANCEMODELORIGINHI,\"vec3\"),r.attributes.add(v.INSTANCEMODELORIGINLO,\"vec3\"),r.attributes.add(v.INSTANCEMODEL,\"mat3\"),r.attributes.add(v.INSTANCEMODELNORMAL,\"mat3\"));const M=r.vertex;x&&(M.include(t,n),M.uniforms.add(new l(\"viewOriginHi\",((e,r)=>g(a(O,r.camera.viewInverseTransposeMatrix[3],r.camera.viewInverseTransposeMatrix[7],r.camera.viewInverseTransposeMatrix[11]),O))),new l(\"viewOriginLo\",((e,r)=>p(a(O,r.camera.viewInverseTransposeMatrix[3],r.camera.viewInverseTransposeMatrix[7],r.camera.viewInverseTransposeMatrix[11]),O))))),M.code.add(c`\n    vec3 getVertexInLocalOriginSpace() {\n      return ${m?x?\"(model * vec4(instanceModel * localPosition().xyz, 1.0)).xyz\":\"(model * localPosition()).xyz\":x?\"instanceModel * localPosition().xyz\":\"localPosition().xyz\"};\n    }\n\n    vec3 subtractOrigin(vec3 _pos) {\n      ${x?c`\n          // Negated inputs are intentionally the first two arguments. The other way around the obfuscation in dpAdd() stopped\n          // working for macOS 14+ and iOS 17+.\n          // Issue: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/56280\n          vec3 originDelta = dpAdd(-instanceModelOriginHi, -instanceModelOriginLo, viewOriginHi, viewOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `),M.code.add(c`\n    vec3 dpNormal(vec4 _normal) {\n      return normalize(${m?x?\"normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz)\":\"normalLocalOriginFromModel * _normal.xyz\":x?\"instanceModelNormal * _normal.xyz\":\"_normal.xyz\"});\n    }\n    `),n.output===i.Normal&&(s(M),M.code.add(c`\n    vec3 dpNormalView(vec4 _normal) {\n      return normalize((viewNormal * ${m?x?\"vec4(normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz), 1.0)\":\"vec4(normalLocalOriginFromModel * _normal.xyz, 1.0)\":x?\"vec4(instanceModelNormal * _normal.xyz, 1.0)\":\"_normal\"}).xyz);\n    }\n    `)),n.hasVertexTangents&&M.code.add(c`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${m?x?\"return vec4(normalLocalOriginFromModel * (instanceModelNormal * _tangent.xyz), _tangent.w);\":\"return vec4(normalLocalOriginFromModel * _tangent.xyz, _tangent.w);\":x?\"return vec4(instanceModelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n    }`)}const O=n();export{x as InstancedDoublePassParameters,M as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{DecodeSymbolColor as o}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";import{IntegerPassUniform as r}from\"../../shaderModules/IntegerPassUniform.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as l}from\"../../../lib/VertexAttribute.js\";import{colorMixModes as d}from\"../../../materials/internal/MaterialUtil.js\";function i(i,t){t.hasSymbolColors?(i.include(o),i.attributes.add(l.SYMBOLCOLOR,\"vec4\"),i.varyings.add(\"colorMixMode\",\"mediump float\"),i.vertex.code.add(e`int symbolColorMixMode;\nvec4 getSymbolColor() {\nreturn decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n}\nvoid forwardColorMixMode() {\ncolorMixMode = float(symbolColorMixMode) + 0.5;\n}`)):(i.fragment.uniforms.add(new r(\"colorMixMode\",(o=>d[o.colorMixMode]))),i.vertex.code.add(e`vec4 getSymbolColor() { return vec4(1.0); }\nvoid forwardColorMixMode() {}`))}export{i as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{addNearFar as e}from\"../ForwardLinearDepth.glsl.js\";import{ShaderOutput as o}from\"../ShaderOutput.js\";import{SliceDraw as r}from\"../Slice.glsl.js\";import{Transform as t}from\"../Transform.glsl.js\";import{NormalAttribute as i,NormalType as a}from\"../attributes/NormalAttribute.glsl.js\";import{ObjectAndLayerIdColor as s}from\"../attributes/ObjectAndLayerIdColor.glsl.js\";import{TextureCoordinateAttribute as l}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as d}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as n}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as c}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as u}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as p}from\"../util/DiscardOrAdjustAlpha.glsl.js\";import{addProjViewLocalOrigin as m}from\"../util/View.glsl.js\";import{glsl as v,If as g}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as f}from\"../../shaderModules/Texture2DPassUniform.js\";import{AlphaDiscardMode as x}from\"../../../lib/basicInterfaces.js\";function h(h,O){const{vertex:j,fragment:w}=h,b=O.hasColorTexture&&O.alphaDiscardMode!==x.Opaque,{output:C,normalType:V,hasColorTextureTransform:A}=O;switch(C){case o.Depth:m(j,O),h.include(t,O),h.include(r,O),h.include(l,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),h.include(p,O),w.main.add(v`\n          discardBySlice(vpos);\n          ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                 discardOrAdjustAlpha(texColor);`)}`);break;case o.Shadow:case o.ShadowHighlight:case o.ShadowExcludeHighlight:case o.ViewshedShadow:case o.ObjectAndLayerIdColor:m(j,O),h.include(t,O),h.include(l,O),h.include(u,O),h.include(n,O),h.include(r,O),h.include(s,O),e(h),h.varyings.add(\"depth\",\"float\"),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPositionWithDepth(proj, view, vpos, nearFar, depth);\nforwardTextureCoordinates();\nforwardObjectAndLayerIdColor();`),h.include(p,O),w.main.add(v`\n          discardBySlice(vpos);\n          ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                 discardOrAdjustAlpha(texColor);`)}\n          ${C===o.ObjectAndLayerIdColor?v`outputObjectAndLayerIdColor();`:v`outputDepth(depth);`}`);break;case o.Normal:{m(j,O),h.include(t,O),h.include(i,O),h.include(d,O),h.include(l,O),h.include(u,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),V===a.ScreenDerivative&&h.varyings.add(\"vPositionView\",\"vec3\");const e=V===a.Attribute||V===a.Compressed;j.main.add(v`\n          vpos = getVertexInLocalOriginSpace();\n          ${e?v`vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:v`vPositionView = (view * vec4(vpos, 1.0)).xyz;`}\n          vpos = subtractOrigin(vpos);\n          vpos = addVerticalOffset(vpos, localOrigin);\n          gl_Position = transformPosition(proj, view, vpos);\n          forwardTextureCoordinates();`),h.include(r,O),h.include(p,O),w.main.add(v`\n          discardBySlice(vpos);\n          ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                 discardOrAdjustAlpha(texColor);`)}\n\n          ${V===a.ScreenDerivative?v`vec3 normal = screenDerivativeNormal(vPositionView);`:v`vec3 normal = normalize(vNormalWorld);\n                     if (gl_FrontFacing == false){\n                       normal = -normal;\n                     }`}\n          fragColor = vec4(0.5 + 0.5 * normal, 1.0);`);break}case o.Highlight:m(j,O),h.include(t,O),h.include(l,O),h.include(u,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),h.include(r,O),h.include(p,O),h.include(c,O),w.main.add(v`\n          discardBySlice(vpos);\n          ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                 discardOrAdjustAlpha(texColor);`)}\n          calculateOcclusionAndOutputHighlight();`)}}export{h as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as t}from\"../ShaderOutput.js\";import{Rgba4FloatEncoding as a}from\"../util/RgbaFloat16Encoding.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e,d){switch(d.output){case t.Shadow:case t.ShadowHighlight:case t.ShadowExcludeHighlight:case t.ViewshedShadow:e.fragment.include(a),e.fragment.code.add(o`float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 20.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nreturn depth + SLOPE_SCALE * m + BIAS;\n}\nvoid outputDepth(float _linearDepth) {\nfragColor = floatToRgba4(_calculateFragDepth(_linearDepth));\n}`)}}export{e as OutputDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IDENTITY as e}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{ONES as t}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextureCoordinateType as r}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexTextureCoordinates as a}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{NormalsDoubleSidedMode as n}from\"./Normals.glsl.js\";import{Float2PassUniform as o}from\"../../shaderModules/Float2PassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";import{Matrix3PassUniform as m}from\"../../shaderModules/Matrix3PassUniform.js\";import{Texture2DDrawUniform as d}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as l}from\"../../shaderModules/Texture2DPassUniform.js\";import{BindType as i}from\"../../shaderTechnique/BindType.js\";import{VertexAttribute as c}from\"../../../lib/VertexAttribute.js\";function T(T,u){const x=T.fragment;u.hasVertexTangents?(T.attributes.add(c.TANGENT,\"vec4\"),T.varyings.add(\"vTangent\",\"vec4\"),u.doubleSidedMode===n.WindingOrder?x.code.add(s`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\nvec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`):x.code.add(s`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = vTangent.w;\nvec3 tangent = normalize(vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`)):x.code.add(s`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\nvec3 Q1 = dFdx(pos);\nvec3 Q2 = dFdy(pos);\nvec2 stx = dFdx(st);\nvec2 sty = dFdy(st);\nfloat det = stx.t * sty.s - sty.t * stx.s;\nvec3 T = stx.t * Q2 - sty.t * Q1;\nT = T - normal * dot(normal, T);\nT *= inversesqrt(max(dot(T,T), 1.e-10));\nvec3 B = sign(det) * cross(normal, T);\nreturn mat3(T, B, normal);\n}`),u.textureCoordinateType!==r.None&&(T.include(a,u),x.uniforms.add(u.bindType===i.Pass?new l(\"normalTexture\",(e=>e.textureNormal)):new d(\"normalTexture\",(e=>e.textureNormal))),u.hasNormalTextureTransform&&(x.uniforms.add(new o(\"scale\",(e=>e.scale??t))),x.uniforms.add(new m(\"normalTextureTransformMatrix\",(t=>t.normalTextureTransformMatrix??e)))),x.code.add(s`vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\nvec3 rawNormal = textureLookup(normalTexture, uv).rgb * 2.0 - 1.0;`),u.hasNormalTextureTransform&&x.code.add(s`mat3 normalTextureRotation = mat3(normalTextureTransformMatrix[0][0]/scale[0], normalTextureTransformMatrix[0][1]/scale[1], 0.0,\nnormalTextureTransformMatrix[1][0]/scale[0], normalTextureTransformMatrix[1][1]/scale[1], 0.0,\n0.0, 0.0, 0.0 );\nrawNormal.xy = (normalTextureRotation * vec3(rawNormal.x, rawNormal.y, 1.0)).xy;`),x.code.add(s`return tangentSpace * rawNormal;\n}`))}export{T as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{i}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as g}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PBRMode as h}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4PassUniform as l}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";function r(n,g){const r=n.fragment,o=void 0!==g.lightingSphericalHarmonicsOrder?g.lightingSphericalHarmonicsOrder:2;0===o?(r.uniforms.add(new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===o?(r.uniforms.add(new l(\"lightingAmbientSH_R\",((i,n)=>t(m,n.lighting.sh.r[0],n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3]))),new l(\"lightingAmbientSH_G\",((i,n)=>t(m,n.lighting.sh.g[0],n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3]))),new l(\"lightingAmbientSH_B\",((i,n)=>t(m,n.lighting.sh.b[0],n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===o&&(r.uniforms.add(new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0]))),new l(\"lightingAmbientSH_R1\",((i,n)=>t(m,n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3],n.lighting.sh.r[4]))),new l(\"lightingAmbientSH_G1\",((i,n)=>t(m,n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3],n.lighting.sh.g[4]))),new l(\"lightingAmbientSH_B1\",((i,n)=>t(m,n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3],n.lighting.sh.b[4]))),new l(\"lightingAmbientSH_R2\",((i,n)=>t(m,n.lighting.sh.r[5],n.lighting.sh.r[6],n.lighting.sh.r[7],n.lighting.sh.r[8]))),new l(\"lightingAmbientSH_G2\",((i,n)=>t(m,n.lighting.sh.g[5],n.lighting.sh.g[6],n.lighting.sh.g[7],n.lighting.sh.g[8]))),new l(\"lightingAmbientSH_B2\",((i,n)=>t(m,n.lighting.sh.b[5],n.lighting.sh.b[6],n.lighting.sh.b[7],n.lighting.sh.b[8])))),r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),g.pbrMode!==h.Normal&&g.pbrMode!==h.Schematic||r.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const a=n(),m=g();export{r as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as o}from\"../../../../../chunks/SSAOBlur.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s,i){super(r,s,new e(o,(()=>import(\"../../shaders/SSAOBlur.glsl.js\"))),i)}initializePipeline(){return s({colorWrite:i})}}export{l as SSAOBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{NoParameters as e}from\"../../core/shaderModules/interfaces.js\";class r extends e{constructor(){super(...arguments),this.projScale=1}}class t extends r{constructor(){super(...arguments),this.intensity=1}}class c extends e{}class o extends c{constructor(){super(...arguments),this.blurSize=s()}}export{o as BlurDrawParameters,r as BlurPassParameters,c as SSAODrawParameters,t as SSAOPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as o}from\"../../../../../chunks/SSAO.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,s,i){super(r,s,new e(o,(()=>import(\"../../shaders/SSAO.glsl.js\"))),i)}initializePipeline(){return s({colorWrite:i})}}export{t as SSAOTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as s}from\"../../../../../core/maybe.js\";import{watch as t}from\"../../../../../core/reactiveUtils.js\";import{Milliseconds as i}from\"../../../../../core/time.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as m}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{InternalRenderCategory as n}from\"../../../webgl.js\";import{ColorFormat as c}from\"../../../webgl/formats.js\";import p from\"../../../webgl/RenderNode.js\";import{distanceFadeEnd as h,distanceFadeStart as l}from\"../../core/shaderLibrary/shading/ScreenSpaceConstants.js\";import{SSAOBlurTechnique as u}from\"./SSAOBlurTechnique.js\";import{noiseData as d}from\"./SSAONoiseData.js\";import{SSAOPassParameters as f,BlurDrawParameters as b}from\"./SSAOParameters.js\";import{SSAOTechnique as w}from\"./SSAOTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{g as S}from\"../../../../../chunks/SSAO.glsl.js\";import{TextureWrapMode as _,PixelFormat as P,DepthStencilAttachment as j,FramebufferBit as g}from\"../../../../webgl/enums.js\";import{Texture as x}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as q}from\"../../../../webgl/TextureDescriptor.js\";const A=2;let O=class extends p{constructor(e){super(e),this.consumes={required:[\"normals\"]},this.produces=n.SSAO,this.isEnabled=()=>!1,this._enableTime=i(0),this._passParameters=new f,this._drawParameters=new b}initialize(){const e=Uint8Array.from(atob(d),(e=>e.charCodeAt(0))),r=new q;r.wrapMode=_.CLAMP_TO_EDGE,r.pixelFormat=P.RGB,r.wrapMode=_.REPEAT,r.hasMipmap=!0,r.width=32,r.height=32,this._passParameters.noiseTexture=new x(this.renderingContext,r,e),this.techniques.precompile(w),this.techniques.precompile(u),this.addHandles(t((()=>this.isEnabled()),(()=>this._enableTime=i(0))))}destroy(){this._passParameters.noiseTexture=s(this._passParameters.noiseTexture)}render(e){const s=this.bindParameters,t=e.find((({name:e})=>\"normals\"===e)),o=t?.getTexture(),a=t?.getTexture(j),p=this.fboCache,d=s.camera,f=d.fullViewport[2],b=d.fullViewport[3],_=Math.round(f/A),P=Math.round(b/A),x=this.techniques.acquire(w),q=this.techniques.acquire(u);if(!x.compiled||!q.compiled)return this._enableTime=i(performance.now()),this.requestRender(T.UPDATE),x.release(),q.release(),p.acquire(_,P,n.SSAO,c.RED);0===this._enableTime&&(this._enableTime=i(performance.now()));const O=this.renderingContext,E=this.view.qualitySettings.fadeDuration,v=d.relativeElevation,R=r((h-v)/(h-l),0,1),C=E>0?Math.min(E,performance.now()-this._enableTime)/E:1,D=C*R;this._passParameters.normalTexture=o,this._passParameters.depthTexture=a,this._passParameters.projScale=1/d.computeScreenPixelSizeAtDist(1),this._passParameters.intensity=4*y/S(d)**6*D;const V=p.acquire(f,b,\"ssao input\",c.RG);O.bindFramebuffer(V.fbo),O.setViewport(0,0,f,b),O.bindTechnique(x,s,this._passParameters,this._drawParameters),O.screen.draw(),x.release();const M=p.acquire(_,P,\"ssao blur\",c.RED);O.bindFramebuffer(M.fbo),this._drawParameters.colorTexture=V.getTexture(),m(this._drawParameters.blurSize,0,A/b),O.bindTechnique(q,s,this._passParameters,this._drawParameters),O.setViewport(0,0,_,P),O.screen.draw(),V.release();const L=p.acquire(_,P,n.SSAO,c.RED);return O.bindFramebuffer(L.fbo),O.setViewport(0,0,f,b),O.setClearColor(1,1,1,0),O.clear(g.COLOR),this._drawParameters.colorTexture=M.getTexture(),m(this._drawParameters.blurSize,A/f,0),O.bindTechnique(q,s,this._passParameters,this._drawParameters),O.setViewport(0,0,_,P),O.screen.draw(),q.release(),O.setViewport4fv(d.fullViewport),M.release(),C<1&&this.requestRender(T.UPDATE),L}};e([o()],O.prototype,\"consumes\",void 0),e([o()],O.prototype,\"produces\",void 0),e([o({constructOnly:!0})],O.prototype,\"techniques\",void 0),e([o({constructOnly:!0})],O.prototype,\"isEnabled\",void 0),O=e([a(\"esri.views.3d.webgl-engine.effects.ssao.SSAO\")],O);const y=.5;export{O as SSAO,A as blurSizePixels};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=\"eXKEvZaUc66cjIKElE1jlJ6MjJ6Ufkl+jn2fcXp5jBx7c6KEflSGiXuXeW6OWs+tfqZ2Yot2Y7Zzfo2BhniEj3xoiXuXj4eGZpqEaHKDWjSMe7palFlzc3BziYOGlFVzg6Zzg7CUY5JrjFF7eYJ4jIKEcyyEonSXe7qUfqZ7j3xofqZ2c4R5lFZ5Y0WUbppoe1l2cIh2ezyUho+BcHN2cG6DbpqJhqp2e1GcezhrdldzjFGUcyxjc3aRjDyEc1h7Sl17c6aMjH92pb6Mjpd4dnqBjMOEhqZleIOBYzB7gYx+fnqGjJuEkWlwnCx7fGl+c4hjfGyRe5qMlNOMfnqGhIWHc6OMi4GDc6aMfqZuc6aMzqJzlKZ+lJ6Me3qRfoFue0WUhoR5UraEa6qMkXiPjMOMlJOGe7JrUqKMjK6MeYRzdod+Sl17boiPc6qEeYBlcIh2c1WEe7GDiWCDa0WMjEmMdod+Y0WcdntzhmN8WjyMjKJjiXtzgYxYaGd+a89zlEV7e2GJfnd+lF1rcK5zc4p5cHuBhL6EcXp5eYB7fnh8iX6HjIKEeaxuiYOGc66RfG2Ja5hzjlGMjEmMe9OEgXuPfHyGhPeEdl6JY02McGuMfnqGhFiMa3WJfnx2l4hwcG1uhmN8c0WMc39og1GBbrCEjE2EZY+JcIh2cIuGhIWHe0mEhIVrc09+gY5+eYBlnCyMhGCDl3drfmmMgX15aGd+gYx+fnuRfnhzY1SMsluJfnd+hm98WtNrcIuGh4SEj0qPdkqOjFF7jNNjdnqBgaqUjMt7boeBhnZ4jDR7c5pze4GGjEFrhLqMjHyMc0mUhKZze4WEa117kWlwbpqJjHZ2eX2Bc09zeId+e0V7WlF7jHJ2l72BfId8l3eBgXyBe897jGl7c66cgW+Xc76EjKNbgaSEjGx4fId8jFFjgZB8cG6DhlFziZhrcIh2fH6HgUqBgXiPY8dahGFzjEmMhEFre2dxhoBzc5SGfleGe6alc7aUeYBlhKqUdlp+cH5za4OEczxza0Gcc4J2jHZ5iXuXjH2Jh5yRjH2JcFx+hImBjH+MpddCl3dreZeJjIt8ZW18bm1zjoSEeIOBlF9oh3N7hlqBY4+UeYFwhLJjeYFwaGd+gUqBYxiEYot2fqZ2ondzhL6EYyiEY02Ea0VjgZB8doaGjHxoc66cjEGEiXuXiXWMiZhreHx8frGMe75rY02Ec5pzfnhzlEp4a3VzjM+EhFFza3mUY7Zza1V5e2iMfGyRcziEhDyEkXZ2Y4OBnCx7g5t2eyBjgV6EhEFrcIh2dod+c4Z+nJ5zjm15jEmUeYxijJp7nL6clIpjhoR5WrZraGd+fnuRa6pzlIiMg6ZzfHx5foh+eX1ufnB5eX1ufnB5aJt7UqKMjIh+e3aBfm5lbYSBhGFze6J4c39oc0mUc4Z+e0V7fKFVe0WEdoaGY02Ec4Z+Y02EZYWBfH6HgU1+gY5+hIWUgW+XjJ57ebWRhFVScHuBfJ6PhBx7WqJzlM+Ujpd4gHZziX6HjHmEgZN+lJt5boiPe2GJgX+GjIGJgHZzeaxufnB5hF2JtdN7jJ57hp57hK6ElFVzg6ZzbmiEbndzhIWHe3uJfoFue3qRhJd2j3xoc65zlE1jc3p8lE1jhniEgXJ7e657vZaUc3qBh52BhIF4aHKDa9drgY5+c52GWqZzbpqJe8tjnM+UhIeMfo2BfGl+hG1zSmmMjKJjZVaGgX15c1lze0mEp4OHa3mUhIWHhDyclJ6MeYOJkXiPc0VzhFiMlKaEboSJa5Jze41re3qRhn+HZYWBe0mEc4p5fnORbox5lEp4hGFjhGGEjJuEc1WEhLZjeHeGa7KlfHx2hLaMeX1ugY5+hIWHhKGPjMN7c1WEho1zhoBzZYx7fnhzlJt5exyUhFFziXtzfmmMa6qMYyiEiXxweV12kZSMeWqXSl17fnhzxmmMrVGEe1mcc4p5eHeGjK6MgY5+doaGa6pzlGV7g1qBh4KHkXiPeW6OaKqafqZ2eXZ5e1V7jGd7boSJc3BzhJd2e0mcYot2h1RoY8dahK6EQmWEWjx7e1l2lL6UgXyBdnR4eU9zc0VreX1umqaBhld7fo2Bc6KEc5Z+hDyEcIeBWtNrfHyGe5qMhMuMe5qMhEGEbVVupcNzg3aHhIF4boeBe0mEdlptc39ofFl5Y8uUlJOGiYt2UmGEcyxjjGx4jFF7a657ZYWBnElzhp57iXtrgZN+tfOEhIOBjE2HgU1+e8tjjKNbiWCDhE15gUqBgYN7fnqGc66ce9d7iYSBj0qPcG6DnGGcT3eGa6qMZY+JlIiMl4hwc3aRdnqBlGV7eHJ2hLZjfnuRhDyEeX6MSk17g6Z+c6aUjHmEhIF4gXyBc76EZW18fGl+fkl+jCxrhoVwhDyUhIqGlL2DlI6EhJd2tdN7eYORhEGMa2Faa6pzc3Bzc4R5lIRznM+UY9eMhDycc5Z+c4p5c4iGY117pb6MgXuPrbJafnx2eYOJeXZ5e657hDyEcziElKZjfoB5eHeGj4WRhGGEe6KGeX1utTStc76EhFGJnCyMa5hzfH6HnNeceYB7hmN8gYuMhIVrczSMgYF8h3N7c5pza5hzjJqEYIRdgYuMlL2DeYRzhGGEeX1uhLaEc4iGeZ1zdl6JhrVteX6Me2iMfm5lWqJzSpqEa6pzdnmchHx2c6OMhNdrhoR5g3aHczxzeW52gV6Ejm15frGMc0Vzc4Z+l3drfniJe+9rWq5rlF1rhGGEhoVwe9OEfoh+e7pac09+c3qBY0lrhDycdnp2lJ6MiYOGhGCDc3aRlL2DlJt5doaGdnp2gYF8gWeOjF2Uc4R5c5Z+jEmMe7KEc4mEeYJ4dmyBe0mcgXiPbqJ7eYB7fmGGiYSJjICGlF1reZ2PnElzbpqJfH6Hc39oe4WEc5eJhK6EhqyJc3qBgZB8c09+hEmEaHKDhFGJc5SGiXWMUpaEa89zc6OMnCyMiXtrho+Be5qMc7KEjJ57dmN+hKGPjICGbmiEe7prdod+hGCDdnmchBx7eX6MkXZ2hGGEa657hm98jFFjY5JreYOJgY2EjHZ2a295Y3FajJ6Mc1J+YzB7e4WBjF2Uc4R5eV12gYxzg1qBeId+c9OUc5pzjFFjgY5+hFiMlIaPhoR5lIpjjIKBlNdSe7KEeX2BfrGMhIqGc65zjE2UhK6EklZ+QmWEeziMWqZza3VzdnR4foh+gYF8n3iJiZhrnKp7gYF8eId+lJ6Me1lrcIuGjKJjhmN8c66MjFF7a6prjJ6UnJ5zezyUfruRWlF7nI5zfHyGe657h4SEe8tjhBx7jFFjc09+c39ojICMeZeJeXt+YzRzjHZ2c0WEcIeBeXZ5onSXkVR+gYJ+eYFwdldzgYF7eX2BjJ6UiXuXlE1jh4SEe1mchLJjc4Z+hqZ7eXZ5bm1zlL6Ue5p7iWeGhKqUY5pzjKJjcIeBe8t7gXyBYIRdlEp4a3mGnK6EfmmMZpqEfFl5gYxzjKZuhGFjhoKGhHx2fnx2eXuMe3aBiWeGvbKMe6KGa5hzYzB7gZOBlGV7hmN8hqZlYot2Y117a6pzc6KEfId8foB5rctrfneJfJ6PcHN2hFiMc5pzjH92c0VzgY2EcElzdmCBlFVzg1GBc65zY4OBboeBcHiBeYJ4ewxzfHx5lIRzlEmEnLKEbk1zfJ6PhmN8eYBljBiEnMOEiXxwezyUcIeBe76EdsKEeX2BdnR4jGWUrXWMjGd7fkl+j4WRlEGMa5Jzho+BhDyEfnqMeXt+g3aHlE1jczClhNN7ZW18eHx8hGFjZW18iXWMjKJjhH57gYuMcIuGWjyMe4ZtjJuExmmMj4WRdntzi4GDhFFzYIRdnGGcjJp7Y0F7e4WEkbCGiX57fnSHa657a6prhBCMe3Z+SmmMjH92eHJ2hK6EY1FzexhrvbKMnI5za4OEfnd+eXuMhImBe897hLaMjN+EfG+BeIOBhF1+eZeJi4GDkXZ2eXKEgZ6Ejpd4c2GHa1V5e5KUfqZuhCx7jKp7lLZrg11+hHx2hFWUoot2nI5zgbh5mo9zvZaUe3qRbqKMfqZ2kbCGhFiM\";export{e as noiseData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as s}from\"../../shaderModules/Texture2DPassUniform.js\";import{blurSizePixels as r}from\"../../../effects/ssao/SSAO.js\";function t(t,o){const a=t.fragment;o.receiveAmbientOcclusion?(a.uniforms.add(new s(\"ssaoTex\",((e,s)=>s.ssao?.getTexture()))),a.constants.add(\"blurSizePixelsInverse\",\"float\",1/r),a.code.add(e`float evaluateAmbientOcclusionInverse() {\nvec2 ssaoTextureSizeInverse = 1.0 / vec2(textureSize(ssaoTex, 0));\nreturn texture(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).r;\n}\nfloat evaluateAmbientOcclusion() {\nreturn 1.0 - evaluateAmbientOcclusionInverse();\n}`)):a.code.add(e`float evaluateAmbientOcclusionInverse() { return 1.0; }\nfloat evaluateAmbientOcclusion() { return 0.0; }`)}export{t as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as i}from\"../../../../../../core/compilerUtils.js\";import{EvaluateAmbientLighting as n}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateAmbientOcclusion as e}from\"./EvaluateAmbientOcclusion.glsl.js\";import{addMainLightDirection as o,addMainLightIntensity as t,applyShading as a}from\"./MainLighting.glsl.js\";import{PhysicallyBasedRendering as r}from\"./PhysicallyBasedRendering.glsl.js\";import{PBRMode as l}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{PiUtils as c}from\"./PiUtils.glsl.js\";import{BooleanPassUniform as d}from\"../../shaderModules/BooleanPassUniform.js\";import{FloatPassUniform as s}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/interfaces.js\";import{ambientBoost as g}from\"../../../lighting/SceneLighting.js\";function h(i){i.constants.add(\"ambientBoostFactor\",\"float\",g)}function u(i){i.uniforms.add(new s(\"lightingGlobalFactor\",((i,n)=>n.lighting.globalFactor)))}function p(g,p){const v=g.fragment;switch(g.include(e,p),p.pbrMode!==l.Disabled&&g.include(r,p),g.include(n,p),g.include(c),v.code.add(m`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${p.pbrMode===l.Disabled?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),h(v),u(v),o(v),v.code.add(m`\n    float additionalDirectedAmbientLight(vec3 vPosWorld) {\n      float vndl = dot(${p.spherical?m`normalize(vPosWorld)`:m`vec3(0.0, 0.0, 1.0)`}, mainLightDirection);\n      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n    }\n  `),t(v),v.code.add(m`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\nfloat additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);\nreturn (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * mainLightIntensity;\n}`),p.pbrMode){case l.Disabled:case l.WaterOnIntegratedMesh:case l.Water:g.include(a),v.code.add(m`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\nvec3 mainLighting = applyShading(normalWorld, shadow);\nvec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);\nvec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\nvec3 totalLight = mainLighting + ambientLighting + additionalLight;\ntotalLight = min(totalLight, vec3(PI));\nvec3 outColor = vec3((albedoLinear / PI) * totalLight);\nreturn pow(outColor, vec3(INV_GAMMA_SRGB));\n}`);break;case l.Normal:case l.Schematic:v.code.add(m`const float fillLightIntensity = 0.25;\nconst float horizonLightDiffusion = 0.4;\nconst float additionalAmbientIrradianceFactor = 0.02;\nvec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec4 _emission, float additionalAmbientIrradiance)\n{\nvec3 viewDirection = -viewDir;\nvec3 h = normalize(viewDirection + mainLightDirection);\nPBRShadingInfo inputs;\ninputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\ninputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\nvec3 reflectedView = normalize(reflect(viewDirection, normal));\ninputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\ninputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\ninputs.ssao = ssao;\ninputs.metalness = mrr[0];\ninputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`),v.code.add(m`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\ninputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));\ninputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`),p.useFillLights?v.uniforms.add(new d(\"hasFillLights\",((i,n)=>n.enableFillLights))):v.constants.add(\"hasFillLights\",\"bool\",!1),v.code.add(m`vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\nambientDir = ambientDir != vec3(0.0) ? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\ninputs.NdotAmbDir = hasFillLights ? abs(dot(normal, ambientDir)) : 1.0;\nfloat NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\nvec3 mainLightIrradianceComponent = NdotL * (1.0 - shadow) * mainLightIntensity;\nvec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\ninputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\ninputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`),v.uniforms.add(new s(\"lightingSpecularStrength\",((i,n)=>n.lighting.mainLight.specularStrength)),new s(\"lightingEnvironmentStrength\",((i,n)=>n.lighting.mainLight.environmentStrength))).code.add(m`vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\nvec3 horizonRingH = normalize(viewDirection + horizonRingDir);\ninputs.NdotH_Horizon = dot(normal, horizonRingH);\nfloat NdotH = clamp(dot(normal, h), 0.0, 1.0);\nvec3 mainLightRadianceComponent = lightingSpecularStrength * normalDistribution(NdotH, inputs.roughness) * mainLightIntensity * (1.0 - shadow);\nvec3 horizonLightRadianceComponent = lightingEnvironmentStrength * normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightRadianceComponent = lightingEnvironmentStrength * calculateAmbientRadiance(ssao) + additionalLight;\nfloat normalDirectionModifier = mix(1., min(mix(0.1, 2.0, (inputs.NdotNG + 1.) * 0.5), 1.0), clamp(inputs.roughness * 5.0, 0.0 , 1.0));\ninputs.skyRadianceToSurface = (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.groundRadianceToSurface = 0.5 * GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);`),v.code.add(m`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = _emission.rgb == vec3(0.0) ? _emission.rgb : pow(_emission.rgb, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${p.pbrMode!==l.Schematic||p.hasColorTexture?m`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`:m`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `);break;case l.Simplified:case l.TerrainWithWater:o(v),t(v),v.code.add(m`const float roughnessTerrain = 0.5;\nconst float specularityTerrain = 0.5;\nconst vec3 fresnelReflectionTerrain = vec3(0.04);\nvec3 evaluatePBRSimplifiedLighting(vec3 n, vec3 c, float shadow, float ssao, vec3 al, vec3 vd, vec3 nup) {\nvec3 viewDirection = -vd;\nvec3 h = normalize(viewDirection + mainLightDirection);\nfloat NdotL = clamp(dot(n, mainLightDirection), 0.001, 1.0);\nfloat NdotV = clamp(abs(dot(n, viewDirection)), 0.001, 1.0);\nfloat NdotH = clamp(dot(n, h), 0.0, 1.0);\nfloat NdotNG = clamp(dot(n, nup), -1.0, 1.0);\nvec3 albedoLinear = pow(c, vec3(GAMMA_SRGB));\nfloat lightness = 0.3 * albedoLinear[0] + 0.5 * albedoLinear[1] + 0.2 * albedoLinear[2];\nvec3 f0 = (0.85 * lightness + 0.15) * fresnelReflectionTerrain;\nvec3 f90 =  vec3(clamp(dot(f0, vec3(50.0 * 0.33)), 0.0, 1.0));\nvec3 mainLightIrradianceComponent = (1. - shadow) * NdotL * mainLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(n, ssao) + al;\nvec3 ambientSky = ambientLightIrradianceComponent + mainLightIrradianceComponent;\nvec3 indirectDiffuse = ((1.0 - NdotNG) * mainLightIrradianceComponent + (1.0 + NdotNG ) * ambientSky) * 0.5;\nvec3 outDiffColor = albedoLinear * (1.0 - f0) * indirectDiffuse / PI;\nvec3 mainLightRadianceComponent = normalDistribution(NdotH, roughnessTerrain) * mainLightIntensity;\nvec2 dfg = prefilteredDFGAnalytical(roughnessTerrain, NdotV);\nvec3 specularColor = f0 * dfg.x + f90 * dfg.y;\nvec3 specularComponent = specularityTerrain * specularColor * mainLightRadianceComponent;\nvec3 outColorLinear = outDiffColor + specularComponent;\nvec3 outColor = pow(outColorLinear, vec3(INV_GAMMA_SRGB));\nreturn outColor;\n}`);break;default:i(p.pbrMode);case l.COUNT:}}export{p as EvaluateSceneLighting,h as addAmbientBoostFactor,u as addLightingGlobalFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function e(e,o){const n=e.fragment;switch(n.code.add(r`struct ShadingNormalParameters {\nvec3 normalView;\nvec3 viewDirection;\n} shadingParams;`),o.doubleSidedMode){case i.None:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn normalize(params.normalView);\n}`);break;case i.View:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n}`);break;case i.WindingOrder:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n}`);break;default:a(o.doubleSidedMode);case i.COUNT:}}var i;!function(a){a[a.None=0]=\"None\",a[a.View=1]=\"View\",a[a.WindingOrder=2]=\"WindingOrder\",a[a.COUNT=3]=\"COUNT\"}(i||(i={}));export{e as Normals,i as NormalsDoubleSidedMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"./Uniform.js\";import{BindType as e}from\"../shaderTechnique/BindType.js\";class o extends r{constructor(r,o,s){super(r,\"mat4\",e.Draw,((e,s,t,i)=>e.setUniformMatrix4fv(r,o(s,t,i))),s)}}export{o as Matrix4sDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"./Uniform.js\";import{BindType as s}from\"../shaderTechnique/BindType.js\";class e extends r{constructor(r,e,o){super(r,\"mat4\",s.Pass,((s,o,t)=>s.setUniformMatrix4fv(r,e(o,t))),o)}}export{e as Matrix4sPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IDENTITY as e}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as s}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Rgba4FloatEncoding as a}from\"../util/RgbaFloat16Encoding.glsl.js\";import{Float4PassUniform as t}from\"../../shaderModules/Float4PassUniform.js\";import{IntegerPassUniform as o}from\"../../shaderModules/IntegerPassUniform.js\";import{NoParameters as i,glsl as r}from\"../../shaderModules/interfaces.js\";import{Matrix4sDrawUniform as c}from\"../../shaderModules/Matrix4sDrawUniform.js\";import{Matrix4sPassUniform as d}from\"../../shaderModules/Matrix4sPassUniform.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";class n extends i{constructor(){super(...arguments),this.origin=s()}}class l extends n{}class v extends i{constructor(){super(...arguments),this.modelTransformation=e}}class h extends v{constructor(){super(...arguments),this.origin=s()}}function m(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new d(\"shadowMapMatrix\",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),f(e))}function x(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new c(\"shadowMapMatrix\",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),f(e))}function f(e){const s=e.fragment;s.include(a),s.uniforms.add(new p(\"shadowMap\",((e,s)=>s.shadowMap.depthTexture)),new o(\"numCascades\",((e,s)=>s.shadowMap.numCascades)),new t(\"cascadeDistances\",((e,s)=>s.shadowMap.cascadeDistances))).code.add(r`int chooseCascade(float depth, out mat4 mat) {\nvec4 distance = cascadeDistances;\nint i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\nmat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];\nreturn i;\n}\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, ivec2 textureSize, vec3 lvpos) {\nfloat xScale = float(textureSize.y) / float(textureSize.x);\nreturn vec2((float(i) + lvpos.x) * xScale, lvpos.y);\n}\nfloat readShadowMapDepth(ivec2 uv, sampler2D _depthTex) {\nreturn rgba4ToFloat(texelFetch(_depthTex, uv, 0));\n}\nfloat posIsInShadow(ivec2 uv, vec3 lvpos, sampler2D _depthTex) {\nreturn readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n}\nfloat filterShadow(vec2 uv, vec3 lvpos, ivec2 texSize, sampler2D _depthTex) {\nvec2 st = fract(uv * vec2(texSize) + vec2(0.5));\nivec2 base = ivec2(uv * vec2(texSize) - vec2(0.5));\nfloat s00 = posIsInShadow(ivec2(base.x, base.y), lvpos, _depthTex);\nfloat s10 = posIsInShadow(ivec2(base.x + 1, base.y), lvpos, _depthTex);\nfloat s11 = posIsInShadow(ivec2(base.x + 1, base.y + 1), lvpos, _depthTex);\nfloat s01 = posIsInShadow(ivec2(base.x, base.y + 1), lvpos, _depthTex);\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat readShadowMap(const in vec3 _vpos, float _linearDepth) {\nmat4 mat;\nint i = chooseCascade(_linearDepth, mat);\nif (i >= numCascades) { return 0.0; }\nvec3 lvpos = lightSpacePosition(_vpos, mat);\nif (lvpos.z >= 1.0 || lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\nivec2 size = textureSize(shadowMap, 0);\nvec2 uv = cascadeCoordinates(i, size, lvpos);\nreturn filterShadow(uv, lvpos, size, shadowMap);\n}`)}export{x as ReadShadowMapDraw,l as ReadShadowMapDrawParameters,v as ReadShadowMapParameters,m as ReadShadowMapPass,h as ReadShadowMapPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{IDENTITY as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{TextureCoordinateType as e}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";import{Matrix3PassUniform as a}from\"../../shaderModules/Matrix3PassUniform.js\";function s(e,s){s.hasColorTextureTransform?(e.varyings.add(\"colorUV\",\"vec2\"),e.vertex.uniforms.add(new a(\"colorTextureTransformMatrix\",(e=>e.colorTextureTransformMatrix??r))).code.add(o`void forwardColorUV(){\ncolorUV = (colorTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):e.vertex.code.add(o`void forwardColorUV(){}`)}function i(s,i){i.hasNormalTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"normalUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"normalTextureTransformMatrix\",(e=>e.normalTextureTransformMatrix??r))).code.add(o`void forwardNormalUV(){\nnormalUV = (normalTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardNormalUV(){}`)}function t(s,i){i.hasEmissionTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"emissiveUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"emissiveTextureTransformMatrix\",(e=>e.emissiveTextureTransformMatrix??r))).code.add(o`void forwardEmissiveUV(){\nemissiveUV = (emissiveTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardEmissiveUV(){}`)}function d(s,i){i.hasOcclusionTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"occlusionUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"occlusionTextureTransformMatrix\",(e=>e.occlusionTextureTransformMatrix??r))).code.add(o`void forwardOcclusionUV(){\nocclusionUV = (occlusionTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardOcclusionUV(){}`)}function n(s,i){i.hasMetallicRoughnessTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"metallicRoughnessUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"metallicRoughnessTextureTransformMatrix\",(e=>e.metallicRoughnessTextureTransformMatrix??r))).code.add(o`void forwardMetallicRoughnessUV(){\nmetallicRoughnessUV = (metallicRoughnessTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardMetallicRoughnessUV(){}`)}export{s as colorTextureUV,t as emissiveTextureUV,n as metallicRoughnessTextureUV,i as normalTextureUV,d as occlusionTextureUV};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"./Uniform.js\";import{BindType as o}from\"../shaderTechnique/BindType.js\";class e extends r{constructor(r,e){super(r,\"float\",o.Draw,((o,s,t)=>o.setUniform1f(r,e(s,t))))}}export{e as FloatDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{alphaCutoff as o}from\"./AlphaCutoff.js\";import{FloatDrawUniform as a}from\"../../shaderModules/FloatDrawUniform.js\";import{FloatPassUniform as r}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";import{AlphaDiscardMode as d}from\"../../../lib/basicInterfaces.js\";function t(o,a){f(o,a,new r(\"textureAlphaCutoff\",(o=>o.textureAlphaCutoff)))}function s(o,r){f(o,r,new a(\"textureAlphaCutoff\",(o=>o.textureAlphaCutoff)))}function f(a,r,t){const s=a.fragment;switch(r.alphaDiscardMode){case d.Blend:a.fragment.code.add(e`\n        #define discardOrAdjustAlpha(color) { if (color.a < ${e.float(o)}) { discard; } }\n      `);break;case d.Opaque:s.code.add(e`void discardOrAdjustAlpha(inout vec4 color) {\ncolor.a = 1.0;\n}`);break;case d.Mask:s.uniforms.add(t).code.add(e`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }`);break;case d.MaskBlend:s.uniforms.add(t).code.add(e`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }`)}}export{s as DiscardOrAdjustAlphaDraw,t as DiscardOrAdjustAlphaPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ColorMixModeEnum as e}from\"../../../../layers/support/symbolColorUtils.js\";import{ColorConversion as t}from\"./ColorConversion.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function i(i){i.include(t),i.code.add(r`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${r.int(e.Multiply)}) {\n        return allMixed;\n      }\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalColor;\n      }\n\n      // tint (or something invalid)\n      float vIn = rgb2v(internalMixed);\n      vec3 hsvTint = rgb2hsv(externalColor);\n      vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n      return hsv2rgb(hsvOut);\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalOpacity;\n      }\n\n      // multiply or tint (or something invalid)\n      return allMixed;\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function a(a){a.code.add(o`const float MAX_RGBA4_FLOAT =\n15.0 / 16.0 +\n15.0 / 16.0 / 16.0 +\n15.0 / 16.0 / 16.0 / 16.0 +\n15.0 / 16.0 / 16.0 / 16.0 / 16.0;\nconst vec4 FIXED_POINT_FACTORS_RGBA4 = vec4(1.0, 16.0, 16.0 * 16.0, 16.0 * 16.0 * 16.0);\nvec4 floatToRgba4(const float value) {\nfloat valueInValidDomain = clamp(value, 0.0, MAX_RGBA4_FLOAT);\nvec4 fixedPointU4 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS_RGBA4) * 16.0);\nconst float toU4AsFloat = 1.0 / 15.0;\nreturn fixedPointU4 * toU4AsFloat;\n}\nconst vec4 RGBA4_2_FLOAT_FACTORS = vec4(\n15.0 / (16.0),\n15.0 / (16.0 * 16.0),\n15.0 / (16.0 * 16.0 * 16.0),\n15.0 / (16.0 * 16.0 * 16.0 * 16.0)\n);\nfloat rgba4ToFloat(vec4 rgba) {\nreturn dot(rgba, RGBA4_2_FLOAT_FACTORS);\n}`)}export{a as Rgba4FloatEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{NormalType as t}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateType as o}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as s}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as r}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as i}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{AlphaDiscardMode as h,CullFaceOptions as p,DepthTestFunction as n}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";class c extends l{constructor(e,o){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=o,this.alphaDiscardMode=h.Opaque,this.doubleSidedMode=r.None,this.pbrMode=i.Disabled,this.cullFace=p.None,this.normalType=t.Attribute,this.customDepthTest=n.Less,this.emissionSource=s.None,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.hasVerticalOffset=!1,this.hasSlicePlane=!1,this.hasSliceHighlight=!0,this.hasColorTexture=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.hasScreenSizePerspective=!1,this.hasVertexTangents=!1,this.hasOccludees=!1,this.hasModelTransformation=!1,this.offsetBackfaces=!1,this.vvSize=!1,this.vvColor=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.textureAlphaPremultiplied=!1,this.instanced=!1,this.instancedColor=!1,this.writeDepth=!0,this.transparent=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.snowCover=!1,this.hasColorTextureTransform=!1,this.hasEmissionTextureTransform=!1,this.hasNormalTextureTransform=!1,this.hasOcclusionTextureTransform=!1,this.hasMetallicRoughnessTextureTransform=!1,this.occlusionPass=!1,this.hasVvInstancing=!0,this.useCustomDTRExponentForWater=!1,this.useFillLights=!0}get textureCoordinateType(){return this.hasColorTexture||this.hasMetallicRoughnessTexture||this.emissionSource===s.Texture||this.hasOcclusionTexture||this.hasNormalTexture?o.Default:o.None}get objectAndLayerIdColorInstanced(){return this.instanced}get discardInvisibleFragments(){return this.transparent}}e([a({count:h.COUNT})],c.prototype,\"alphaDiscardMode\",void 0),e([a({count:r.COUNT})],c.prototype,\"doubleSidedMode\",void 0),e([a({count:i.COUNT})],c.prototype,\"pbrMode\",void 0),e([a({count:p.COUNT})],c.prototype,\"cullFace\",void 0),e([a({count:t.COUNT})],c.prototype,\"normalType\",void 0),e([a({count:n.COUNT})],c.prototype,\"customDepthTest\",void 0),e([a({count:s.COUNT})],c.prototype,\"emissionSource\",void 0),e([a()],c.prototype,\"hasVertexColors\",void 0),e([a()],c.prototype,\"hasSymbolColors\",void 0),e([a()],c.prototype,\"hasVerticalOffset\",void 0),e([a()],c.prototype,\"hasSlicePlane\",void 0),e([a()],c.prototype,\"hasSliceHighlight\",void 0),e([a()],c.prototype,\"hasColorTexture\",void 0),e([a()],c.prototype,\"hasMetallicRoughnessTexture\",void 0),e([a()],c.prototype,\"hasOcclusionTexture\",void 0),e([a()],c.prototype,\"hasNormalTexture\",void 0),e([a()],c.prototype,\"hasScreenSizePerspective\",void 0),e([a()],c.prototype,\"hasVertexTangents\",void 0),e([a()],c.prototype,\"hasOccludees\",void 0),e([a()],c.prototype,\"hasModelTransformation\",void 0),e([a()],c.prototype,\"offsetBackfaces\",void 0),e([a()],c.prototype,\"vvSize\",void 0),e([a()],c.prototype,\"vvColor\",void 0),e([a()],c.prototype,\"receiveShadows\",void 0),e([a()],c.prototype,\"receiveAmbientOcclusion\",void 0),e([a()],c.prototype,\"textureAlphaPremultiplied\",void 0),e([a()],c.prototype,\"instanced\",void 0),e([a()],c.prototype,\"instancedColor\",void 0),e([a()],c.prototype,\"writeDepth\",void 0),e([a()],c.prototype,\"transparent\",void 0),e([a()],c.prototype,\"enableOffset\",void 0),e([a()],c.prototype,\"terrainDepthTest\",void 0),e([a()],c.prototype,\"cullAboveTerrain\",void 0),e([a()],c.prototype,\"snowCover\",void 0),e([a()],c.prototype,\"hasColorTextureTransform\",void 0),e([a()],c.prototype,\"hasEmissionTextureTransform\",void 0),e([a()],c.prototype,\"hasNormalTextureTransform\",void 0),e([a()],c.prototype,\"hasOcclusionTextureTransform\",void 0),e([a()],c.prototype,\"hasMetallicRoughnessTextureTransform\",void 0);export{c as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{DefaultMaterialTechnique as r}from\"./DefaultMaterialTechnique.js\";import{R as s}from\"../../../../chunks/RealisticTree.glsl.js\";class i extends r{constructor(r,i,t){super(r,i,t,new e(s,(()=>import(\"./RealisticTree.glsl.js\")))),this.type=\"RealisticTreeTechnique\"}}export{i as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{p as e,i as r,c as t,n as i,d as s,l as a,h as o,f as n,q as c}from\"../../../../chunks/vec32.js\";import{ZEROS as l,create as u,fromValues as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ViewingMode as f}from\"../../../ViewingMode.js\";import{newLayout as m}from\"../../support/buffer/InterleavedLayout.js\";import{is3DGeometryOutputMRT as p,isShadowRelatedOutput as d,is3DGeometryOutput as g,ShaderOutput as T}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as x}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{EmissionSource as v}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as _}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as b}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{alphaCutoff as S}from\"../core/shaderLibrary/util/AlphaCutoff.js\";import{olidEnabled as O}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as M}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as w}from\"../lib/GLTextureMaterial.js\";import{Material as R}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as y}from\"../lib/OrderIndependentTransparency.js\";import{intersectTriangleGeometry as C}from\"../lib/RayIntersections.js\";import{RenderSlot as A}from\"../lib/RenderSlot.js\";import{VertexAttribute as I}from\"../lib/VertexAttribute.js\";import{getVerticalOffsetObject3D as P}from\"../lib/verticalOffsetUtils.js\";import{DefaultBufferWriter as j}from\"./DefaultBufferWriter.js\";import{verticalOffsetAtDistance as L}from\"./internal/MaterialUtil.js\";import{DefaultMaterialTechnique as D,DefaultMaterialPassParameters as N}from\"../shaders/DefaultMaterialTechnique.js\";import{DefaultMaterialTechniqueConfiguration as E}from\"../shaders/DefaultMaterialTechniqueConfiguration.js\";import{RealisticTreeTechnique as V}from\"../shaders/RealisticTreeTechnique.js\";class B extends R{constructor(e,r){super(e,z),this.materialType=\"default\",this.supportsEdges=!0,this.produces=new Map([[A.OPAQUE_MATERIAL,e=>(p(e)||d(e))&&!this.parameters.transparent],[A.TRANSPARENT_MATERIAL,e=>(p(e)||d(e))&&this.parameters.transparent&&this.parameters.writeDepth],[A.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(g(e)||d(e))&&this.parameters.transparent&&!this.parameters.writeDepth]]),this._vertexBufferLayout=U(this.parameters),this._configuration=new E(r.spherical,r.doublePrecisionRequiresObfuscation)}isVisibleForOutput(e){return e!==T.Shadow&&e!==T.ShadowExcludeHighlight&&e!==T.ShadowHighlight||this.parameters.castShadows}get visible(){const e=this.parameters;if(e.layerOpacity<S)return!1;const{hasInstancedColor:r,hasVertexColors:t,hasSymbolColors:i,vvColor:s}=e,a=r||s||i,o=\"replace\"===e.colorMixMode,n=e.opacity>=S;if(t&&a)return o||n;const c=e.externalColor&&e.externalColor[3]>=S;return t?o?c:n:a?o||n:o?c:n}get hasEmissions(){return!!this.parameters.emissiveTextureId||!e(this.parameters.emissiveFactor,l)}getConfiguration(e,r){const t=this.parameters,{treeRendering:i,doubleSided:s,doubleSidedType:a}=t;return this._configuration.output=e,this._configuration.hasNormalTexture=!i&&!!t.normalTextureId,this._configuration.hasColorTexture=!!t.textureId,this._configuration.hasVertexTangents=!i&&t.hasVertexTangents,this._configuration.instanced=t.isInstanced,this._configuration.instancedDoublePrecision=t.instancedDoublePrecision,this._configuration.vvSize=!!t.vvSize,this._configuration.hasVerticalOffset=null!=t.verticalOffset,this._configuration.hasScreenSizePerspective=null!=t.screenSizePerspective,this._configuration.hasSlicePlane=t.hasSlicePlane,this._configuration.hasSliceHighlight=t.hasSliceHighlight,this._configuration.alphaDiscardMode=t.textureAlphaMode,this._configuration.normalType=i?x.Attribute:t.normalType,this._configuration.transparent=t.transparent,this._configuration.writeDepth=t.writeDepth,null!=t.customDepthTest&&(this._configuration.customDepthTest=t.customDepthTest),this._configuration.hasOccludees=r.hasOccludees,this._configuration.cullFace=t.hasSlicePlane?M.None:t.cullFace,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.hasModelTransformation=!i&&null!=t.modelTransformation,this._configuration.hasVertexColors=t.hasVertexColors,this._configuration.hasSymbolColors=t.hasSymbolColors,this._configuration.doubleSidedMode=i?_.WindingOrder:s&&\"normal\"===a?_.View:s&&\"winding-order\"===a?_.WindingOrder:_.None,this._configuration.instancedColor=t.hasInstancedColor,this._configuration.receiveShadows=t.receiveShadows&&t.receiveShadows,this._configuration.receiveAmbientOcclusion=t.receiveAmbientOcclusion&&null!=r.ssao,this._configuration.vvColor=!!t.vvColor,this._configuration.textureAlphaPremultiplied=!!t.textureAlphaPremultiplied,this._configuration.pbrMode=t.usePBR?t.isSchematic?b.Schematic:b.Normal:b.Disabled,this._configuration.hasMetallicRoughnessTexture=!i&&!!t.metallicRoughnessTextureId,this._configuration.emissionSource=i?v.None:null!=t.emissiveTextureId?v.Texture:t.usePBR?v.Value:v.None,this._configuration.hasOcclusionTexture=!i&&!!t.occlusionTextureId,this._configuration.offsetBackfaces=!(!t.transparent||!t.offsetTransparentBackfaces),this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<y,this._configuration.snowCover=H(r),this._configuration.hasColorTextureTransform=!!t.colorTextureTransformMatrix,this._configuration.hasNormalTextureTransform=!!t.normalTextureTransformMatrix,this._configuration.hasEmissionTextureTransform=!!t.emissiveTextureTransformMatrix,this._configuration.hasOcclusionTextureTransform=!!t.occlusionTextureTransformMatrix,this._configuration.hasMetallicRoughnessTextureTransform=!!t.metallicRoughnessTextureTransformMatrix,this._configuration}intersect(e,l,u,h,m,p){if(null!=this.parameters.verticalOffset){const e=u.camera;r(J,l[12],l[13],l[14]);let p=null;switch(u.viewingMode){case f.Global:p=i(G,J);break;case f.Local:p=t(G,F)}let d=0;const g=s(Q,J,e.eye),T=a(g),x=o(g,g,1/T);let v=null;this.parameters.screenSizePerspective&&(v=n(p,x)),d+=L(e,T,this.parameters.verticalOffset,v??0,this.parameters.screenSizePerspective),o(p,p,d),c(Y,p,u.transform.inverseRotation),h=s(W,h,Y),m=s(k,m,Y)}C(e,u,h,m,P(u.verticalOffset),p)}createGLMaterial(e){return new q(e)}createBufferWriter(){return new j(this._vertexBufferLayout)}}class q extends w{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){this._material.setParameters({receiveShadows:e.shadowMap.enabled});const t=this._material.parameters;this.updateTexture(t.textureId);const i=e.camera.viewInverseTransposeMatrix;return r(t.origin,i[3],i[7],i[11]),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(t.treeRendering?V:D,e)}}class z extends N{constructor(){super(...arguments),this.initTextureTransparent=!1,this.treeRendering=!1,this.hasVertexTangents=!1}}function H(e){return null!=e.weather&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}function U(e){const r=m().vec3f(I.POSITION);e.normalType===x.Compressed?r.vec2i16(I.NORMALCOMPRESSED,{glNormalized:!0}):r.vec3f(I.NORMAL),e.hasVertexTangents&&r.vec4f(I.TANGENT);return(e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId)&&r.vec2f(I.UV0),e.hasVertexColors&&r.vec4u8(I.COLOR),e.hasSymbolColors&&r.vec4u8(I.SYMBOLCOLOR),O()&&r.vec4u8(I.OBJECTANDLAYERIDCOLOR),r}const W=u(),k=u(),F=h(0,0,1),G=u(),Y=u(),J=u(),Q=u();export{q as DefaultGLMaterial,B as DefaultMaterial,z as DefaultMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ZEROS as e,freeze as t,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r,ShaderOutput as l}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as o}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{VertexNormalPassParameters as a,VertexNormalDrawParameters as n}from\"../core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{alphaCutoff as h}from\"../core/shaderLibrary/util/AlphaCutoff.js\";import{ReloadableShaderModule as c}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as u}from\"../core/shaderTechnique/ShaderTechnique.js\";import{CullFaceOptions as m,DepthTestFunction as p,AlphaDiscardMode as d}from\"../lib/basicInterfaces.js\";import{RenderOccludedFlag as f}from\"../lib/Material.js\";import{OITPass as b}from\"../lib/OITPass.js\";import{blending as S,oitDepthTest as g,depthWrite as j,getDrawBuffers as y,getOITPolygonOffset as P}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as v,stencilToolMaskBaseParams as x,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{advancedMRRFactors as T}from\"../materials/pbrUtils.js\";import{D}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{SpecialDrawBuffers as L,CompareFunction as M}from\"../../../webgl/enums.js\";import{makePipelineState as A,cullingParams as w,defaultColorWrite as C}from\"../../../webgl/renderState.js\";class F extends a{constructor(){super(...arguments),this.isSchematic=!1,this.usePBR=!1,this.mrrFactors=T,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.doubleSided=!1,this.doubleSidedType=\"normal\",this.cullFace=m.Back,this.isInstanced=!1,this.hasInstancedColor=!1,this.emissiveFactor=e,this.instancedDoublePrecision=!1,this.normalType=o.Attribute,this.receiveShadows=!0,this.receiveAmbientOcclusion=!0,this.castShadows=!0,this.ambient=t(.2,.2,.2),this.diffuse=t(.8,.8,.8),this.externalColor=s(1,1,1,1),this.colorMixMode=\"multiply\",this.opacity=1,this.layerOpacity=1,this.origin=i(),this.hasSlicePlane=!1,this.hasSliceHighlight=!0,this.offsetTransparentBackfaces=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.modelTransformation=null,this.transparent=!1,this.writeDepth=!0,this.customDepthTest=p.Less,this.textureAlphaMode=d.Blend,this.textureAlphaCutoff=h,this.textureAlphaPremultiplied=!1,this.renderOccluded=f.Occlude,this.isDecoration=!1}}class N extends n{constructor(){super(...arguments),this.origin=i(),this.slicePlaneLocalOrigin=this.origin}}class k extends u{constructor(e,t,i,s=new c(D,(()=>import(\"./DefaultMaterial.glsl.js\")))){super(e,t,s,i),this.type=\"DefaultMaterialTechnique\"}_makePipeline(e,t){const{oitPass:i,output:s,transparent:o,cullFace:a,customDepthTest:n,hasOccludees:h,enableOffset:c}=e,u=i===b.NONE,m=i===b.FrontFace;return A({blending:r(s)&&o?S(i):null,culling:B(e)?w(a):null,depthTest:{func:g(i,q(n))},depthWrite:j(e),drawBuffers:s===l.Depth?{buffers:[L.NONE]}:y(i,s),colorWrite:C,stencilWrite:h?v:null,stencilTest:h?t?x:O:null,polygonOffset:u||m?null:P(c)})}initializePipeline(e){return this._occludeePipelineState=this._makePipeline(e,!0),this._makePipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}function q(e){return e===p.Lequal?M.LEQUAL:M.LESS}function B(e){return e.cullFace!==m.None||!e.hasSlicePlane&&(!e.transparent&&!e.doubleSidedMode)}export{N as DefaultMaterialDrawParameters,F as DefaultMaterialPassParameters,k as DefaultMaterialTechnique};\n"],"names":["J","K","W","vertex","Q","fragment","X","varyings","Y","output","Z","normalType","ee","offsetBackfaces","re","instancedColor","oe","spherical","ie","receiveShadows","ae","snowCover","le","pbrMode","se","textureAlphaPremultiplied","te","instancedDoublePrecision","ne","hasVertexColors","de","hasVertexTangents","ce","hasColorTexture","me","hasNormalTexture","ge","hasNormalTextureTransform","ve","hasColorTextureTransform","ue","I","include","n","add","D","l","v","N","o","u","S","A","V","$","B","s","a","be","t","Attribute","Compressed","r","b","g","attributes","H","INSTANCECOLOR","c","e","d","m","uniforms","_","externalColor","terrainDepthTest","main","z","G","float","M","w","h","E","P","T","O","i","q","get","F","ambient","diffuse","R","opacity","layerOpacity","k","texture","C","L","U","y","p","f","x","ScreenDerivative","j","Normal","Schematic","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","Color","camera","code","normalTexture","depthTexture","projScale","noiseTexture","fullWidth","descriptor","width","fullHeight","height","intensity","outputs","int","Math","max","computeScreenPixelSizeAtDist","abs","relativeElevation","getRadius","colorTexture","blurSize","distance","origin","vector","arguments","length","undefined","direction","tA","pB","distance2","pA","tB","p0","p1","p2","Multiply","Ignore","Replace","Tint","round","hasModelTransformation","modelTransformation","instanced","INSTANCEMODELORIGINHI","INSTANCEMODELORIGINLO","INSTANCEMODEL","INSTANCEMODELNORMAL","viewInverseTransposeMatrix","hasSymbolColors","SYMBOLCOLOR","colorMixMode","alphaDiscardMode","Opaque","Depth","Shadow","ShadowHighlight","ShadowExcludeHighlight","ViewshedShadow","ObjectAndLayerIdColor","Highlight","TANGENT","doubleSidedMode","WindingOrder","textureCoordinateType","None","bindType","Pass","textureNormal","scale","normalTextureTransformMatrix","lightingSphericalHarmonicsOrder","lighting","sh","constructor","super","initializePipeline","colorWrite","this","consumes","required","produces","SSAO","isEnabled","_enableTime","_passParameters","_drawParameters","initialize","Uint8Array","from","atob","charCodeAt","wrapMode","CLAMP_TO_EDGE","pixelFormat","RGB","REPEAT","hasMipmap","renderingContext","techniques","precompile","addHandles","destroy","render","bindParameters","find","_ref","name","getTexture","fboCache","fullViewport","acquire","compiled","performance","now","requestRender","UPDATE","release","RED","view","qualitySettings","fadeDuration","min","RG","bindFramebuffer","fbo","setViewport","bindTechnique","screen","draw","setClearColor","clear","COLOR","setViewport4fv","prototype","constructOnly","receiveAmbientOcclusion","ssao","constants","globalFactor","Disabled","WaterOnIntegratedMesh","Water","useFillLights","enableFillLights","mainLight","specularStrength","environmentStrength","Simplified","TerrainWithWater","COUNT","View","Draw","setUniformMatrix4fv","shadowMap","getShadowMapMatrices","numCascades","cascadeDistances","colorTextureTransformMatrix","hasEmissionTextureTransform","emissiveTextureTransformMatrix","hasOcclusionTextureTransform","occlusionTextureTransformMatrix","hasMetallicRoughnessTextureTransform","metallicRoughnessTextureTransformMatrix","textureAlphaCutoff","Blend","Mask","MaskBlend","doublePrecisionRequiresObfuscation","cullFace","customDepthTest","Less","emissionSource","hasVerticalOffset","hasSlicePlane","hasSliceHighlight","hasMetallicRoughnessTexture","hasOcclusionTexture","hasScreenSizePerspective","hasOccludees","vvSize","vvColor","writeDepth","transparent","enableOffset","cullAboveTerrain","occlusionPass","hasVvInstancing","useCustomDTRExponentForWater","Texture","Default","objectAndLayerIdColorInstanced","discardInvisibleFragments","count","type","materialType","supportsEdges","Map","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","_vertexBufferLayout","vec3f","POSITION","vec2i16","NORMALCOMPRESSED","glNormalized","NORMAL","vec4f","textureId","normalTextureId","metallicRoughnessTextureId","emissiveTextureId","occlusionTextureId","vec2f","UV0","vec4u8","OBJECTANDLAYERIDCOLOR","_configuration","isVisibleForOutput","castShadows","visible","hasInstancedColor","hasEmissions","emissiveFactor","getConfiguration","treeRendering","doubleSided","doubleSidedType","isInstanced","verticalOffset","screenSizePerspective","textureAlphaMode","usePBR","isSchematic","Value","offsetTransparentBackfaces","oitPass","weather","weatherVisible","intersect","viewingMode","Global","Local","eye","transform","inverseRotation","createGLMaterial","createBufferWriter","material","beginSlot","_material","setParameters","enabled","updateTexture","textureBindParameters","acquireTechnique","initTextureTransparent","mrrFactors","Back","vvOpacity","vvSymbolAnchor","vvSymbolRotationMatrix","renderOccluded","Occlude","isDecoration","slicePlaneLocalOrigin","_makePipeline","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","drawBuffers","buffers","stencilWrite","stencilTest","polygonOffset","_occludeePipelineState","getPipeline","Lequal","LEQUAL","LESS"],"sourceRoot":""}