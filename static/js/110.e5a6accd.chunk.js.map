{"version":3,"file":"static/js/110.e5a6accd.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/node_modules/color-name/index.js","../node_modules/@esri/calcite-components/node_modules/simple-swizzle/index.js","../node_modules/@esri/calcite-components/node_modules/simple-swizzle/node_modules/is-arrayish/index.js","../node_modules/@esri/calcite-components/node_modules/color-string/index.js","../node_modules/@esri/calcite-components/node_modules/color-convert/conversions.js","../node_modules/@esri/calcite-components/node_modules/color-convert/route.js","../node_modules/@esri/calcite-components/node_modules/color-convert/index.js","../node_modules/@esri/calcite-components/node_modules/color/index.js","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker/utils.ts","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-hex-input/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-hex-input/color-picker-hex-input.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-hex-input/color-picker-hex-input.scss?tag=calcite-color-picker-hex-input&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-swatch/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-swatch/color-picker-swatch.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker-swatch/color-picker-swatch.scss?tag=calcite-color-picker-swatch&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/tab/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/tab/tab.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/tab/tab.scss?tag=calcite-tab&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/tab-nav/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/tab-nav/tab-nav.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/tab-nav/tab-nav.scss?tag=calcite-tab-nav&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/tab-title/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/tab-title/tab-title.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/tab-title/tab-title.scss?tag=calcite-tab-title&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/tabs/resources.ts","../node_modules/@esri/calcite-components/dist/components/src/components/tabs/tabs.tsx","../node_modules/@esri/calcite-components/dist/components/src/components/tabs/tabs.scss?tag=calcite-tabs&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker/color-picker.scss?tag=calcite-color-picker&encapsulation=shadow","../node_modules/@esri/calcite-components/dist/components/src/components/color-picker/color-picker.tsx","../node_modules/@esri/calcite-components/dist/calcite-design-tokens/dist/es6/core.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_freeGlobal.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_root.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_Symbol.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_getRawTag.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_objectToString.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_baseGetTag.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/isObjectLike.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/isSymbol.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_trimmedEndIndex.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/_baseTrim.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/isObject.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/toNumber.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/now.js","../node_modules/@esri/calcite-components/node_modules/lodash-es/debounce.js","../node_modules/@esri/calcite-components/dist/components/src/utils/math.ts","../node_modules/@esri/calcite-components/node_modules/lodash-es/throttle.js"],"sourcesContent":["'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","import Color from \"color\";\n\nexport const CSS = {\n  channel: \"channel\",\n  channels: \"channels\",\n  colorField: \"color-field\",\n  colorFieldScope: \"scope--color-field\",\n  colorMode: \"color-mode\",\n  colorModeContainer: \"color-mode-container\",\n  container: \"container\",\n  control: \"control\",\n  controlAndScope: \"control-and-scope\",\n  controlSection: \"control-section\",\n  deleteColor: \"delete-color\",\n  header: \"header\",\n  hexAndChannelsGroup: \"hex-and-channels-group\",\n  hexOptions: \"color-hex-options\",\n  hueScope: \"scope--hue\",\n  hueSlider: \"hue-slider\",\n  opacityScope: \"scope--opacity\",\n  opacitySlider: \"opacity-slider\",\n  preview: \"preview\",\n  previewAndSliders: \"preview-and-sliders\",\n  saveColor: \"save-color\",\n  savedColor: \"saved-color\",\n  savedColors: \"saved-colors\",\n  savedColorsButtons: \"saved-colors-buttons\",\n  savedColorsSection: \"saved-colors-section\",\n  scope: \"scope\",\n  section: \"section\",\n  slider: \"slider\",\n  sliders: \"sliders\",\n  splitSection: \"section--split\",\n};\n\nexport const DEFAULT_COLOR = Color(\"#007AC2\");\nexport const DEFAULT_STORAGE_KEY_PREFIX = \"calcite-color-\";\n\nexport const RGB_LIMITS = {\n  r: 255,\n  g: 255,\n  b: 255,\n};\n\nexport const HSV_LIMITS = {\n  h: 360,\n  s: 100,\n  v: 100,\n};\n\n// 0 and 360 represent the same value, so we limit the hue to 359\nexport const HUE_LIMIT_CONSTRAINED = HSV_LIMITS.h - 1;\n\nexport const OPACITY_LIMITS = {\n  min: 0,\n  max: 100,\n};\n\nexport const DIMENSIONS = {\n  s: {\n    slider: {\n      height: 12,\n      width: 104,\n    },\n    colorField: {\n      height: 80,\n      width: 160,\n    },\n    thumb: {\n      radius: 7,\n    },\n    preview: {\n      size: 20,\n    },\n  },\n  m: {\n    slider: {\n      height: 12,\n      width: 204,\n    },\n    colorField: {\n      height: 150,\n      width: 272,\n    },\n    thumb: {\n      radius: 7,\n    },\n    preview: {\n      size: 24,\n    },\n  },\n  l: {\n    slider: {\n      height: 12,\n      width: 384,\n    },\n    colorField: {\n      height: 200,\n      width: 464,\n    },\n    thumb: {\n      radius: 7,\n    },\n    preview: {\n      size: 32,\n    },\n  },\n};\n\nexport const SCOPE_SIZE = 1;\n","import Color from \"color\";\nimport { Scale } from \"../interfaces\";\nimport { ColorValue, HSLA, HSVA, RGB, RGBA } from \"./interfaces\";\nimport { DIMENSIONS } from \"./resources\";\n\nexport const hexChar = /^[0-9A-F]$/i;\nconst shorthandHex = /^#[0-9A-F]{3}$/i;\nconst longhandHex = /^#[0-9A-F]{6}$/i;\nconst shorthandHexWithAlpha = /^#[0-9A-F]{4}$/i;\nconst longhandHexWithAlpha = /^#[0-9A-F]{8}$/i;\n\nexport const alphaToOpacity = (alpha: number): number => Number((alpha * 100).toFixed());\n\nexport const opacityToAlpha = (opacity: number): number => Number((opacity / 100).toFixed(2));\n\nexport function isValidHex(hex: string, hasAlpha = false): boolean {\n  return isShorthandHex(hex, hasAlpha) || isLonghandHex(hex, hasAlpha);\n}\n\nexport function canConvertToHexa(hex: string): boolean {\n  const validHex = isValidHex(hex, false);\n  const validHexa = isValidHex(hex, true);\n  return !validHexa && validHex;\n}\n\nfunction evaluateHex(hex: string, length: number, pattern: RegExp): boolean {\n  if (!hex) {\n    return false;\n  }\n\n  return hex.length === length && pattern.test(hex);\n}\n\nexport function isShorthandHex(hex: string, hasAlpha = false): boolean {\n  const hexLength = hasAlpha ? 5 : 4;\n  const hexPattern = hasAlpha ? shorthandHexWithAlpha : shorthandHex;\n\n  return evaluateHex(hex, hexLength, hexPattern);\n}\n\nexport function isLonghandHex(hex: string, hasAlpha = false): boolean {\n  const hexLength = hasAlpha ? 9 : 7;\n  const hexPattern = hasAlpha ? longhandHexWithAlpha : longhandHex;\n\n  return evaluateHex(hex, hexLength, hexPattern);\n}\n\nexport function normalizeHex(hex: string, hasAlpha = false, convertFromHexToHexa = false): string {\n  hex = hex.toLowerCase();\n\n  if (!hex.startsWith(\"#\")) {\n    hex = `#${hex}`;\n  }\n\n  if (isShorthandHex(hex, hasAlpha)) {\n    return rgbToHex(hexToRGB(hex, hasAlpha));\n  }\n\n  if (hasAlpha && convertFromHexToHexa && isValidHex(hex, false /* we only care about RGB hex for conversion */)) {\n    const isShorthand = isShorthandHex(hex, false);\n    return rgbToHex(hexToRGB(`${hex}${isShorthand ? \"f\" : \"ff\"}`, true));\n  }\n\n  return hex;\n}\n\nexport function hexify(color: Color, hasAlpha = false): string {\n  return hasAlpha ? color.hexa() : color.hex();\n}\n\nexport function rgbToHex(color: RGB | RGBA): string {\n  const { r, g, b } = color;\n\n  const rChars = numToHex(r);\n  const gChars = numToHex(g);\n  const bChars = numToHex(b);\n  const alphaChars = \"a\" in color ? numToHex(color.a * 255) : \"\";\n\n  return `#${rChars}${gChars}${bChars}${alphaChars}`.toLowerCase();\n}\n\nfunction numToHex(num: number): string {\n  return num.toString(16).padStart(2, \"0\");\n}\n\nexport function normalizeAlpha<T extends RGBA | HSVA | HSLA>(colorObject: ReturnType<Color[\"object\"]>): T {\n  const normalized = { ...colorObject, a: colorObject.alpha ?? 1 /* Color() will omit alpha if 1 */ };\n  delete normalized.alpha;\n\n  return normalized as T;\n}\n\nexport function normalizeColor(alphaColorObject: RGBA | HSVA | HSLA): ReturnType<Color[\"object\"]> {\n  const normalized = { ...alphaColorObject, alpha: alphaColorObject.a ?? 1 };\n  delete normalized.a;\n\n  return normalized;\n}\n\nexport function hexToRGB(hex: string, hasAlpha = false): RGB | RGBA {\n  if (!isValidHex(hex, hasAlpha)) {\n    return null;\n  }\n\n  hex = hex.replace(\"#\", \"\");\n\n  let r: number;\n  let g: number;\n  let b: number;\n  let a: number;\n  const isShorthand = hex.length === 3 || hex.length === 4;\n\n  if (isShorthand) {\n    const [first, second, third, fourth] = hex.split(\"\");\n\n    r = parseInt(`${first}${first}`, 16);\n    g = parseInt(`${second}${second}`, 16);\n    b = parseInt(`${third}${third}`, 16);\n    a = parseInt(`${fourth}${fourth}`, 16) / 255;\n  } else {\n    r = parseInt(hex.slice(0, 2), 16);\n    g = parseInt(hex.slice(2, 4), 16);\n    b = parseInt(hex.slice(4, 6), 16);\n    a = parseInt(hex.slice(6, 8), 16) / 255;\n  }\n\n  return isNaN(a) ? { r, g, b } : { r, g, b, a };\n}\n\n// these utils allow users to pass enum values as strings without having to access the enum\n// based on the approach suggested by https://github.com/microsoft/TypeScript/issues/17690#issuecomment-321365759,\nconst enumify = <T extends { [index: string]: U }, U extends string>(x: T) => x;\ntype Enumify<T> = T[keyof T];\n\nexport const CSSColorMode = enumify({\n  HEX: \"hex\",\n  HEXA: \"hexa\",\n  RGB_CSS: \"rgb-css\",\n  RGBA_CSS: \"rgba-css\",\n  HSL_CSS: \"hsl-css\",\n  HSLA_CSS: \"hsla-css\",\n});\ntype CSSColorMode = Enumify<typeof CSSColorMode>;\n\nexport const ObjectColorMode = enumify({\n  RGB: \"rgb\",\n  RGBA: \"rgba\",\n  HSL: \"hsl\",\n  HSLA: \"hsla\",\n  HSV: \"hsv\",\n  HSVA: \"hsva\",\n});\ntype ObjectColorMode = Enumify<typeof ObjectColorMode>;\n\nexport type SupportedMode = CSSColorMode | ObjectColorMode;\n\nexport type Format = \"auto\" | SupportedMode;\n\nexport function parseMode(colorValue: ColorValue): SupportedMode | null {\n  if (typeof colorValue === \"string\") {\n    if (colorValue.startsWith(\"#\")) {\n      const { length } = colorValue;\n\n      if (length === 4 || length === 7) {\n        return CSSColorMode.HEX;\n      }\n      if (length === 5 || length === 9) {\n        return CSSColorMode.HEXA;\n      }\n    }\n\n    if (colorValue.startsWith(\"rgba(\")) {\n      return CSSColorMode.RGBA_CSS;\n    }\n\n    if (colorValue.startsWith(\"rgb(\")) {\n      return CSSColorMode.RGB_CSS;\n    }\n\n    if (colorValue.startsWith(\"hsl(\")) {\n      return CSSColorMode.HSL_CSS;\n    }\n\n    if (colorValue.startsWith(\"hsla(\")) {\n      return CSSColorMode.HSLA_CSS;\n    }\n  }\n\n  if (typeof colorValue === \"object\") {\n    if (hasChannels(colorValue, \"r\", \"g\", \"b\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.RGBA : ObjectColorMode.RGB;\n    }\n\n    if (hasChannels(colorValue, \"h\", \"s\", \"l\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSLA : ObjectColorMode.HSL;\n    }\n\n    if (hasChannels(colorValue, \"h\", \"s\", \"v\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSVA : ObjectColorMode.HSV;\n    }\n  }\n\n  return null;\n}\n\nfunction hasChannels(colorObject: Exclude<ColorValue, string> | null, ...channels: string[]): boolean {\n  return channels.every((channel) => channel && colorObject && `${channel}` in colorObject);\n}\n\nexport function colorEqual(value1: Color | null, value2: Color | null): boolean {\n  return value1?.rgb().array().toString() === value2?.rgb().array().toString();\n}\n\nexport function alphaCompatible(mode: SupportedMode): boolean {\n  return (\n    mode === CSSColorMode.HEXA ||\n    mode === CSSColorMode.RGBA_CSS ||\n    mode === CSSColorMode.HSLA_CSS ||\n    mode === ObjectColorMode.RGBA ||\n    mode === ObjectColorMode.HSLA ||\n    mode === ObjectColorMode.HSVA\n  );\n}\n\nexport function toAlphaMode(mode: SupportedMode): SupportedMode {\n  const alphaMode =\n    mode === CSSColorMode.HEX\n      ? CSSColorMode.HEXA\n      : mode === CSSColorMode.RGB_CSS\n        ? CSSColorMode.RGBA_CSS\n        : mode === CSSColorMode.HSL_CSS\n          ? CSSColorMode.HSLA_CSS\n          : mode === ObjectColorMode.RGB\n            ? ObjectColorMode.RGBA\n            : mode === ObjectColorMode.HSL\n              ? ObjectColorMode.HSLA\n              : mode === ObjectColorMode.HSV\n                ? ObjectColorMode.HSVA\n                : mode;\n\n  return alphaMode;\n}\n\nexport function toNonAlphaMode(mode: SupportedMode): SupportedMode {\n  const nonAlphaMode =\n    mode === CSSColorMode.HEXA\n      ? CSSColorMode.HEX\n      : mode === CSSColorMode.RGBA_CSS\n        ? CSSColorMode.RGB_CSS\n        : mode === CSSColorMode.HSLA_CSS\n          ? CSSColorMode.HSL_CSS\n          : mode === ObjectColorMode.RGBA\n            ? ObjectColorMode.RGB\n            : mode === ObjectColorMode.HSLA\n              ? ObjectColorMode.HSL\n              : mode === ObjectColorMode.HSVA\n                ? ObjectColorMode.HSV\n                : mode;\n\n  return nonAlphaMode;\n}\n\nexport function getSliderWidth(activeDimensions: (typeof DIMENSIONS)[Scale], hasAlpha: boolean): number {\n  const {\n    slider: { width },\n    preview,\n  } = activeDimensions;\n\n  if (hasAlpha) {\n    return width;\n  }\n\n  const previewWidthOffset = DIMENSIONS[\"l\"].preview.size - preview.size;\n\n  return width + previewWidthOffset;\n}\n","export const CSS = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\",\n};\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport Color from \"color\";\nimport { Scale } from \"../interfaces\";\nimport { Channels, RGB } from \"../color-picker/interfaces\";\nimport {\n  alphaToOpacity,\n  hexChar,\n  hexify,\n  isLonghandHex,\n  isShorthandHex,\n  isValidHex,\n  normalizeHex,\n  opacityToAlpha,\n  rgbToHex,\n} from \"../color-picker/utils\";\nimport { focusElement } from \"../../utils/dom\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { NumberingSystem } from \"../../utils/locale\";\nimport { OPACITY_LIMITS } from \"../color-picker/resources\";\nimport { ColorPickerMessages } from \"../color-picker/assets/color-picker/t9n\";\nimport { CSS } from \"./resources\";\n\nconst DEFAULT_COLOR = Color();\n\n@Component({\n  tag: \"calcite-color-picker-hex-input\",\n  styleUrl: \"color-picker-hex-input.scss\",\n  shadow: true,\n})\nexport class ColorPickerHexInput implements LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    const { allowEmpty, alphaChannel, value } = this;\n\n    if (value) {\n      const normalized = normalizeHex(value, alphaChannel);\n\n      if (isValidHex(normalized, alphaChannel)) {\n        this.internalSetValue(normalized, normalized, false);\n      }\n\n      return;\n    }\n\n    if (allowEmpty) {\n      this.internalSetValue(null, null, false);\n    }\n  }\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, an empty color (`null`) will be allowed as a `value`.\n   *\n   * When `false`, a color value is enforced, and clearing the input or blurring will restore the last valid `value`.\n   */\n  @Prop() allowEmpty = false;\n\n  /**\n   * When `true`, the component will allow updates to the color's alpha value.\n   */\n  @Prop() alphaChannel = false;\n\n  /**\n   * Specifies accessible label for the input field.\n   *\n   * @deprecated use `messages` instead\n   */\n  @Prop() hexLabel = \"Hex\";\n\n  /**\n   * Messages are passed by parent component for accessible labels.\n   *\n   * @internal\n   */\n  @Prop() messages: ColorPickerMessages;\n\n  /** Specifies the Unicode numeral system used by the component for localization. */\n  @Prop() numberingSystem?: NumberingSystem;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /**\n   * The hex value.\n   */\n  @Prop({ mutable: true, reflect: true }) value: string = normalizeHex(\n    hexify(DEFAULT_COLOR, this.alphaChannel),\n    this.alphaChannel,\n    true,\n  );\n\n  @Watch(\"value\")\n  handleValueChange(value: string, oldValue: string): void {\n    this.internalSetValue(value, oldValue, false);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Emitted when the hex value changes.\n   */\n  @Event({ cancelable: false }) calciteColorPickerHexInputChange: EventEmitter<void>;\n\n  private onHexInputBlur = (): void => {\n    const node = this.hexInputNode;\n    const inputValue = node.value;\n    const hex = `#${inputValue}`;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    const isLonghand = isLonghandHex(hex);\n\n    if (isShorthandHex(hex, this.alphaChannel)) {\n      // ensure modified pasted hex values are committed since we prevent default to remove the # char.\n      this.onHexInputChange();\n    }\n\n    if (willClearValue || (isValidHex(hex) && isLonghand)) {\n      return;\n    }\n\n    // manipulating DOM directly since rerender doesn't update input value\n    node.value =\n      allowEmpty && !internalColor\n        ? \"\"\n        : this.formatHexForInternalInput(\n            rgbToHex(\n              // always display hex input in RRGGBB format\n              internalColor.object() as any as RGB,\n            ),\n          );\n  };\n\n  private onOpacityInputBlur = (): void => {\n    const node = this.opacityInputNode;\n    const inputValue = node.value;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n\n    if (willClearValue) {\n      return;\n    }\n\n    // manipulating DOM directly since rerender doesn't update input value\n    node.value =\n      allowEmpty && !internalColor ? \"\" : this.formatOpacityForInternalInput(internalColor);\n  };\n\n  private onOpacityInputInput = (): void => {\n    this.onOpacityInputChange();\n  };\n\n  private onHexInputChange = (): void => {\n    const nodeValue = this.hexInputNode.value;\n    let value = nodeValue;\n\n    if (value) {\n      const normalized = normalizeHex(value, false);\n      const preserveExistingAlpha = isValidHex(normalized) && this.alphaChannel;\n      if (preserveExistingAlpha && this.internalColor) {\n        const alphaHex = normalizeHex(this.internalColor.hexa(), true).slice(-2);\n        value = `${normalized + alphaHex}`;\n      }\n    }\n\n    this.internalSetValue(value, this.value);\n  };\n\n  private onOpacityInputChange = (): void => {\n    const node = this.opacityInputNode;\n    let value: number | string;\n\n    if (!node.value) {\n      value = node.value;\n    } else {\n      const alpha = opacityToAlpha(Number(node.value));\n      value = this.internalColor?.alpha(alpha).hexa();\n    }\n\n    this.internalSetValue(value, this.value);\n  };\n\n  private onInputFocus = (event: Event): void => {\n    event.type === \"calciteInternalInputTextFocus\"\n      ? this.hexInputNode.selectText()\n      : this.opacityInputNode.selectText();\n  };\n\n  private onHexInputInput = (): void => {\n    const hexInputValue = `#${this.hexInputNode.value}`;\n    const oldValue = this.value;\n\n    if (\n      isValidHex(hexInputValue, this.alphaChannel) &&\n      isLonghandHex(hexInputValue, this.alphaChannel)\n    ) {\n      this.internalSetValue(hexInputValue, oldValue);\n    }\n  };\n\n  protected onInputKeyDown = (event: KeyboardEvent): void => {\n    const { altKey, ctrlKey, metaKey, shiftKey } = event;\n    const { alphaChannel, hexInputNode, internalColor, value } = this;\n    const { key } = event;\n    const composedPath = event.composedPath();\n\n    if ((key === \"Tab\" && isShorthandHex(value, this.alphaChannel)) || key === \"Enter\") {\n      if (composedPath.includes(hexInputNode)) {\n        this.onHexInputChange();\n      } else {\n        this.onOpacityInputChange();\n      }\n\n      if (key === \"Enter\") {\n        event.preventDefault();\n      }\n\n      return;\n    }\n\n    const isNudgeKey = key === \"ArrowDown\" || key === \"ArrowUp\";\n    const oldValue = this.value;\n\n    if (isNudgeKey) {\n      if (!value) {\n        this.internalSetValue(this.previousNonNullValue, oldValue);\n        event.preventDefault();\n        return;\n      }\n\n      const direction = key === \"ArrowUp\" ? 1 : -1;\n      const bump = shiftKey ? 10 : 1;\n\n      this.internalSetValue(\n        hexify(\n          this.nudgeRGBChannels(\n            internalColor,\n            bump * direction,\n            composedPath.includes(hexInputNode) ? \"rgb\" : \"a\",\n          ),\n          alphaChannel,\n        ),\n        oldValue,\n      );\n\n      event.preventDefault();\n      return;\n    }\n\n    const withModifiers = altKey || ctrlKey || metaKey;\n    const singleChar = key.length === 1;\n    const validHexChar = hexChar.test(key);\n\n    if (singleChar && !withModifiers && !validHexChar) {\n      event.preventDefault();\n    }\n  };\n\n  private onHexInputPaste = (event: ClipboardEvent): void => {\n    const hex = event.clipboardData.getData(\"text\");\n\n    if (isValidHex(hex, this.alphaChannel) && isLonghandHex(hex, this.alphaChannel)) {\n      event.preventDefault();\n      this.hexInputNode.value = hex.slice(1);\n      this.internalSetValue(hex, this.value);\n    }\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteColorPickerHexInputElement;\n\n  private hexInputNode: HTMLCalciteInputTextElement;\n\n  /**\n   * The last valid/selected color. Used as a fallback if an invalid hex code is entered.\n   */\n  @State() internalColor: Color | null = DEFAULT_COLOR;\n\n  private opacityInputNode: HTMLCalciteInputNumberElement;\n\n  private previousNonNullValue: string = this.value;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  render(): VNode {\n    const { alphaChannel, hexLabel, internalColor, messages, scale, value } = this;\n    const hexInputValue = this.formatHexForInternalInput(value);\n    const opacityInputValue = this.formatOpacityForInternalInput(internalColor);\n    const inputScale = scale === \"l\" ? \"m\" : \"s\";\n\n    return (\n      <div class={CSS.container}>\n        <calcite-input-text\n          class={CSS.hexInput}\n          label={messages?.hex || hexLabel}\n          maxLength={this.alphaChannel ? 8 : 6}\n          onCalciteInputTextChange={this.onHexInputChange}\n          onCalciteInputTextInput={this.onHexInputInput}\n          onCalciteInternalInputTextBlur={this.onHexInputBlur}\n          onCalciteInternalInputTextFocus={this.onInputFocus}\n          onKeyDown={this.onInputKeyDown}\n          onPaste={this.onHexInputPaste}\n          prefixText=\"#\"\n          ref={this.storeHexInputRef}\n          scale={inputScale}\n          value={hexInputValue}\n        />\n        {alphaChannel ? (\n          <calcite-input-number\n            class={CSS.opacityInput}\n            key=\"opacity-input\"\n            label={messages?.opacity}\n            max={OPACITY_LIMITS.max}\n            maxLength={3}\n            min={OPACITY_LIMITS.min}\n            numberButtonType=\"none\"\n            numberingSystem={this.numberingSystem}\n            onCalciteInputNumberInput={this.onOpacityInputInput}\n            onCalciteInternalInputNumberBlur={this.onOpacityInputBlur}\n            onCalciteInternalInputNumberFocus={this.onInputFocus}\n            onKeyDown={this.onInputKeyDown}\n            ref={this.storeOpacityInputRef}\n            scale={inputScale}\n            suffixText=\"%\"\n            value={opacityInputValue}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    return focusElement(this.hexInputNode);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private internalSetValue(value: string | null, oldValue: string | null, emit = true): void {\n    if (value) {\n      const { alphaChannel } = this;\n      const normalized = normalizeHex(value, alphaChannel, alphaChannel);\n\n      if (isValidHex(normalized, alphaChannel)) {\n        const { internalColor: currentColor } = this;\n        const nextColor = Color(normalized);\n        const normalizedLonghand = normalizeHex(hexify(nextColor, alphaChannel), alphaChannel);\n\n        const changed =\n          !currentColor ||\n          normalizedLonghand !== normalizeHex(hexify(currentColor, alphaChannel), alphaChannel);\n\n        this.internalColor = nextColor;\n        this.previousNonNullValue = normalizedLonghand;\n        this.value = normalizedLonghand;\n\n        if (changed && emit) {\n          this.calciteColorPickerHexInputChange.emit();\n        }\n\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = null;\n      this.value = null;\n\n      if (emit) {\n        this.calciteColorPickerHexInputChange.emit();\n      }\n\n      return;\n    }\n\n    this.value = oldValue;\n  }\n\n  private storeHexInputRef = (node: HTMLCalciteInputTextElement): void => {\n    this.hexInputNode = node;\n  };\n\n  private storeOpacityInputRef = (node: HTMLCalciteInputNumberElement): void => {\n    this.opacityInputNode = node;\n  };\n\n  private formatHexForInternalInput(hex: string): string {\n    return hex ? hex.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n\n  private formatOpacityForInternalInput(color: Color): string {\n    return color ? `${alphaToOpacity(color.alpha())}` : \"\";\n  }\n\n  private nudgeRGBChannels(color: Color, amount: number, context: \"rgb\" | \"a\"): Color {\n    let nudgedChannels: Channels;\n    const channels = color.array();\n    const rgbChannels = channels.slice(0, 3);\n\n    if (context === \"rgb\") {\n      const nudgedRGBChannels = rgbChannels.map((channel) => channel + amount);\n      nudgedChannels = [\n        ...nudgedRGBChannels,\n        this.alphaChannel ? channels[3] : undefined,\n      ] as Channels;\n    } else {\n      const nudgedAlpha = opacityToAlpha(alphaToOpacity(color.alpha()) + amount);\n      nudgedChannels = [...rgbChannels, nudgedAlpha] as Channels;\n    }\n\n    return Color(nudgedChannels);\n  }\n}\n",":host {\n  @apply block;\n}\n\n.container {\n  @apply flex w-full items-center flex-nowrap;\n}\n\n.hex-input {\n  @apply grow uppercase;\n}\n\n.opacity-input {\n  inline-size: 68px;\n  margin-inline-start: -1px;\n}\n\n:host([scale=\"s\"]) {\n  .container {\n    @apply flex-wrap gap-y-0.5;\n  }\n\n  .opacity-input {\n    inline-size: unset;\n    margin-inline-start: unset;\n  }\n}\n\n:host([scale=\"l\"]) {\n  .opacity-input {\n    inline-size: 88px;\n  }\n}\n\n@include base-component();\n","export const CSS = {\n  swatch: \"swatch\",\n  noColorSwatch: \"swatch--no-color\",\n  checker: \"checker\",\n};\n\nexport const COLORS = {\n  borderLight: \"rgba(0, 0, 0, 0.3)\",\n  borderDark: \"rgba(255, 255, 255, 0.15)\",\n};\n\nconst checkerSquareSize = 4;\n\nexport const CHECKER_DIMENSIONS = {\n  squareSize: checkerSquareSize,\n  size: checkerSquareSize * 2,\n};\n","import { Component, Element, Fragment, h, Prop, VNode, Watch } from \"@stencil/core\";\nimport Color from \"color\";\nimport { getModeName } from \"../../utils/dom\";\nimport { Scale } from \"../interfaces\";\nimport { hexify } from \"../color-picker/utils\";\nimport { CHECKER_DIMENSIONS, COLORS, CSS } from \"./resources\";\n\n@Component({\n  tag: \"calcite-color-picker-swatch\",\n  styleUrl: \"color-picker-swatch.scss\",\n  shadow: true,\n})\nexport class ColorPickerSwatch {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, the component is active.\n   */\n  @Prop({\n    reflect: true,\n  })\n  active = false;\n\n  /**\n   * The color value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/color_value\n   */\n  @Prop()\n  color: string | null;\n\n  @Watch(\"color\")\n  handleColorChange(color: string | null): void {\n    this.internalColor = color ? Color(color) : null;\n  }\n\n  /**\n   * Specifies the size of the component.\n   */\n  @Prop({\n    reflect: true,\n  })\n  scale: Scale = \"m\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteColorPickerSwatchElement;\n\n  private internalColor: Color;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  componentWillLoad(): void {\n    this.handleColorChange(this.color);\n  }\n\n  render(): VNode {\n    const isEmpty = !this.internalColor;\n    const classes = {\n      [CSS.swatch]: true,\n      [CSS.noColorSwatch]: isEmpty,\n    };\n\n    return (\n      <svg class={classes} xmlns=\"http://www.w3.org/2000/svg\">\n        {this.renderSwatch()}\n      </svg>\n    );\n  }\n\n  renderSwatch(): VNode {\n    const { active, el, internalColor } = this;\n    const borderRadius = active ? \"100%\" : \"0\";\n    const theme = getModeName(el);\n    const borderColor = theme === \"light\" ? COLORS.borderLight : COLORS.borderDark;\n    const isEmpty = !internalColor;\n    const commonSwatchProps = {\n      height: \"100%\",\n      rx: borderRadius,\n      stroke: borderColor,\n      strokeWidth: \"2\",\n      width: \"100%\",\n    };\n\n    if (isEmpty) {\n      return (\n        <Fragment>\n          <clipPath id=\"shape\">\n            <rect height=\"100%\" rx={borderRadius} width=\"100%\" />\n          </clipPath>\n          {this.renderSwatchRect({\n            clipPath: `inset(0 round ${borderRadius})`,\n            ...commonSwatchProps,\n          })}\n          <line clip-path=\"url(#shape)\" stroke-width=\"3\" x1=\"100%\" x2=\"0\" y1=\"0\" y2=\"100%\" />\n        </Fragment>\n      );\n    }\n\n    const alpha = internalColor.alpha();\n    const hex = hexify(internalColor);\n    const hexa = hexify(internalColor, alpha < 1);\n\n    return (\n      <Fragment>\n        <title>{hexa}</title>\n        <defs>\n          <pattern\n            height={CHECKER_DIMENSIONS.size}\n            id=\"checker\"\n            patternUnits=\"userSpaceOnUse\"\n            width={CHECKER_DIMENSIONS.size}\n            x=\"0\"\n            y=\"0\"\n          >\n            <rect\n              class={CSS.checker}\n              height={CHECKER_DIMENSIONS.squareSize}\n              width={CHECKER_DIMENSIONS.squareSize}\n              x=\"0\"\n              y=\"0\"\n            />\n            <rect\n              class={CSS.checker}\n              height={CHECKER_DIMENSIONS.squareSize}\n              width={CHECKER_DIMENSIONS.squareSize}\n              x={CHECKER_DIMENSIONS.squareSize}\n              y={CHECKER_DIMENSIONS.squareSize}\n            />\n          </pattern>\n        </defs>\n        {this.renderSwatchRect({\n          fill: \"url(#checker)\",\n          rx: commonSwatchProps.rx,\n          height: commonSwatchProps.height,\n          width: commonSwatchProps.width,\n        })}\n        {this.renderSwatchRect({\n          clipPath: alpha < 1 ? \"polygon(100% 0, 0 0, 0 100%)\" : `inset(0 round ${borderRadius})`,\n          fill: hex,\n          ...commonSwatchProps,\n        })}\n        {alpha < 1\n          ? this.renderSwatchRect({\n              clipPath: \"polygon(100% 0, 100% 100%, 0 100%)\",\n              fill: hexa,\n              key: \"opacity-fill\",\n              ...commonSwatchProps,\n            })\n          : null}\n      </Fragment>\n    );\n  }\n\n  renderSwatchRect({\n    clipPath,\n    fill,\n    height,\n    key,\n    rx,\n    stroke,\n    strokeWidth,\n    width,\n  }: {\n    clipPath?: string;\n    fill?: string;\n    height: string;\n    key?: string;\n    rx: string;\n\n    // note: stroke-width and clip-path are needed to hide overflowing portion of stroke\n    // see https://stackoverflow.com/a/7273346/194216\n    stroke?: string;\n    strokeWidth?: string;\n\n    width: string;\n  }): VNode {\n    return (\n      <rect\n        clip-path={clipPath}\n        fill={fill}\n        height={height}\n        key={key}\n        rx={rx}\n        stroke={stroke}\n        stroke-width={strokeWidth}\n        width={width}\n      />\n    );\n  }\n}\n","$size-s: 20px;\n$size-m: 24px;\n$size-l: 28px;\n\n:host {\n  @apply relative inline-flex;\n}\n\n:host([scale=\"s\"]) {\n  @apply h-5 w-5;\n}\n\n:host([scale=\"m\"]) {\n  @apply h-6 w-6;\n}\n\n:host([scale=\"l\"]) {\n  @apply h-8 w-8;\n}\n\n.swatch {\n  @apply overflow-hidden;\n  block-size: inherit;\n  inline-size: inherit;\n\n  rect {\n    @apply transition-all duration-150 ease-in-out;\n  }\n}\n\n.swatch--no-color {\n  rect {\n    fill: var(--calcite-color-foreground-1);\n  }\n\n  line {\n    stroke: var(--calcite-color-status-danger);\n  }\n}\n\n.checker {\n  fill: #cacaca;\n}\n\n@include base-component();\n","export const CSS = {\n  container: \"container\",\n  content: \"content\",\n};\n","import { Component, Element, h, Host, Listen, Method, Prop, State, VNode } from \"@stencil/core\";\nimport { nodeListToArray } from \"../../utils/dom\";\nimport { guid } from \"../../utils/guid\";\nimport { Scale } from \"../interfaces\";\nimport { CSS } from \"./resources\";\nimport { TabChangeEventDetail } from \"./interfaces\";\n\n/**\n * @slot - A slot for adding custom content.\n */\n@Component({\n  tag: \"calcite-tab\",\n  styleUrl: \"tab.scss\",\n  shadow: true,\n})\nexport class Tab {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Specifies a unique name for the component.\n   *\n   * When specified, use the same value on the `calcite-tab-title`.\n   */\n  @Prop({ reflect: true }) tab: string;\n\n  /**\n   * When `true`, the component's contents are selected.\n   *\n   * Only one tab can be selected within the `calcite-tabs` parent.\n   */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  /**\n   * Specifies the size of the component inherited from the parent `calcite-tabs`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  render(): VNode {\n    const id = this.el.id || this.guid;\n\n    return (\n      <Host aria-labelledby={this.labeledBy} id={id}>\n        <div\n          class={{ [CSS.container]: true, [`scale-${this.scale}`]: true }}\n          role=\"tabpanel\"\n          tabIndex={this.selected ? 0 : -1}\n        >\n          <section class={CSS.content}>\n            <slot />\n          </section>\n        </div>\n      </Host>\n    );\n  }\n\n  connectedCallback(): void {\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n\n  disconnectedCallback(): void {\n    // Dispatching to body in order to be listened by other elements that are still connected to the DOM.\n    document.body?.dispatchEvent(\n      new CustomEvent(\"calciteTabUnregister\", {\n        detail: this.el,\n      }),\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalTabChange\", { target: \"body\" })\n  internalTabChangeHandler(event: CustomEvent<TabChangeEventDetail>): void {\n    const targetTabsEl = event\n      .composedPath()\n      .find((el: HTMLElement) => el.tagName === \"CALCITE-TABS\");\n\n    // to allow `<calcite-tabs>` to be nested we need to make sure this\n    // `calciteTabChange` event was actually fired from a within the same\n    // `<calcite-tabs>` that is the a parent of this tab.\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Returns the index of the component item within the tab array.\n   */\n  @Method()\n  async getTabIndex(): Promise<number> {\n    return Array.prototype.indexOf.call(\n      nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab\")),\n      this.el,\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteTabElement;\n\n  parentTabsEl: HTMLCalciteTabsElement;\n\n  guid = `calcite-tab-title-${guid()}`;\n\n  @State() labeledBy: string;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * @param tabIds\n   * @param titleIds\n   * @internal\n   */\n  @Method()\n  async updateAriaInfo(tabIds: string[] = [], titleIds: string[] = []): Promise<void> {\n    this.labeledBy = titleIds[tabIds.indexOf(this.el.id)] || null;\n  }\n}\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-tab-content-block-padding: Specifies the block padding of the component's content in the `default` slot.\n */\n\n:host([selected]) {\n  section,\n  .container {\n    @apply block;\n  }\n}\n\n:host {\n  @apply hidden h-full w-full;\n}\n\n:host([selected]) {\n  @apply block h-full w-full overflow-auto;\n}\n\n.content {\n  @apply box-border;\n  padding-block: var(--calcite-internal-tab-content-block-padding);\n}\n\n.scale-s {\n  --calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, theme(\"spacing.1\"));\n  @apply text-n2h;\n}\n\n.scale-m {\n  --calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, theme(\"spacing.2\"));\n  @apply text-n1h;\n}\n\n.scale-l {\n  --calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, theme(\"spacing.[2.5]\"));\n  @apply text-0h;\n}\n\nsection,\n.container {\n  @apply hidden h-full w-full;\n}\n\n.container {\n  @apply focus-base;\n\n  &:focus {\n    @apply focus-inset;\n  }\n}\n\n@include base-component();\n","export const ICON = {\n  chevronRight: \"chevron-right\",\n  chevronLeft: \"chevron-left\",\n} as const;\n\nexport const CSS = {\n  container: \"tab-nav\",\n  containerHasEndTabTitleOverflow: \"tab-nav--end-overflow\",\n  containerHasStartTabTitleOverflow: \"tab-nav--start-overflow\",\n  scrollButton: \"scroll-button\",\n  scrollButtonContainer: \"scroll-button-container\",\n  scrollBackwardContainerButton: \"scroll-button-container--backward\",\n  scrollForwardContainerButton: \"scroll-button-container--forward\",\n  tabTitleSlotWrapper: \"tab-titles-slot-wrapper\",\n};\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Prop,\n  readTask,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport {\n  calciteSize24,\n  calciteSize32,\n  calciteSize44,\n} from \"@esri/calcite-design-tokens/dist/es6/core\";\nimport {\n  Direction,\n  filterDirectChildren,\n  focusElementInGroup,\n  FocusElementInGroupDestination,\n  getElementDir,\n  slotChangeGetAssignedElements,\n} from \"../../utils/dom\";\nimport { createObserver } from \"../../utils/observers\";\nimport { Scale } from \"../interfaces\";\nimport { TabChangeEventDetail, TabCloseEventDetail } from \"../tab/interfaces\";\nimport { TabID, TabLayout, TabPosition } from \"../tabs/interfaces\";\nimport { connectLocalized, disconnectLocalized, LocalizedComponent } from \"../../utils/locale\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport { CSS_UTILITY } from \"../../utils/resources\";\nimport { CSS, ICON } from \"./resources\";\nimport { TabNavMessages } from \"./assets/tab-nav/t9n\";\n\n/**\n * @slot - A slot for adding `calcite-tab-title`s.\n */\n@Component({\n  tag: \"calcite-tab-nav\",\n  styleUrl: \"tab-nav.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class TabNav implements LocalizedComponent, T9nComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Specifies the name when saving selected `calcite-tab` data to `localStorage`.\n   */\n  @Prop({ reflect: true }) storageId: string;\n\n  /**\n   * Specifies text to update multiple components to keep in sync if one changes.\n   */\n  @Prop({ reflect: true }) syncId: string;\n\n  /**\n   * Specifies the component's selected `calcite-tab-title`.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) selectedTitle: HTMLCalciteTabTitleElement = null;\n\n  @Watch(\"selectedTitle\")\n  selectedTitleChanged(): void {\n    this.calciteInternalTabChange.emit({\n      tab: this.selectedTabId,\n    });\n  }\n\n  /**\n   * Specifies the size of the component inherited from the parent `calcite-tabs`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  /**\n   * @internal\n   */\n  @Prop({ reflect: true, mutable: true }) layout: TabLayout = \"inline\";\n\n  /**\n   * Specifies the position of `calcite-tab-nav` and `calcite-tab-title` components in relation to, and is inherited from the parent `calcite-tabs`, defaults to `top`.\n   *\n   *  @internal\n   */\n  @Prop() position: TabPosition = \"bottom\";\n\n  /**\n   * @internal\n   */\n  @Prop({ reflect: true, mutable: true }) bordered = false;\n\n  /**\n   * Made into a prop for testing purposes only.\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: TabNavMessages;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<TabNavMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n    this.resizeObserver?.observe(this.el);\n    connectLocalized(this);\n    connectMessages(this);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    const storageKey = `calcite-tab-nav-${this.storageId}`;\n    if (localStorage && this.storageId && localStorage.getItem(storageKey)) {\n      const storedTab = JSON.parse(localStorage.getItem(storageKey));\n      this.selectedTabId = storedTab;\n    }\n    await setUpMessages(this);\n  }\n\n  componentDidLoad(): void {\n    this.scrollTabTitleIntoView(this.selectedTitle, \"instant\");\n  }\n\n  componentWillRender(): void {\n    const { parentTabsEl } = this;\n\n    this.layout = parentTabsEl?.layout;\n    this.bordered = parentTabsEl?.bordered;\n    this.effectiveDir = getElementDir(this.el);\n  }\n\n  componentDidRender(): void {\n    // if every tab title is active select the first tab.\n    if (\n      this.tabTitles.length &&\n      this.tabTitles.every((title) => !title.selected) &&\n      !this.selectedTabId\n    ) {\n      this.tabTitles[0].getTabIdentifier().then((tab) => {\n        this.calciteInternalTabChange.emit({\n          tab,\n        });\n      });\n    }\n  }\n\n  disconnectedCallback(): void {\n    this.resizeObserver?.disconnect();\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n\n  render(): VNode {\n    return (\n      <Host role=\"tablist\">\n        <div\n          class={{\n            [CSS.container]: true,\n            [CSS.containerHasStartTabTitleOverflow]: !!this.hasOverflowingStartTabTitle,\n            [CSS.containerHasEndTabTitleOverflow]: !!this.hasOverflowingEndTabTitle,\n            [`scale-${this.scale}`]: true,\n            [`position-${this.position}`]: true,\n            [CSS_UTILITY.rtl]: this.effectiveDir === \"rtl\",\n          }}\n        >\n          {this.renderScrollButton(\"start\")}\n          <div\n            class={{\n              [CSS.tabTitleSlotWrapper]: true,\n            }}\n            onScroll={this.onTabTitleScroll}\n            onWheel={this.onTabTitleWheel}\n            ref={this.storeTabTitleWrapperRef}\n          >\n            <slot onSlotchange={this.onSlotChange} />\n          </div>\n          {this.renderScrollButton(\"end\")}\n        </div>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalTabsFocusPrevious\")\n  focusPreviousTabHandler(event: CustomEvent): void {\n    this.handleTabFocus(event, event.target as HTMLCalciteTabTitleElement, \"previous\");\n  }\n\n  @Listen(\"calciteInternalTabsFocusNext\")\n  focusNextTabHandler(event: CustomEvent): void {\n    this.handleTabFocus(event, event.target as HTMLCalciteTabTitleElement, \"next\");\n  }\n\n  @Listen(\"calciteInternalTabsFocusFirst\")\n  focusFirstTabHandler(event: CustomEvent): void {\n    this.handleTabFocus(event, event.target as HTMLCalciteTabTitleElement, \"first\");\n  }\n\n  @Listen(\"calciteInternalTabsFocusLast\")\n  focusLastTabHandler(event: CustomEvent): void {\n    this.handleTabFocus(event, event.target as HTMLCalciteTabTitleElement, \"last\");\n  }\n\n  @Listen(\"calciteInternalTabsActivate\")\n  internalActivateTabHandler(event: CustomEvent<TabChangeEventDetail>): void {\n    const activatedTabTitle = event.target as HTMLCalciteTabTitleElement;\n\n    this.selectedTabId = event.detail.tab\n      ? event.detail.tab\n      : this.getIndexOfTabTitle(activatedTabTitle);\n    event.stopPropagation();\n\n    this.selectedTitle = activatedTabTitle;\n    this.scrollTabTitleIntoView(activatedTabTitle);\n  }\n\n  private scrollTabTitleIntoView(\n    activatedTabTitle: HTMLCalciteTabTitleElement,\n    behavior: ScrollBehavior = \"smooth\",\n  ): void {\n    if (!activatedTabTitle) {\n      return;\n    }\n\n    readTask(() => {\n      const isLTR = this.effectiveDir === \"ltr\";\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitleBounds = activatedTabTitle.getBoundingClientRect();\n      const scrollPosition = tabTitleContainer.scrollLeft;\n      const overflowingStartTabTitle = isLTR\n        ? this.hasOverflowingStartTabTitle\n        : this.hasOverflowingEndTabTitle;\n      const overflowingEndTabTitle = isLTR\n        ? this.hasOverflowingEndTabTitle\n        : this.hasOverflowingStartTabTitle;\n\n      if (\n        tabTitleBounds.left <\n        containerBounds.left + (overflowingStartTabTitle ? this.scrollerButtonWidth : 0)\n      ) {\n        const left =\n          scrollPosition + (tabTitleBounds.left - containerBounds.left) - this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      } else if (\n        tabTitleBounds.right >\n        containerBounds.right - (overflowingEndTabTitle ? this.scrollerButtonWidth : 0)\n      ) {\n        const left =\n          scrollPosition +\n          (tabTitleBounds.right - containerBounds.right) +\n          this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      }\n    });\n  }\n\n  @Listen(\"calciteTabsActivate\")\n  activateTabHandler(event: CustomEvent<void>): void {\n    this.calciteTabChange.emit();\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteInternalTabsClose\")\n  internalCloseTabHandler(event: CustomEvent<TabCloseEventDetail>): void {\n    const closedTabTitleEl = event.target as HTMLCalciteTabTitleElement;\n    this.handleTabTitleClose(closedTabTitleEl);\n    event.stopPropagation();\n  }\n\n  /**\n   * Check for active tabs on register and update selected\n   *\n   * @param event\n   */\n  @Listen(\"calciteInternalTabTitleRegister\")\n  async updateTabTitles(event: CustomEvent<TabID>): Promise<void> {\n    if ((event.target as HTMLCalciteTabTitleElement).selected) {\n      this.selectedTabId = event.detail;\n      this.selectedTitle = await this.getTabTitleById(this.selectedTabId);\n    }\n  }\n\n  @Listen(\"calciteInternalTabChange\", { target: \"body\" })\n  globalInternalTabChangeHandler(event: CustomEvent<TabChangeEventDetail>): void {\n    if (\n      this.syncId &&\n      event.target !== this.el &&\n      (event.target as HTMLCalciteTabNavElement).syncId === this.syncId &&\n      this.selectedTabId !== event.detail.tab\n    ) {\n      this.selectedTabId = event.detail.tab;\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Emits when the selected `calcite-tab` changes.\n   */\n  @Event({ cancelable: false }) calciteTabChange: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event() calciteInternalTabNavSlotChange: EventEmitter<Element[]>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabChange: EventEmitter<TabChangeEventDetail>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteTabNavElement;\n\n  @State() defaultMessages: TabNavMessages;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleChange(): void {\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  @State() private hasOverflowingStartTabTitle = false;\n\n  @State() private hasOverflowingEndTabTitle = false;\n\n  @State() private selectedTabId: TabID;\n\n  @Watch(\"selectedTabId\")\n  async selectedTabIdChanged(): Promise<void> {\n    if (\n      localStorage &&\n      this.storageId &&\n      this.selectedTabId !== undefined &&\n      this.selectedTabId !== null\n    ) {\n      localStorage.setItem(`calcite-tab-nav-${this.storageId}`, JSON.stringify(this.selectedTabId));\n    }\n\n    this.calciteInternalTabChange.emit({\n      tab: this.selectedTabId,\n    });\n  }\n\n  private effectiveDir: Direction = \"ltr\";\n\n  private lastScrollWheelAxis: \"x\" | \"y\" = \"x\";\n\n  private parentTabsEl: HTMLCalciteTabsElement;\n\n  private tabTitleContainerEl: HTMLDivElement;\n\n  private intersectionObserver: IntersectionObserver;\n\n  private resizeObserver = createObserver(\"resize\", () => {\n    this.updateScrollingState();\n  });\n\n  private get scrollerButtonWidth(): number {\n    const { scale } = this;\n    return parseInt(scale === \"s\" ? calciteSize24 : scale === \"m\" ? calciteSize32 : calciteSize44);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private onTabTitleWheel = (event: WheelEvent): void => {\n    event.preventDefault();\n\n    const { deltaX, deltaY } = event;\n    const x = Math.abs(deltaX);\n    const y = Math.abs(deltaY);\n\n    let scrollBy: number;\n\n    if (x === y) {\n      scrollBy = this.lastScrollWheelAxis === \"x\" ? deltaX : deltaY;\n    } else if (x > y) {\n      scrollBy = deltaX;\n      this.lastScrollWheelAxis = \"x\";\n    } else {\n      scrollBy = deltaY;\n      this.lastScrollWheelAxis = \"y\";\n    }\n\n    const scrollByX = (this.effectiveDir === \"rtl\" ? -1 : 1) * scrollBy;\n    (event.currentTarget as HTMLDivElement).scrollBy(scrollByX, 0);\n  };\n\n  private onSlotChange = (event: Event): void => {\n    this.intersectionObserver?.disconnect();\n\n    const slottedElements = slotChangeGetAssignedElements(event, \"calcite-tab-title\");\n    slottedElements.forEach((child) => {\n      this.intersectionObserver?.observe(child);\n    });\n    this.calciteInternalTabNavSlotChange.emit(slottedElements);\n  };\n\n  private storeTabTitleWrapperRef = (el: HTMLDivElement) => {\n    this.tabTitleContainerEl = el;\n    this.intersectionObserver = createObserver(\"intersection\", () => this.updateScrollingState(), {\n      root: el,\n      threshold: [0, 0.5, 1],\n    });\n  };\n\n  private updateScrollingState(): void {\n    const tabTitleContainer = this.tabTitleContainerEl;\n\n    if (!tabTitleContainer) {\n      return;\n    }\n\n    let isOverflowStart: boolean;\n    let isOverflowEnd: boolean;\n\n    const scrollPosition = tabTitleContainer.scrollLeft;\n    const visibleWidth = tabTitleContainer.clientWidth;\n    const totalContentWidth = tabTitleContainer.scrollWidth;\n\n    if (this.effectiveDir === \"ltr\") {\n      isOverflowStart = scrollPosition > 0;\n      isOverflowEnd = scrollPosition + visibleWidth < totalContentWidth;\n    } else {\n      isOverflowStart = scrollPosition < 0;\n      isOverflowEnd = scrollPosition !== -(totalContentWidth - visibleWidth);\n    }\n\n    this.hasOverflowingStartTabTitle = isOverflowStart;\n    this.hasOverflowingEndTabTitle = isOverflowEnd;\n  }\n\n  private scrollToTabTitles = (direction: \"forward\" | \"backward\"): void => {\n    readTask(() => {\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitles = Array.from(this.el.querySelectorAll(\"calcite-tab-title\"));\n      const { effectiveDir } = this;\n\n      if (direction === \"forward\") {\n        tabTitles.reverse();\n      }\n\n      let closestToEdge: HTMLCalciteTabTitleElement = null;\n\n      tabTitles.forEach((tabTitle) => {\n        const tabTitleBounds = tabTitle.getBoundingClientRect();\n        const containerEndX = containerBounds.x + containerBounds.width;\n        const tabTitleEndX = tabTitleBounds.x + tabTitleBounds.width;\n\n        if (\n          (direction === \"forward\" && effectiveDir === \"ltr\") ||\n          (direction === \"backward\" && effectiveDir === \"rtl\")\n        ) {\n          const afterContainerEnd = tabTitleBounds.x > containerEndX;\n\n          if (afterContainerEnd) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerEnd =\n              tabTitleEndX > containerEndX && tabTitleBounds.x > containerBounds.x;\n\n            if (crossingContainerEnd) {\n              closestToEdge = tabTitle;\n            }\n          }\n        } else {\n          const beforeContainerStart = tabTitleEndX < containerBounds.x;\n\n          if (beforeContainerStart) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerStart =\n              tabTitleEndX < containerEndX && tabTitleBounds.x < containerBounds.x;\n\n            if (crossingContainerStart) {\n              closestToEdge = tabTitle;\n            }\n          }\n        }\n      });\n\n      if (closestToEdge) {\n        const { scrollerButtonWidth } = this;\n        const offsetAdjustment =\n          (direction === \"forward\" && effectiveDir === \"ltr\") ||\n          (direction === \"backward\" && effectiveDir === \"rtl\")\n            ? -scrollerButtonWidth\n            : closestToEdge.offsetWidth - tabTitleContainer.clientWidth + scrollerButtonWidth;\n        const scrollTo = closestToEdge.offsetLeft + offsetAdjustment;\n\n        tabTitleContainer.scrollTo({\n          left: scrollTo,\n          behavior: \"smooth\",\n        });\n      }\n    });\n  };\n\n  private scrollToNextTabTitles = (): void => this.scrollToTabTitles(\"forward\");\n\n  private scrollToPreviousTabTitles = (): void => this.scrollToTabTitles(\"backward\");\n\n  handleTabFocus = (\n    event: CustomEvent,\n    el: HTMLCalciteTabTitleElement,\n    destination: FocusElementInGroupDestination,\n  ): void => {\n    const focused = focusElementInGroup<HTMLCalciteTabTitleElement>(\n      this.enabledTabTitles,\n      el,\n      destination,\n    );\n    this.scrollTabTitleIntoView(focused, \"instant\");\n\n    event.stopPropagation();\n  };\n\n  getIndexOfTabTitle(el: HTMLCalciteTabTitleElement, tabTitles = this.tabTitles): number {\n    // In most cases, since these indexes correlate with tab contents, we want to consider all tab titles.\n    // However, when doing relative index operations, it makes sense to pass in this.enabledTabTitles as the 2nd arg.\n    return tabTitles.indexOf(el);\n  }\n\n  private onTabTitleScroll = (): void => {\n    this.updateScrollingState();\n  };\n\n  async getTabTitleById(id: TabID): Promise<HTMLCalciteTabTitleElement | null> {\n    return Promise.all(this.tabTitles.map((el) => el.getTabIdentifier())).then((ids) => {\n      return this.tabTitles[ids.indexOf(id)];\n    });\n  }\n\n  get tabTitles(): HTMLCalciteTabTitleElement[] {\n    return filterDirectChildren<HTMLCalciteTabTitleElement>(this.el, \"calcite-tab-title\");\n  }\n\n  get enabledTabTitles(): HTMLCalciteTabTitleElement[] {\n    return filterDirectChildren<HTMLCalciteTabTitleElement>(\n      this.el,\n      \"calcite-tab-title:not([disabled])\",\n    ).filter((tabTitle) => !tabTitle.closed);\n  }\n\n  private handleTabTitleClose(closedTabTitleEl: HTMLCalciteTabTitleElement): void {\n    const { tabTitles } = this;\n    const selectionModified = closedTabTitleEl.selected;\n\n    const visibleTabTitlesIndices = tabTitles.reduce(\n      (tabTitleIndices: number[], tabTitle, index) =>\n        !tabTitle.closed ? [...tabTitleIndices, index] : tabTitleIndices,\n      [],\n    );\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n\n    if (totalVisibleTabTitles === 1 && tabTitles[visibleTabTitlesIndices[0]].closable) {\n      tabTitles[visibleTabTitlesIndices[0]].closable = false;\n      this.selectedTabId = visibleTabTitlesIndices[0];\n\n      if (selectionModified) {\n        tabTitles[visibleTabTitlesIndices[0]].activateTab();\n      }\n    } else if (totalVisibleTabTitles > 1) {\n      const closedTabTitleIndex = tabTitles.findIndex((el) => el === closedTabTitleEl);\n\n      const nextTabTitleIndex = visibleTabTitlesIndices.find(\n        (value) => value > closedTabTitleIndex,\n      );\n\n      if (this.selectedTabId === closedTabTitleIndex) {\n        this.selectedTabId = nextTabTitleIndex ? nextTabTitleIndex : totalVisibleTabTitles - 1;\n        tabTitles[this.selectedTabId].activateTab();\n      }\n    }\n\n    requestAnimationFrame(() => {\n      tabTitles[this.selectedTabId].focus();\n    });\n  }\n\n  private renderScrollButton = (overflowDirection: \"start\" | \"end\"): VNode => {\n    const { bordered, messages, hasOverflowingStartTabTitle, hasOverflowingEndTabTitle, scale } =\n      this;\n    const isEnd = overflowDirection === \"end\";\n\n    return (\n      <div\n        class={{\n          [CSS.scrollButtonContainer]: true,\n          [CSS.scrollBackwardContainerButton]: !isEnd,\n          [CSS.scrollForwardContainerButton]: isEnd,\n        }}\n        hidden={(isEnd && !hasOverflowingEndTabTitle) || (!isEnd && !hasOverflowingStartTabTitle)}\n        key={overflowDirection}\n      >\n        <calcite-button\n          appearance={bordered ? \"outline-fill\" : \"transparent\"}\n          aria-label={isEnd ? messages.nextTabTitles : messages.previousTabTitles}\n          class={{\n            [CSS.scrollButton]: true,\n          }}\n          iconFlipRtl=\"both\"\n          iconStart={isEnd ? ICON.chevronRight : ICON.chevronLeft}\n          kind=\"neutral\"\n          onClick={isEnd ? this.scrollToNextTabTitles : this.scrollToPreviousTabTitles}\n          scale={scale}\n          tabIndex={-1}\n        />\n      </div>\n    );\n  };\n}\n",":host {\n  --calcite-internal-tab-nav-gradient-start-side: left;\n  --calcite-internal-tab-nav-gradient-end-side: right;\n\n  @apply relative flex;\n}\n\n.scale-s {\n  --calcite-internal-tab-nav-scroller-button-width: #{$calcite-size-24};\n  min-block-size: theme(\"spacing.6\");\n}\n\n.scale-m {\n  --calcite-internal-tab-nav-scroller-button-width: #{$calcite-size-32};\n  min-block-size: theme(\"spacing.8\");\n}\n\n.scale-l {\n  --calcite-internal-tab-nav-scroller-button-width: #{$calcite-size-44};\n  min-block-size: theme(\"spacing.11\");\n}\n\n.calcite--rtl {\n  --calcite-internal-tab-nav-gradient-start-side: right;\n  --calcite-internal-tab-nav-gradient-end-side: left;\n}\n\n$last-mask-color-stop-position: 51%; // we go beyond the half point to ensure the mask color stops overlap when both start and end are overflowing\n\n.tab-nav--start-overflow {\n  .tab-titles-slot-wrapper {\n    mask-image: linear-gradient(\n      to var(--calcite-internal-tab-nav-gradient-end-side),\n      transparent,\n      transparent var(--calcite-internal-tab-nav-scroller-button-width),\n      white var(--calcite-internal-tab-nav-scroller-button-width),\n      white $last-mask-color-stop-position\n    );\n  }\n}\n\n.tab-nav--end-overflow {\n  .tab-titles-slot-wrapper {\n    mask-image: linear-gradient(\n      to var(--calcite-internal-tab-nav-gradient-start-side),\n      transparent,\n      transparent var(--calcite-internal-tab-nav-scroller-button-width),\n      white var(--calcite-internal-tab-nav-scroller-button-width),\n      white $last-mask-color-stop-position\n    );\n  }\n}\n\n.tab-nav--start-overflow.tab-nav--end-overflow {\n  .tab-titles-slot-wrapper {\n    mask-image: linear-gradient(\n        to var(--calcite-internal-tab-nav-gradient-end-side),\n        transparent,\n        transparent var(--calcite-internal-tab-nav-scroller-button-width),\n        white var(--calcite-internal-tab-nav-scroller-button-width),\n        white $last-mask-color-stop-position,\n        transparent $last-mask-color-stop-position\n      ),\n      linear-gradient(\n        to var(--calcite-internal-tab-nav-gradient-start-side),\n        transparent,\n        transparent var(--calcite-internal-tab-nav-scroller-button-width),\n        white var(--calcite-internal-tab-nav-scroller-button-width),\n        white $last-mask-color-stop-position,\n        transparent $last-mask-color-stop-position\n      );\n  }\n}\n\n.tab-nav::-webkit-scrollbar {\n  display: none;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n:host([layout=\"center\"]) {\n  ::slotted(calcite-tab-title) {\n    display: flex;\n    flex-grow: 1;\n    flex-shrink: 0;\n    min-inline-size: auto;\n    white-space: nowrap;\n  }\n\n  ::slotted(calcite-tab-title[selected]) {\n    overflow: unset;\n  }\n}\n\n:host(:not([bordered])) {\n  .scale-l {\n    --calcite-internal-tab-nav-gap: var(--calcite-size-xxl);\n  }\n  .scale-m {\n    --calcite-internal-tab-nav-gap: var(--calcite-size-xl);\n  }\n  .scale-s {\n    --calcite-internal-tab-nav-gap: var(--calcite-size-lg);\n  }\n\n  .tab-titles-slot-wrapper {\n    gap: var(--calcite-internal-tab-nav-gap);\n  }\n}\n\n:host([layout=\"center\"]:not([bordered])) {\n  .tab-titles-slot-wrapper {\n    padding-inline: var(--calcite-spacing-xxl);\n  }\n}\n\n.tab-nav,\n.tab-titles-slot-wrapper {\n  @apply flex\n    w-full\n    justify-start\n    whitespace-nowrap\n    overflow-hidden;\n}\n\n.scroll-button-container {\n  @apply absolute bottom-0 top-0;\n\n  calcite-button {\n    --calcite-offset-invert-focus: 1;\n    --calcite-color-text-1: var(--calcite-color-text-3);\n\n    block-size: 100%;\n\n    &:hover {\n      --calcite-color-text-1: unset;\n      --calcite-color-foreground-1: var(--calcite-color-transparent-hover);\n      --calcite-color-foreground-3: var(--calcite-color-transparent);\n    }\n  }\n}\n\n.scroll-button-container--forward {\n  inset-inline-end: 0;\n  z-index: var(--calcite-z-index);\n}\n\n.scroll-button-container--backward {\n  inset-inline-start: 0;\n  z-index: var(--calcite-z-index);\n}\n\n:host(:not([bordered])) {\n  .scroll-button-container--backward,\n  .scroll-button-container--forward {\n    &::before {\n      background-color: var(--calcite-color-border-3);\n      content: \"\";\n      inline-size: var(--calcite-border-width-sm);\n      inset-block-start: var(--calcite-border-width-md);\n      inset-block-end: var(--calcite-border-width-md);\n      position: absolute;\n    }\n  }\n\n  .scroll-button-container--backward::before {\n    inset-inline-end: 0;\n  }\n\n  .scroll-button-container--forward::before {\n    inset-inline-start: 0;\n  }\n}\n\n@include base-component();\n","import { Scale } from \"../interfaces\";\n\nexport const CSS = {\n  closeButton: \"close-button\",\n  container: \"container\",\n  containerBottom: \"container--bottom\",\n  content: \"content\",\n  contentHasText: \"content--has-text\",\n  iconEnd: \"icon-end\",\n  iconPresent: \"icon-present\",\n  iconStart: \"icon-start\",\n  titleIcon: \"calcite-tab-title--icon\",\n  scale: (scale: Scale) => `scale-${scale}` as const,\n  selectedIndicator: \"selected-indicator\",\n};\n\nexport const ICONS = {\n  close: \"x\",\n} as const;\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { getElementDir, toAriaBoolean, nodeListToArray } from \"../../utils/dom\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { createObserver } from \"../../utils/observers\";\nimport { FlipContext, Scale } from \"../interfaces\";\nimport { TabChangeEventDetail, TabCloseEventDetail } from \"../tab/interfaces\";\nimport { TabID, TabLayout, TabPosition } from \"../tabs/interfaces\";\nimport { connectLocalized, disconnectLocalized, LocalizedComponent } from \"../../utils/locale\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport { getIconScale } from \"../../utils/component\";\nimport { IconNameOrString } from \"../icon/interfaces\";\nimport { isBrowser } from \"../../utils/browser\";\nimport { TabTitleMessages } from \"./assets/tab-title/t9n\";\nimport { CSS, ICONS } from \"./resources\";\n\n/**\n * Tab-titles are optionally individually closable.\n */\n\n/**\n * @slot - A slot for adding text.\n */\n@Component({\n  tag: \"calcite-tab-title\",\n  styleUrl: \"tab-title.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class TabTitle implements InteractiveComponent, LocalizedComponent, T9nComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, the component and its respective `calcite-tab` contents are selected.\n   *\n   * Only one tab can be selected within the `calcite-tabs` parent.\n   */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  @Watch(\"selected\")\n  selectedHandler(): void {\n    if (this.selected) {\n      this.activateTab(false);\n    }\n  }\n\n  /** When `true`, a close button is added to the component. */\n  @Prop({ reflect: true }) closable = false;\n\n  /** When `true`, does not display or position the component. */\n  @Prop({ reflect: true, mutable: true }) closed = false;\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity.  */\n  @Prop({ reflect: true }) disabled = false;\n\n  /** Specifies an icon to display at the end of the component. */\n  @Prop({ reflect: true }) iconEnd: IconNameOrString;\n\n  /** Displays the `iconStart` and/or `iconEnd` as flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl: FlipContext;\n\n  /** Specifies an icon to display at the start of the component. */\n  @Prop({ reflect: true }) iconStart: IconNameOrString;\n\n  /**\n   * @internal\n   */\n  @Prop({ reflect: true, mutable: true }) layout: TabLayout;\n\n  /**\n   * Specifies the position of `calcite-tab-nav` and `calcite-tab-title` components in relation to, and is inherited from the parent `calcite-tabs`, defaults to `top`.\n   *\n   *  @internal\n   */\n  @Prop() position: TabPosition = \"top\";\n\n  /**\n   * Specifies the size of the component inherited from the parent `calcite-tabs`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  /**\n   * @internal\n   */\n  @Prop({ reflect: true, mutable: true }) bordered = false;\n\n  /**\n   * Specifies a unique name for the component.\n   *\n   * When specified, use the same value on the `calcite-tab`.\n   */\n  @Prop({ reflect: true }) tab: string;\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: TabTitleMessages;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<TabTitleMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    connectLocalized(this);\n    connectMessages(this);\n    this.setupTextContentObserver();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n\n  disconnectedCallback(): void {\n    this.mutationObserver?.disconnect();\n    // Dispatching to body in order to be listened by other elements that are still connected to the DOM.\n    document.body?.dispatchEvent(\n      new CustomEvent(\"calciteTabTitleUnregister\", {\n        detail: this.el,\n      }),\n    );\n    this.resizeObserver?.disconnect();\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    await setUpMessages(this);\n    if (isBrowser()) {\n      this.updateHasText();\n    }\n    if (this.tab && this.selected) {\n      this.activateTab(false);\n    }\n  }\n\n  componentWillRender(): void {\n    if (this.parentTabsEl) {\n      this.layout = this.parentTabsEl.layout;\n      this.bordered = this.parentTabsEl.bordered;\n    }\n  }\n\n  render(): VNode {\n    const { el, closed } = this;\n    const id = el.id || this.guid;\n\n    const iconStartEl = (\n      <calcite-icon\n        class={{ [CSS.titleIcon]: true, [CSS.iconStart]: true }}\n        flipRtl={this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\"}\n        icon={this.iconStart}\n        scale={getIconScale(this.scale)}\n      />\n    );\n\n    const iconEndEl = (\n      <calcite-icon\n        class={{ [CSS.titleIcon]: true, [CSS.iconEnd]: true }}\n        flipRtl={this.iconFlipRtl === \"end\" || this.iconFlipRtl === \"both\"}\n        icon={this.iconEnd}\n        scale={getIconScale(this.scale)}\n      />\n    );\n\n    return (\n      <Host\n        aria-controls={this.controls}\n        aria-selected={toAriaBoolean(this.selected)}\n        id={id}\n        role=\"tab\"\n        tabIndex={this.selected && !this.disabled ? 0 : -1}\n      >\n        <InteractiveContainer disabled={this.disabled}>\n          <div\n            class={{\n              [CSS.container]: true,\n              [CSS.containerBottom]: this.position === \"bottom\",\n              [CSS.iconPresent]: !!this.iconStart || !!this.iconEnd,\n              [CSS.scale(this.scale)]: true,\n            }}\n            hidden={closed}\n            ref={(el) => this.resizeObserver?.observe(el)}\n          >\n            <div class={{ [CSS.content]: true, [CSS.contentHasText]: this.hasText }}>\n              {this.iconStart ? iconStartEl : null}\n              <slot />\n              {this.iconEnd ? iconEndEl : null}\n            </div>\n            {this.renderCloseButton()}\n            <div class={CSS.selectedIndicator} />\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  renderCloseButton(): VNode {\n    const { closable, messages } = this;\n\n    return closable ? (\n      <button\n        aria-label={messages.close}\n        class={CSS.closeButton}\n        disabled={false}\n        key={CSS.closeButton}\n        onClick={this.closeClickHandler}\n        ref={(el) => (this.closeButtonEl = el)}\n        title={messages.close}\n        type=\"button\"\n      >\n        <calcite-icon icon={ICONS.close} scale={getIconScale(this.scale)} />\n      </button>\n    ) : null;\n  }\n\n  async componentDidLoad(): Promise<void> {\n    this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier());\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalTabChange\", { target: \"body\" })\n  internalTabChangeHandler(event: CustomEvent<TabChangeEventDetail>): void {\n    const targetTabsEl = event\n      .composedPath()\n      .find((el: HTMLElement) => el.tagName === \"CALCITE-TABS\");\n\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n\n    event.stopPropagation();\n  }\n\n  @Listen(\"click\")\n  onClick(): void {\n    this.activateTab();\n  }\n\n  @Listen(\"keydown\")\n  keyDownHandler(event: KeyboardEvent): void {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        if (!event.composedPath().includes(this.closeButtonEl)) {\n          this.activateTab();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusNext.emit();\n        } else {\n          this.calciteInternalTabsFocusPrevious.emit();\n        }\n        break;\n      case \"ArrowLeft\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusPrevious.emit();\n        } else {\n          this.calciteInternalTabsFocusNext.emit();\n        }\n        break;\n      case \"Home\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusFirst.emit();\n        break;\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusLast.emit();\n        break;\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Fires when a `calcite-tab` is selected.\n   */\n  @Event({ cancelable: false }) calciteTabsActivate: EventEmitter<void>;\n\n  /**\n   * Fires when a `calcite-tab` is selected (`event.details`).\n   *\n   * @see [TabChangeEventDetail](https://github.com/Esri/calcite-design-system/blob/dev/src/components/tab/interfaces.ts#L1)\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabsActivate: EventEmitter<TabChangeEventDetail>;\n\n  /**\n   * Fires when a `calcite-tab` is closed.\n   */\n  @Event({ cancelable: false }) calciteTabsClose: EventEmitter<void>;\n\n  /**\n   * Fires when `calcite-tab` is closed (`event.details`).\n   *\n   * @see [TabChangeEventDetail](https://github.com/Esri/calcite-design-system/blob/dev/src/components/tab/interfaces.ts)\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabsClose: EventEmitter<TabCloseEventDetail>;\n  /**\n   * @internal\n   */\n\n  @Event({ cancelable: false }) calciteInternalTabsFocusNext: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabsFocusPrevious: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabsFocusFirst: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabsFocusLast: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabTitleRegister: EventEmitter<TabID>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalTabIconChanged: EventEmitter<void>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Returns the index of the title within the `calcite-tab-nav`.\n   */\n  @Method()\n  async getTabIndex(): Promise<number> {\n    return Array.prototype.indexOf.call(\n      nodeListToArray(this.el.parentElement.children).filter((el) =>\n        el.matches(\"calcite-tab-title\"),\n      ),\n      this.el,\n    );\n  }\n\n  /**\n   * @internal\n   */\n  @Method()\n  async getTabIdentifier(): Promise<TabID> {\n    return this.tab ? this.tab : this.getTabIndex();\n  }\n\n  /**\n   * @param tabIds\n   * @param titleIds\n   * @internal\n   */\n  @Method()\n  async updateAriaInfo(tabIds: string[] = [], titleIds: string[] = []): Promise<void> {\n    this.controls = tabIds[titleIds.indexOf(this.el.id)] || null;\n  }\n\n  /**\n   * This activates a tab in order for it and its associated tab-title be selected.\n   *\n   * @param userTriggered - when `true`, user-interaction events will be emitted in addition to internal events\n   * @internal\n   */\n  @Method()\n  async activateTab(userTriggered = true): Promise<void> {\n    if (this.disabled || this.closed) {\n      return;\n    }\n    const payload = { tab: this.tab };\n    this.calciteInternalTabsActivate.emit(payload);\n\n    if (userTriggered) {\n      // emit in the next frame to let internal events sync up\n      requestAnimationFrame(() => this.calciteTabsActivate.emit());\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private closeClickHandler = (): void => {\n    this.closeTabTitleAndNotify();\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteTabTitleElement;\n\n  /** watches for changing text content */\n  mutationObserver: MutationObserver = createObserver(\"mutation\", () => this.updateHasText());\n\n  @State() controls: string;\n\n  @State() defaultMessages: TabTitleMessages;\n\n  @State() effectiveLocale: \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleChange(): void {\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  /** determine if there is slotted text for styling purposes */\n  @State() hasText = false;\n\n  closeButtonEl: HTMLButtonElement;\n\n  parentTabsEl: HTMLCalciteTabsElement;\n\n  resizeObserver = createObserver(\"resize\", () => {\n    this.calciteInternalTabIconChanged.emit();\n  });\n\n  updateHasText(): void {\n    this.hasText = this.el.textContent.trim().length > 0;\n  }\n\n  setupTextContentObserver(): void {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n  }\n\n  closeTabTitleAndNotify(): void {\n    this.closed = true;\n    this.calciteInternalTabsClose.emit({ tab: this.tab });\n    this.calciteTabsClose.emit();\n  }\n\n  guid = `calcite-tab-title-${guid()}`;\n}\n",":host {\n  @apply block outline-none;\n  margin-inline-start: theme(\"margin.0\");\n}\n\n:host([layout=\"inline\"]) {\n  @apply flex-initial;\n}\n\n:host([layout=\"center\"]) {\n  @apply flex-auto;\n}\n\n.content {\n  @apply flex items-center justify-center h-full mb-0.5 relative box-border;\n}\n\n.scale-s {\n  .content {\n    @apply text-n2h py-1;\n  }\n  .close-button {\n    @apply w-5;\n  }\n}\n\n.scale-m {\n  .content {\n    @apply text-n1h py-2;\n  }\n  .close-button {\n    @apply w-7;\n  }\n}\n\n.scale-l {\n  .content {\n    @apply text-0h py-2.5;\n  }\n  .close-button {\n    @apply w-8;\n  }\n}\n\n:host([closable]) .content {\n  @apply border-b-color-transparent;\n}\n\n:host([layout=\"inline\"]),\n:host([layout=\"center\"]) {\n  .content {\n    @apply px-1;\n  }\n}\n\n:host([layout=\"center\"]) .scale-s,\n:host([layout=\"center\"]) .scale-m,\n:host([layout=\"center\"]) .scale-l {\n  @apply justify-center my-0 text-center;\n\n  .content {\n    @apply flex-auto flex-grow;\n  }\n}\n\n.container {\n  @apply relative \n  box-border\n  content-center\n  cursor-pointer\n  flex\n  focus-base\n  h-full\n  justify-between\n  px-0\n  text-color-3\n  text-n1h\n  transition-default\n  w-full;\n}\n\n.selected-indicator {\n  @apply absolute\n    block\n    w-full\n    h-0.5\n    transition-default;\n  inset-block-end: 0;\n  inset-inline-start: 0;\n  inset-inline-end: 0;\n  inline-size: 100%;\n}\n\n.container--bottom .selected-indicator {\n  inset-block-end: unset;\n  inset-block-start: 0;\n}\n\n:host([bordered]) .selected-indicator {\n  inset-block-start: 0;\n  inset-block-end: unset;\n  inset-inline-start: -1px;\n  inset-inline-end: 0;\n  inline-size: calc(100% + var(--calcite-spacing-base));\n}\n\n:host([bordered]) .container:not(.container--bottom) {\n  border-block-end: 1px solid transparent;\n}\n\n:host([bordered]:not([selected]):hover) .container:not(.container--bottom) {\n  border-block-end: 1px solid var(--calcite-color-border-1);\n}\n\n:host([bordered]:not([selected]):hover:not(:focus)) {\n  .selected-indicator {\n    background-color: var(--calcite-color-foreground-2);\n  }\n  .container:not(.container--bottom) .selected-indicator {\n    box-shadow: inset 0 1px var(--calcite-color-border-1);\n  }\n  .container.container--bottom .selected-indicator {\n    box-shadow: inset 0 -1px var(--calcite-color-border-1);\n  }\n}\n\n:host([bordered][selected]) .container::after {\n  @apply absolute\n    block\n    w-full\n    h-0.5\n    transition-default;\n  inset-block-end: -1px;\n  inset-inline-start: 0;\n  inset-inline-end: 0;\n  inline-size: 100%;\n  background: var(--calcite-color-foreground-1);\n  content: \"\";\n}\n\n:host([bordered][selected]) .container.container--bottom::after {\n  inset-block-start: -1px;\n}\n\n:host([bordered][selected]:hover) .container::after {\n  background: var(--calcite-color-foreground-2);\n}\n\n:host([bordered][selected]:focus) .container::after {\n  background: transparent;\n}\n\n:host([bordered]) .container--bottom .selected-indicator {\n  inset-block-start: unset;\n  inset-block-end: 0;\n}\n\n:host([selected]) .selected-indicator,\n:host([selected]:hover) .selected-indicator {\n  @apply bg-brand;\n}\n\n:host(:hover) .selected-indicator {\n  background-color: var(--calcite-color-border-3);\n}\n\n:host(:focus) .selected-indicator,\n:host(:active) .selected-indicator {\n  background-color: var(--calcite-color-brand);\n}\n\n@media (forced-colors: active) {\n  .selected-indicator {\n    background-color: highlight;\n  }\n}\n\n:host([closed]) {\n  @apply hidden;\n}\n\n:host([selected]) .container {\n  @apply text-color-1 border-color-transparent;\n}\n\n:host(:focus) .container {\n  @apply focus-inset;\n\n  &:focus-within {\n    @apply focus-base;\n  }\n}\n\n:host(:active),\n:host(:focus),\n:host(:hover) {\n  a {\n    @apply text-color-1 border-color-2 no-underline;\n  }\n}\n\n@include disabled() {\n  .container {\n    @apply pointer-events-none opacity-50;\n  }\n}\n\n.calcite-tab-title--icon {\n  @apply relative\n    m-0\n    inline-flex\n    self-center;\n  & svg {\n    @apply transition-default;\n  }\n}\n\n.content--has-text {\n  @apply p-1;\n}\n\n.content--has-text .calcite-tab-title--icon.icon-start {\n  margin-inline-end: var(--calcite-spacing-sm);\n}\n\n.content--has-text .calcite-tab-title--icon.icon-end {\n  margin-inline-start: var(--calcite-spacing-sm);\n}\n\n.close-button {\n  @apply appearance-none\n  bg-transparent\n  border-none\n  content-center\n  cursor-pointer\n  flex\n  focus-base\n  items-center\n  justify-center\n  h-full\n  self-center\n  text-color-3\n  transition-default;\n  margin-inline-start: var(--calcite-spacing-sm);\n  margin-inline-end: var(--calcite-spacing-px);\n  block-size: calc(100% - var(--calcite-spacing-xxs));\n\n  &:focus {\n    @apply focus-normal;\n  }\n\n  &:focus,\n  &:hover {\n    @apply text-color-1;\n    background-color: var(--calcite-color-foreground-3);\n  }\n\n  &:active {\n    @apply text-color-1;\n    background-color: var(--calcite-color-foreground-3);\n  }\n\n  & calcite-icon {\n    color: inherit;\n  }\n}\n\n// compensate for spacing when no hastext and two icons\n:host([icon-start][icon-end]) {\n  .calcite-tab-title--icon:first-child {\n    margin-inline-end: var(--calcite-spacing-sm);\n  }\n}\n\n// bordered styles\n:host([bordered]) .container {\n  &:not(.container--bottom) .close-button {\n    block-size: calc(100% - var(--calcite-spacing-px));\n    margin-block-start: -1px;\n  }\n  .close-button {\n    & calcite-icon {\n      margin-block-start: var(--calcite-spacing-px);\n    }\n\n    &:focus,\n    &:hover,\n    &:active {\n      box-shadow: 0 2px 0 0 var(--calcite-color-foreground-3);\n    }\n  }\n\n  &.container--bottom .close-button {\n    box-shadow: 0 -2px 0 0 transparent;\n    & calcite-icon {\n      margin-block-end: var(--calcite-spacing-px);\n    }\n    &:focus,\n    &:hover,\n    &:active {\n      box-shadow: 0 -2px 0 0 var(--calcite-color-foreground-3);\n    }\n  }\n}\n\n:host([bordered][selected]) {\n  box-shadow: inset 0 -1px var(--calcite-color-foreground-1);\n}\n\n:host([bordered]:not([selected])) .container .close-button {\n  box-shadow: 0 2px 0 0 transparent;\n}\n\n:host([bordered]:hover) {\n  .container {\n    background-color: var(--calcite-color-foreground-2);\n  }\n}\n\n:host([bordered]) .container {\n  border-inline: var(--calcite-spacing-px) solid transparent;\n}\n\n:host([selected][bordered]) .container {\n  border-inline-color: var(--calcite-color-border-1);\n}\n\n:host([layout=\"inline\"][bordered]),\n:host([layout=\"center\"][bordered]) {\n  .scale-m {\n    .content {\n      @apply px-3;\n    }\n  }\n\n  .scale-s {\n    .content {\n      @apply px-2;\n    }\n  }\n\n  .scale-l {\n    .content {\n      @apply px-4;\n    }\n  }\n}\n\n:host([layout=\"inline\"][closable]) {\n  .scale-s,\n  .scale-m,\n  .scale-l {\n    .content {\n      padding-inline-end: 0;\n    }\n  }\n}\n\n@media (forced-colors: active) {\n  :host {\n    outline-width: 0;\n    outline-offset: 0;\n  }\n\n  :host(:focus) .container {\n    outline-color: highlight;\n  }\n\n  :host([bordered]) .container {\n    border-block-end-style: solid;\n  }\n\n  :host([bordered]) .container--bottom {\n    border-block-start-style: solid;\n  }\n\n  :host([bordered][selected]) .container {\n    border-block-end-style: none;\n  }\n\n  :host([bordered][selected]) .container--bottom {\n    border-block-start-style: none;\n  }\n\n  .close-button {\n    /* in high contrast the tab title outline covers the close button outline without a z-index */\n    @apply z-default;\n  }\n}\n\n@include base-component();\n","export const SLOTS = {\n  titleGroup: \"title-group\",\n};\n","import { Component, Element, Fragment, h, Listen, Prop, State, VNode, Watch } from \"@stencil/core\";\nimport { Scale } from \"../interfaces\";\nimport { getSlotAssignedElements, slotChangeGetAssignedElements } from \"../../utils/dom\";\nimport { TabLayout, TabPosition } from \"./interfaces\";\nimport { SLOTS } from \"./resources\";\n\n/**\n * @slot - A slot for adding `calcite-tab`s.\n * @slot title-group - A slot for adding a `calcite-tab-nav`.\n */\n@Component({\n  tag: \"calcite-tabs\",\n  styleUrl: \"tabs.scss\",\n  shadow: true,\n})\nexport class Tabs {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Specifies the layout of the `calcite-tab-nav`, justifying the `calcite-tab-title`s to the start (`\"inline\"`), or across and centered (`\"center\"`).\n   */\n  @Prop({ reflect: true }) layout: TabLayout = \"inline\";\n\n  /**\n   * Specifies the position of `calcite-tab-nav` and `calcite-tab-title` components in relation to the `calcite-tabs`.\n   */\n  @Prop({ reflect: true }) position: TabPosition = \"top\";\n\n  /**\n   * Specifies the size of the component.\n   */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  @Watch(\"position\")\n  @Watch(\"scale\")\n  handleInheritableProps(): void {\n    this.updateItems();\n  }\n\n  /**\n   * When `true`, the component will display with a folder style menu.\n   */\n  @Prop() bordered = false;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalTabNavSlotChange\")\n  calciteInternalTabNavSlotChangeHandler(event: CustomEvent): void {\n    event.stopPropagation();\n    if (event.detail.length !== this.titles.length) {\n      this.titles = event.detail;\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteTabsElement;\n\n  private defaultSlotChangeHandler = (event): void => {\n    this.tabs = slotChangeGetAssignedElements<HTMLCalciteTabElement>(event, \"calcite-tab\");\n  };\n\n  private slotEl: HTMLSlotElement;\n\n  /**\n   *\n   * Stores an array of ids of `<calcite-tab-titles>`s to match up ARIA\n   * attributes.\n   */\n  @State() titles: HTMLCalciteTabTitleElement[] = [];\n\n  @Watch(\"titles\")\n  titlesWatcher(): void {\n    this.updateAriaSettings();\n    this.updateItems();\n  }\n\n  /**\n   *\n   * Stores an array of ids of `<calcite-tab>`s to match up ARIA attributes.\n   */\n  @State() tabs: HTMLCalciteTabElement[] = [];\n\n  @Watch(\"tabs\")\n  tabsWatcher(): void {\n    this.updateAriaSettings();\n    this.updateItems();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   *\n   * Matches up elements from the internal `tabs` and `titles` to automatically\n   * update the ARIA attributes and link `<calcite-tab>` and\n   * `<calcite-tab-title>` components.\n   */\n  async updateAriaSettings(): Promise<void> {\n    let tabIds;\n    let titleIds;\n    const tabs = getSlotAssignedElements<HTMLCalciteTabElement>(this.slotEl, \"calcite-tab\");\n\n    // determine if we are using `tab` based or `index` based tab identifiers.\n    if (tabs.some((el) => el.tab) || this.titles.some((el) => el.tab)) {\n      // if we are using `tab` based identifiers sort by `tab` to account for\n      // possible out of order tabs and get the id of each tab\n      tabIds = tabs.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n      titleIds = this.titles.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n    } else {\n      // if we are using index based tabs then the `<calcite-tab>` and\n      // `<calcite-tab-title>` might have been rendered out of order so the\n      // order of `this.tabs` and `this.titles` might not reflect the DOM state,\n      // and might not match each other so we need to get the index of all the\n      // tabs and titles in the DOM order to match them up as a source of truth\n      const tabDomIndexes = await Promise.all(tabs.map((el) => el.getTabIndex()));\n      const titleDomIndexes = await Promise.all(this.titles.map((el) => el.getTabIndex()));\n\n      // once we have the DOM order as a source of truth we can build the\n      // matching tabIds and titleIds arrays\n      tabIds = tabDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = tabs[registryIndex].id;\n        return ids;\n      }, []);\n\n      titleIds = titleDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = this.titles[registryIndex].id;\n        return ids;\n      }, []);\n    }\n\n    // pass all our new aria information to each `<calcite-tab>` and\n    // `<calcite-tab-title>` which will check if they can update their internal\n    // `controlled` or `labeledBy` states and re-render if necessary\n    tabs.forEach((el) => el.updateAriaInfo(tabIds, titleIds));\n    this.titles.forEach((el) => el.updateAriaInfo(tabIds, titleIds));\n  }\n\n  private updateItems(): void {\n    const { position, scale } = this;\n\n    const nav = this.el.querySelector(\"calcite-tab-nav\");\n    if (nav) {\n      nav.position = position;\n      nav.scale = scale;\n    }\n\n    Array.from(this.el.querySelectorAll(\"calcite-tab\")).forEach((tab: HTMLCalciteTabElement) => {\n      if (tab.parentElement === this.el) {\n        tab.scale = scale;\n      }\n    });\n\n    Array.from(this.el.querySelectorAll(\"calcite-tab-nav > calcite-tab-title\")).forEach(\n      (title: HTMLCalciteTabTitleElement) => {\n        title.position = position;\n        title.scale = scale;\n      },\n    );\n  }\n\n  private setDefaultSlotRef = (el) => (this.slotEl = el);\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.updateItems();\n  }\n\n  async componentWillLoad(): Promise<void> {\n    this.updateItems();\n  }\n\n  disconnectedCallback(): void {}\n\n  render(): VNode {\n    return (\n      <Fragment>\n        <slot name={SLOTS.titleGroup} />\n        <section>\n          <slot onSlotchange={this.defaultSlotChangeHandler} ref={this.setDefaultSlotRef} />\n        </section>\n      </Fragment>\n    );\n  }\n}\n",":host {\n  @apply flex flex-col;\n}\n\n:host([bordered]) {\n  box-shadow: inset 0 1px 0 var(--calcite-color-border-1);\n  background-color: var(--calcite-color-foreground-1);\n\n  section {\n    @apply border-color-1 border border-solid;\n  }\n}\n\n:host([bordered][position=\"bottom\"]) {\n  box-shadow:\n    inset 0 1px 0 var(--calcite-color-border-1),\n    inset 0 -1px 0 var(--calcite-color-border-1);\n}\n\n:host([bordered]:not([position=\"bottom\"])) ::slotted(calcite-tab-nav) {\n  margin-block-end: -1px;\n}\n\n:host([bordered][scale=\"s\"]) section {\n  @apply p-3;\n}\n\n:host([bordered][scale=\"m\"]) section {\n  @apply p-2;\n}\n\n:host([bordered][scale=\"l\"]) section {\n  @apply p-4;\n}\n\n:host([position=\"bottom\"]) {\n  @apply flex-col-reverse;\n}\n\nsection {\n  @apply border-t-color-1\n    flex\n    flex-grow\n    overflow-hidden\n    border-t;\n  border-block-start-style: solid;\n}\n\n:host([position=\"bottom\"]) section {\n  @apply border-b-color-1\n    flex-col-reverse\n    border-t-0\n    border-b;\n}\n\n:host([position=\"bottom\"]:not([bordered])) section {\n  border-block-end-style: solid;\n}\n\n@media (forced-colors: active) {\n  :host([bordered]) section {\n    @apply border-t-0\n      border-b;\n  }\n  :host([position=\"bottom\"][bordered]) section {\n    @apply border-t\n      border-b-0;\n  }\n}\n\n@include base-component();\n",":host {\n  @apply text-n2h inline-block font-normal;\n}\n\n@include disabled();\n\n:host([scale=\"s\"]) {\n  --calcite-color-picker-spacing: 8px;\n\n  .container {\n    inline-size: 160px;\n  }\n\n  .saved-colors {\n    @apply gap-1;\n    grid-template-columns: repeat(auto-fill, 20px);\n  }\n}\n\n:host([scale=\"m\"]) {\n  --calcite-color-picker-spacing: 12px;\n\n  .container {\n    inline-size: 272px;\n  }\n}\n\n:host([scale=\"l\"]) {\n  --calcite-color-picker-spacing: 16px;\n\n  @apply text-n1h;\n\n  .container {\n    inline-size: 464px;\n  }\n\n  .section {\n    &:first-of-type {\n      padding-block-start: var(--calcite-color-picker-spacing);\n    }\n  }\n\n  .saved-colors {\n    grid-template-columns: repeat(auto-fill, 32px);\n  }\n\n  .control-section {\n    @apply flex-nowrap items-baseline;\n  }\n\n  .control-section {\n    @apply flex-wrap;\n  }\n\n  .color-hex-options {\n    @apply flex\n      flex-shrink\n      flex-col\n      justify-around;\n  }\n\n  .color-mode-container {\n    flex-shrink: 3;\n  }\n}\n\n.container {\n  @apply bg-foreground-1;\n  display: inline-block;\n  border: 1px solid var(--calcite-color-border-1);\n}\n\n.control-and-scope {\n  @apply flex relative cursor-pointer touch-none;\n}\n\n.color-field,\n.control-and-scope {\n  user-select: none;\n}\n\n.scope {\n  @apply text-n1\n    focus-base\n    absolute\n    z-default\n    rounded-full\n    bg-transparent\n    w-px\n    h-px\n    pointer-events-none;\n  &:focus {\n    @apply focus-outset;\n    outline-offset: 6px;\n  }\n}\n\n.hex-and-channels-group {\n  @apply w-full;\n}\n\n.hex-and-channels-group,\n.control-section {\n  @apply flex flex-row flex-wrap;\n}\n\n.section {\n  padding-block: 0 var(--calcite-color-picker-spacing);\n  padding-inline: var(--calcite-color-picker-spacing);\n\n  &:first-of-type {\n    padding-block-start: var(--calcite-color-picker-spacing);\n  }\n}\n\n.sliders {\n  @apply flex flex-col justify-between;\n  margin-inline-start: var(--calcite-color-picker-spacing);\n  gap: var(--calcite-spacing-xxs);\n}\n\n.preview-and-sliders {\n  @apply flex items-center;\n  padding: var(--calcite-color-picker-spacing);\n}\n\n.color-hex-options,\n.section--split {\n  flex-grow: 1;\n}\n\n.header {\n  @apply text-color-1\n    flex\n    items-center\n    justify-between;\n}\n\n.color-mode-container {\n  padding-block-start: var(--calcite-color-picker-spacing);\n}\n\n.channels {\n  @apply flex gap-y-0.5;\n}\n\n.channel {\n  &[data-channel-index=\"3\"] {\n    inline-size: 159px;\n  }\n}\n\n:host([scale=\"s\"]) {\n  .channels {\n    @apply flex-wrap;\n  }\n\n  .channel {\n    flex-basis: 30%;\n    flex-grow: 1;\n\n    &[data-channel-index=\"3\"] {\n      inline-size: unset;\n      margin-inline-start: unset;\n    }\n  }\n}\n\n:host([scale=\"l\"]) {\n  .channel {\n    &[data-channel-index=\"3\"] {\n      inline-size: 131px;\n    }\n  }\n}\n\n.saved-colors {\n  @apply grid gap-2;\n  padding-block-start: var(--calcite-color-picker-spacing);\n  grid-template-columns: repeat(auto-fill, 24px);\n}\n\n.saved-colors-buttons {\n  display: flex;\n}\n\n.saved-color {\n  @include focus-style-base();\n\n  cursor: pointer;\n\n  &:focus {\n    @include focus-style-outset();\n  }\n\n  &:hover {\n    transition: outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;\n    outline: 2px solid var(--calcite-color-border-2);\n    outline-offset: 2px;\n  }\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport Color from \"color\";\nimport { throttle } from \"lodash-es\";\nimport {\n  Direction,\n  focusFirstTabbable,\n  getElementDir,\n  isPrimaryPointerButton,\n} from \"../../utils/dom\";\nimport { Scale } from \"../interfaces\";\nimport {\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { isActivationKey } from \"../../utils/key\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport {\n  connectLocalized,\n  disconnectLocalized,\n  LocalizedComponent,\n  NumberingSystem,\n} from \"../../utils/locale\";\nimport { clamp, closeToRangeEdge, remap } from \"../../utils/math\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport {\n  alphaCompatible,\n  alphaToOpacity,\n  colorEqual,\n  CSSColorMode,\n  Format,\n  getSliderWidth,\n  hexify,\n  normalizeAlpha,\n  normalizeColor,\n  normalizeHex,\n  opacityToAlpha,\n  parseMode,\n  SupportedMode,\n  toAlphaMode,\n  toNonAlphaMode,\n} from \"./utils\";\nimport {\n  CSS,\n  DEFAULT_COLOR,\n  DEFAULT_STORAGE_KEY_PREFIX,\n  DIMENSIONS,\n  HSV_LIMITS,\n  HUE_LIMIT_CONSTRAINED,\n  OPACITY_LIMITS,\n  RGB_LIMITS,\n  SCOPE_SIZE,\n} from \"./resources\";\nimport { Channels, ColorMode, ColorValue, HSLA, HSVA, InternalColor, RGBA } from \"./interfaces\";\nimport { ColorPickerMessages } from \"./assets/color-picker/t9n\";\n\nconst throttleFor60FpsInMs = 16;\n\n@Component({\n  tag: \"calcite-color-picker\",\n  styleUrl: \"color-picker.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class ColorPicker\n  implements InteractiveComponent, LoadableComponent, LocalizedComponent, T9nComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Public properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, an empty color (`null`) will be allowed as a `value`.\n   *\n   * When `false`, a color value is enforced, and clearing the input or blurring will restore the last valid `value`.\n   *\n   * @deprecated Use `clearable` instead\n   */\n  @Prop({ reflect: true }) allowEmpty = false;\n\n  @Watch(\"allowEmpty\")\n  @Watch(\"clearable\")\n  handleAllowEmptyOrClearableChange(): void {\n    this.isClearable = this.clearable || this.allowEmpty;\n  }\n\n  /**\n   * When `true`, the component will allow updates to the color's alpha value.\n   */\n  @Prop() alphaChannel = false;\n\n  @Watch(\"alphaChannel\")\n  handleAlphaChannelChange(alphaChannel: boolean): void {\n    const { format } = this;\n\n    if (alphaChannel && format !== \"auto\" && !alphaCompatible(format)) {\n      console.warn(\n        `ignoring alphaChannel as the current format (${format}) does not support alpha`,\n      );\n      this.alphaChannel = false;\n    }\n  }\n\n  @Watch(\"alphaChannel\")\n  @Watch(\"dimensions\")\n  handleAlphaChannelDimensionsChange(): void {\n    this.effectiveSliderWidth = getSliderWidth(this.dimensions, this.alphaChannel);\n    this.drawColorControls();\n  }\n\n  /** When `true`, hides the RGB/HSV channel inputs. */\n  @Prop() channelsDisabled = false;\n\n  /**\n   * When `true`, an empty color (`null`) will be allowed as a `value`.\n   *\n   * When `false`, a color value is enforced, and clearing the input or blurring will restore the last valid `value`.\n   */\n  @Prop({ reflect: true }) clearable = false;\n\n  /**\n   * Internal prop for advanced use-cases.\n   *\n   * @internal\n   */\n  @Prop({ mutable: true }) color: InternalColor | null = DEFAULT_COLOR;\n\n  @Watch(\"color\")\n  handleColorChange(color: Color | null, oldColor: Color | null): void {\n    this.drawColorControls();\n    this.updateChannelsFromColor(color);\n    this.previousColor = oldColor;\n  }\n\n  /**\n   * When `true`, interaction is prevented and the component is displayed with lower opacity.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   * The format of `value`.\n   *\n   * When `\"auto\"`, the format will be inferred from `value` when set.\n   *\n   * @default \"auto\"\n   */\n  @Prop({ reflect: true }) format: Format = \"auto\";\n\n  @Watch(\"alphaChannel\")\n  @Watch(\"format\")\n  handleFormatOrAlphaChannelChange(): void {\n    this.setMode(this.format);\n    this.internalColorSet(this.color, false, \"internal\");\n  }\n\n  /**\n   * When `true`, hides the RGB/HSV channel inputs.\n   *\n   * @deprecated use `channelsDisabled` instead\n   */\n  @Prop({ reflect: true }) hideChannels = false;\n\n  /** When `true`, hides the hex input. */\n  @Prop() hexDisabled = false;\n\n  /**\n   * When `true`, hides the hex input.\n   *\n   * @deprecated use `hexDisabled` instead\n   */\n  @Prop({ reflect: true }) hideHex = false;\n\n  /**\n   * When `true`, hides the saved colors section.\n   *\n   * @deprecated use `savedDisabled` instead\n   */\n  @Prop({ reflect: true }) hideSaved = false;\n\n  /** When `true`, hides the saved colors section. */\n  @Prop({ reflect: true }) savedDisabled = false;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  @Watch(\"scale\")\n  handleScaleChange(scale: Scale = \"m\"): void {\n    this.updateDimensions(scale);\n    this.updateCanvasSize(\"all\");\n    this.drawColorControls();\n  }\n\n  /** Specifies the storage ID for colors. */\n  @Prop({ reflect: true }) storageId: string;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<ColorPickerMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  /** Specifies the Unicode numeral system used by the component for localization. */\n  @Prop({ reflect: true }) numberingSystem: NumberingSystem;\n\n  /**\n   * The component's value, where the value can be a CSS color string, or a RGB, HSL or HSV object.\n   *\n   * The type will be preserved as the color is updated.\n   *\n   * @default \"#007ac2\"\n   * @see [CSS Color](https://developer.mozilla.org/en-US/docs/Web/CSS/color)\n   * @see [ColorValue](https://github.com/Esri/calcite-design-system/blob/dev/src/components/color-picker/interfaces.ts#L10)\n   */\n  @Prop({ mutable: true }) value: ColorValue | null = normalizeHex(\n    hexify(DEFAULT_COLOR, this.alphaChannel),\n  );\n\n  @Watch(\"value\")\n  handleValueChange(value: ColorValue | null, oldValue: ColorValue | null): void {\n    const { isClearable, format } = this;\n    const checkMode = !isClearable || value;\n    let modeChanged = false;\n\n    if (checkMode) {\n      const nextMode = parseMode(value);\n\n      if (!nextMode || (format !== \"auto\" && nextMode !== format)) {\n        this.showIncompatibleColorWarning(value, format);\n        this.value = oldValue;\n        return;\n      }\n\n      modeChanged = this.mode !== nextMode;\n      this.setMode(nextMode, this.internalColorUpdateContext === null);\n    }\n\n    const dragging = this.activeCanvasInfo;\n\n    if (this.internalColorUpdateContext === \"initial\") {\n      return;\n    }\n\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit();\n\n      if (!dragging) {\n        this.calciteColorPickerChange.emit();\n      }\n      return;\n    }\n\n    const color =\n      isClearable && !value\n        ? null\n        : Color(\n            value != null && typeof value === \"object\" && alphaCompatible(this.mode)\n              ? normalizeColor(value as RGBA | HSVA | HSLA)\n              : value,\n          );\n    const colorChanged = !colorEqual(color, this.color);\n\n    if (modeChanged || colorChanged) {\n      this.internalColorSet(\n        color,\n        this.alphaChannel && !(this.mode.endsWith(\"a\") || this.mode.endsWith(\"a-css\")),\n        \"internal\",\n      );\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Internal State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteColorPickerElement;\n\n  private activeCanvasInfo: {\n    context: CanvasRenderingContext2D;\n    bounds: DOMRect;\n  };\n\n  private get baseColorFieldColor(): Color {\n    return this.color || this.previousColor || DEFAULT_COLOR;\n  }\n\n  private checkerPattern: HTMLCanvasElement;\n\n  private colorFieldRenderingContext: CanvasRenderingContext2D;\n\n  private colorFieldScopeNode: HTMLDivElement;\n\n  private effectiveSliderWidth: number;\n\n  private hueSliderRenderingContext: CanvasRenderingContext2D;\n\n  private hueScopeNode: HTMLDivElement;\n\n  private internalColorUpdateContext: \"internal\" | \"initial\" | \"user-interaction\" | null = null;\n\n  private isActiveChannelInputEmpty: boolean = false;\n\n  private isClearable: boolean;\n\n  private mode: SupportedMode = CSSColorMode.HEX;\n\n  private opacityScopeNode: HTMLDivElement;\n\n  private opacitySliderRenderingContext: CanvasRenderingContext2D;\n\n  private previousColor: InternalColor | null;\n\n  private shiftKeyChannelAdjustment = 0;\n\n  private upOrDownArrowKeyTracker: \"down\" | \"up\" | null = null;\n\n  @State() channelMode: ColorMode = \"rgb\";\n\n  @State() channels: Channels = this.toChannels(DEFAULT_COLOR);\n\n  @State() defaultMessages: ColorPickerMessages;\n\n  @State() dimensions = DIMENSIONS.m;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleChange(): void {\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: ColorPickerMessages;\n\n  @State() savedColors: string[] = [];\n\n  @State() colorFieldScopeTop: number;\n\n  @State() colorFieldScopeLeft: number;\n\n  @State() hueScopeLeft: number;\n\n  @State() opacityScopeLeft: number;\n\n  @State() scopeOrientation: \"vertical\" | \"horizontal\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Fires when the color value has changed.\n   */\n  @Event({ cancelable: false }) calciteColorPickerChange: EventEmitter<void>;\n\n  /**\n   * Fires as the color value changes.\n   *\n   * Similar to the `calciteColorPickerChange` event with the exception of dragging. When dragging the color field or hue slider thumb, this event fires as the thumb is moved.\n   */\n  @Event({ cancelable: false }) calciteColorPickerInput: EventEmitter<void>;\n\n  private handleTabActivate = (event: Event): void => {\n    this.channelMode = (event.currentTarget as HTMLElement).getAttribute(\n      \"data-color-mode\",\n    ) as ColorMode;\n\n    this.updateChannelsFromColor(this.color);\n  };\n\n  private handleColorFieldScopeKeyDown = (event: KeyboardEvent): void => {\n    const { key } = event;\n    const arrowKeyToXYOffset = {\n      ArrowUp: { x: 0, y: -10 },\n      ArrowRight: { x: 10, y: 0 },\n      ArrowDown: { x: 0, y: 10 },\n      ArrowLeft: { x: -10, y: 0 },\n    };\n\n    if (arrowKeyToXYOffset[key]) {\n      event.preventDefault();\n      this.scopeOrientation = key === \"ArrowDown\" || key === \"ArrowUp\" ? \"vertical\" : \"horizontal\";\n      this.captureColorFieldColor(\n        this.colorFieldScopeLeft + arrowKeyToXYOffset[key].x || 0,\n        this.colorFieldScopeTop + arrowKeyToXYOffset[key].y || 0,\n        false,\n      );\n    }\n  };\n\n  private handleHueScopeKeyDown = (event: KeyboardEvent): void => {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 1,\n      ArrowRight: 1,\n      ArrowDown: -1,\n      ArrowLeft: -1,\n    };\n\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const hue = this.baseColorFieldColor.hue();\n      const color = this.baseColorFieldColor.hue(hue + delta);\n      this.internalColorSet(color, false);\n    }\n  };\n\n  private handleHexInputChange = (event: Event): void => {\n    event.stopPropagation();\n    const { isClearable, color } = this;\n    const input = event.target as HTMLCalciteColorPickerHexInputElement;\n    const hex = input.value;\n\n    if (isClearable && !hex) {\n      this.internalColorSet(null);\n      return;\n    }\n\n    const normalizedHex = color && normalizeHex(hexify(color, alphaCompatible(this.mode)));\n\n    if (hex !== normalizedHex) {\n      this.internalColorSet(Color(hex));\n    }\n  };\n\n  private handleSavedColorSelect = (event: Event): void => {\n    const swatch = event.currentTarget as HTMLCalciteColorPickerSwatchElement;\n    this.internalColorSet(Color(swatch.color));\n  };\n\n  private handleChannelInput = (event: CustomEvent): void => {\n    const input = event.currentTarget as HTMLCalciteInputNumberElement;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const isAlphaChannel = channelIndex === 3;\n\n    const limit = isAlphaChannel\n      ? OPACITY_LIMITS.max\n      : this.channelMode === \"rgb\"\n        ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]]\n        : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n\n    let inputValue: string;\n\n    if (!input.value) {\n      inputValue = \"\";\n      this.isActiveChannelInputEmpty = true;\n      // reset this to allow typing in new value, when channel input is cleared after ArrowUp or ArrowDown have been pressed\n      this.upOrDownArrowKeyTracker = null;\n    } else {\n      const value = Number(input.value);\n      const adjustedValue = value + this.shiftKeyChannelAdjustment;\n      const clamped = clamp(adjustedValue, 0, limit);\n\n      inputValue = clamped.toString();\n    }\n\n    input.value = inputValue;\n\n    if (inputValue !== \"\" && this.shiftKeyChannelAdjustment !== 0) {\n      // we treat nudging as a change event since the input won't emit when modifying the value directly\n      this.handleChannelChange(event);\n    } else if (inputValue !== \"\") {\n      this.handleChannelChange(event);\n    }\n  };\n\n  private handleChannelBlur = (event: CustomEvent): void => {\n    const input = event.currentTarget as HTMLCalciteInputNumberElement;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels] as this[\"channels\"];\n    const restoreValueDueToEmptyInput = !input.value && !this.isClearable;\n\n    if (restoreValueDueToEmptyInput) {\n      input.value = channels[channelIndex]?.toString();\n    }\n  };\n\n  handleChannelFocus = (event: Event): void => {\n    const input = event.currentTarget as HTMLCalciteInputNumberElement;\n    input.selectText();\n  };\n\n  // using @Listen as a workaround for VDOM listener not firing\n  @Listen(\"keydown\", { capture: true })\n  @Listen(\"keyup\", { capture: true })\n  protected handleChannelKeyUpOrDown(event: KeyboardEvent): void {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key } = event;\n\n    if (\n      (key !== \"ArrowUp\" && key !== \"ArrowDown\") ||\n      !event.composedPath().some((node: HTMLElement) => node.classList?.contains(CSS.channel))\n    ) {\n      return;\n    }\n\n    const { shiftKey } = event;\n    event.preventDefault();\n\n    if (!this.color) {\n      this.internalColorSet(this.previousColor);\n      event.stopPropagation();\n      return;\n    }\n\n    // this gets applied to the input's up/down arrow increment/decrement\n    const complementaryBump = 9;\n\n    this.shiftKeyChannelAdjustment =\n      key === \"ArrowUp\" && shiftKey\n        ? complementaryBump\n        : key === \"ArrowDown\" && shiftKey\n          ? -complementaryBump\n          : 0;\n\n    if (key === \"ArrowUp\") {\n      this.upOrDownArrowKeyTracker = \"up\";\n    }\n    if (key === \"ArrowDown\") {\n      this.upOrDownArrowKeyTracker = \"down\";\n    }\n  }\n\n  private getChannelInputLimit(channelIndex: number): number {\n    return this.channelMode === \"rgb\"\n      ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]]\n      : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n  }\n\n  private handleChannelChange = (event: CustomEvent): void => {\n    const input = event.currentTarget as HTMLCalciteInputNumberElement;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels] as this[\"channels\"];\n\n    const shouldClearChannels = this.isClearable && !input.value;\n\n    if (shouldClearChannels) {\n      this.channels = [null, null, null, null];\n      this.internalColorSet(null);\n      return;\n    }\n\n    const isAlphaChannel = channelIndex === 3;\n\n    if (this.isActiveChannelInputEmpty && this.upOrDownArrowKeyTracker) {\n      input.value =\n        this.upOrDownArrowKeyTracker === \"up\"\n          ? (channels[channelIndex] + 1 <= this.getChannelInputLimit(channelIndex)\n              ? channels[channelIndex] + 1\n              : this.getChannelInputLimit(channelIndex)\n            ).toString()\n          : (channels[channelIndex] - 1 >= 0 ? channels[channelIndex] - 1 : 0).toString();\n      this.isActiveChannelInputEmpty = false;\n      this.upOrDownArrowKeyTracker = null;\n    }\n    const value = input.value ? Number(input.value) : channels[channelIndex];\n\n    channels[channelIndex] = isAlphaChannel ? opacityToAlpha(value) : value;\n    this.updateColorFromChannels(channels);\n  };\n\n  private handleSavedColorKeyDown = (event: KeyboardEvent): void => {\n    if (isActivationKey(event.key)) {\n      event.preventDefault();\n      this.handleSavedColorSelect(event);\n    }\n  };\n\n  private handleColorFieldPointerDown = (event: PointerEvent): void => {\n    this.handleCanvasControlPointerDown(\n      event,\n      this.colorFieldRenderingContext,\n      this.captureColorFieldColor,\n      this.colorFieldScopeNode,\n    );\n  };\n\n  private focusScope(focusEl: HTMLElement): void {\n    requestAnimationFrame(() => {\n      focusEl.focus();\n    });\n  }\n\n  private handleHueSliderPointerDown = (event: PointerEvent): void => {\n    this.handleCanvasControlPointerDown(\n      event,\n      this.hueSliderRenderingContext,\n      this.captureHueSliderColor,\n      this.hueScopeNode,\n    );\n  };\n\n  private handleOpacitySliderPointerDown = (event: PointerEvent): void => {\n    this.handleCanvasControlPointerDown(\n      event,\n      this.opacitySliderRenderingContext,\n      this.captureOpacitySliderValue,\n      this.opacityScopeNode,\n    );\n  };\n\n  private handleCanvasControlPointerDown(\n    event: PointerEvent,\n    renderingContext: CanvasRenderingContext2D,\n    captureValue: (offsetX: number, offsetY?: number) => void,\n    scopeNode: HTMLElement,\n  ): void {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n\n    window.addEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.addEventListener(\"pointerup\", this.globalPointerUpHandler, { once: true });\n\n    this.activeCanvasInfo = {\n      context: renderingContext,\n      bounds: renderingContext.canvas.getBoundingClientRect(),\n    };\n\n    captureValue.call(this, event.offsetX, event.offsetY);\n    this.focusScope(scopeNode);\n  }\n\n  private globalPointerUpHandler = (event: PointerEvent): void => {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n\n    const previouslyDragging = this.activeCanvasInfo;\n    this.activeCanvasInfo = null;\n    this.drawColorControls();\n\n    if (previouslyDragging) {\n      this.calciteColorPickerChange.emit();\n    }\n  };\n\n  private globalPointerMoveHandler = (event: PointerEvent): void => {\n    const { activeCanvasInfo, el } = this;\n\n    if (!el.isConnected || !activeCanvasInfo) {\n      return;\n    }\n\n    const { context, bounds } = activeCanvasInfo;\n\n    let samplingX: number;\n    let samplingY: number;\n\n    const { clientX, clientY } = event;\n\n    if (context.canvas.matches(\":hover\")) {\n      samplingX = clientX - bounds.x;\n      samplingY = clientY - bounds.y;\n    } else {\n      // snap x and y to the closest edge\n\n      if (clientX < bounds.x + bounds.width && clientX > bounds.x) {\n        samplingX = clientX - bounds.x;\n      } else if (clientX < bounds.x) {\n        samplingX = 0;\n      } else {\n        samplingX = bounds.width;\n      }\n\n      if (clientY < bounds.y + bounds.height && clientY > bounds.y) {\n        samplingY = clientY - bounds.y;\n      } else if (clientY < bounds.y) {\n        samplingY = 0;\n      } else {\n        samplingY = bounds.height;\n      }\n    }\n\n    if (context === this.colorFieldRenderingContext) {\n      this.captureColorFieldColor(samplingX, samplingY, false);\n    } else if (context === this.hueSliderRenderingContext) {\n      this.captureHueSliderColor(samplingX);\n    } else if (context === this.opacitySliderRenderingContext) {\n      this.captureOpacitySliderValue(samplingX);\n    }\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component's first focusable element. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    focusFirstTabbable(this.el);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n\n    this.handleAllowEmptyOrClearableChange();\n    this.handleAlphaChannelDimensionsChange();\n\n    const { isClearable, color, format, value } = this;\n    const willSetNoColor = isClearable && !value;\n    const parsedMode = parseMode(value);\n    const valueIsCompatible =\n      willSetNoColor || (format === \"auto\" && parsedMode) || format === parsedMode;\n    const initialColor = willSetNoColor ? null : valueIsCompatible ? Color(value) : color;\n\n    if (!valueIsCompatible) {\n      this.showIncompatibleColorWarning(value, format);\n    }\n    this.setMode(format, false);\n    this.internalColorSet(initialColor, false, \"initial\");\n\n    this.updateDimensions(this.scale);\n\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n\n    if (this.storageId && localStorage.getItem(storageKey)) {\n      this.savedColors = JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    await setUpMessages(this);\n  }\n\n  connectedCallback(): void {\n    connectLocalized(this);\n    connectMessages(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  disconnectedCallback(): void {\n    window.removeEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.removeEventListener(\"pointerup\", this.globalPointerUpHandler);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n\n  render(): VNode {\n    const {\n      channelsDisabled,\n      color,\n      colorFieldScopeLeft,\n      colorFieldScopeTop,\n      dimensions: {\n        thumb: { radius: thumbRadius },\n      },\n      hexDisabled,\n      hideChannels,\n      hideHex,\n      hideSaved,\n      hueScopeLeft,\n      messages,\n      alphaChannel,\n      opacityScopeLeft,\n      savedColors,\n      savedDisabled,\n      scale,\n      scopeOrientation,\n    } = this;\n\n    const sliderWidth = this.effectiveSliderWidth;\n    const selectedColorInHex = color ? hexify(color, alphaChannel) : null;\n    const hueTop = thumbRadius;\n    const hueLeft = hueScopeLeft ?? (sliderWidth * DEFAULT_COLOR.hue()) / HSV_LIMITS.h;\n    const opacityTop = thumbRadius;\n    const opacityLeft =\n      opacityScopeLeft ??\n      (sliderWidth * alphaToOpacity(DEFAULT_COLOR.alpha())) / OPACITY_LIMITS.max;\n    const noColor = color === null;\n    const vertical = scopeOrientation === \"vertical\";\n    const noHex = hexDisabled || hideHex;\n    const noChannels = channelsDisabled || hideChannels;\n    const noSaved = savedDisabled || hideSaved;\n    const [adjustedColorFieldScopeLeft, adjustedColorFieldScopeTop] = this.getAdjustedScopePosition(\n      colorFieldScopeLeft,\n      colorFieldScopeTop,\n    );\n    const [adjustedHueScopeLeft, adjustedHueScopeTop] = this.getAdjustedScopePosition(\n      hueLeft,\n      hueTop,\n    );\n    const [adjustedOpacityScopeLeft, adjustedOpacityScopeTop] = this.getAdjustedScopePosition(\n      opacityLeft,\n      opacityTop,\n    );\n\n    return (\n      <InteractiveContainer disabled={this.disabled}>\n        <div class={CSS.container}>\n          <div class={CSS.controlAndScope}>\n            <canvas\n              class={CSS.colorField}\n              onPointerDown={this.handleColorFieldPointerDown}\n              ref={this.initColorField}\n            />\n            <div\n              aria-label={vertical ? messages.value : messages.saturation}\n              aria-valuemax={vertical ? HSV_LIMITS.v : HSV_LIMITS.s}\n              aria-valuemin=\"0\"\n              aria-valuenow={(vertical ? color?.saturationv() : color?.value()) || \"0\"}\n              class={{ [CSS.scope]: true, [CSS.colorFieldScope]: true }}\n              onKeyDown={this.handleColorFieldScopeKeyDown}\n              ref={this.storeColorFieldScope}\n              role=\"slider\"\n              style={{\n                top: `${adjustedColorFieldScopeTop || 0}px`,\n                left: `${adjustedColorFieldScopeLeft || 0}px`,\n              }}\n              tabindex=\"0\"\n            />\n          </div>\n          <div class={CSS.previewAndSliders}>\n            <calcite-color-picker-swatch\n              class={CSS.preview}\n              color={selectedColorInHex}\n              scale={this.alphaChannel ? \"l\" : this.scale}\n            />\n            <div class={CSS.sliders}>\n              <div class={CSS.controlAndScope}>\n                <canvas\n                  class={{ [CSS.slider]: true, [CSS.hueSlider]: true }}\n                  onPointerDown={this.handleHueSliderPointerDown}\n                  ref={this.initHueSlider}\n                />\n                <div\n                  aria-label={messages.hue}\n                  aria-valuemax={HSV_LIMITS.h}\n                  aria-valuemin=\"0\"\n                  aria-valuenow={color?.round().hue() || DEFAULT_COLOR.round().hue()}\n                  class={{ [CSS.scope]: true, [CSS.hueScope]: true }}\n                  onKeyDown={this.handleHueScopeKeyDown}\n                  ref={this.storeHueScope}\n                  role=\"slider\"\n                  style={{\n                    top: `${adjustedHueScopeTop}px`,\n                    left: `${adjustedHueScopeLeft}px`,\n                  }}\n                  tabindex=\"0\"\n                />\n              </div>\n              {alphaChannel ? (\n                <div class={CSS.controlAndScope}>\n                  <canvas\n                    class={{ [CSS.slider]: true, [CSS.opacitySlider]: true }}\n                    onPointerDown={this.handleOpacitySliderPointerDown}\n                    ref={this.initOpacitySlider}\n                  />\n                  <div\n                    aria-label={messages.opacity}\n                    aria-valuemax={OPACITY_LIMITS.max}\n                    aria-valuemin={OPACITY_LIMITS.min}\n                    aria-valuenow={(color || DEFAULT_COLOR).round().alpha()}\n                    class={{ [CSS.scope]: true, [CSS.opacityScope]: true }}\n                    onKeyDown={this.handleOpacityScopeKeyDown}\n                    ref={this.storeOpacityScope}\n                    role=\"slider\"\n                    style={{\n                      top: `${adjustedOpacityScopeTop}px`,\n                      left: `${adjustedOpacityScopeLeft}px`,\n                    }}\n                    tabindex=\"0\"\n                  />\n                </div>\n              ) : null}\n            </div>\n          </div>\n          {noHex && noChannels ? null : (\n            <div\n              class={{\n                [CSS.controlSection]: true,\n                [CSS.section]: true,\n              }}\n            >\n              <div class={CSS.hexAndChannelsGroup}>\n                {noHex ? null : (\n                  <div class={CSS.hexOptions}>\n                    <calcite-color-picker-hex-input\n                      allowEmpty={this.isClearable}\n                      alphaChannel={alphaChannel}\n                      class={CSS.control}\n                      messages={messages}\n                      numberingSystem={this.numberingSystem}\n                      onCalciteColorPickerHexInputChange={this.handleHexInputChange}\n                      scale={scale}\n                      value={selectedColorInHex}\n                    />\n                  </div>\n                )}\n                {noChannels ? null : (\n                  <calcite-tabs\n                    class={{\n                      [CSS.colorModeContainer]: true,\n                      [CSS.splitSection]: true,\n                    }}\n                    scale={scale === \"l\" ? \"m\" : \"s\"}\n                  >\n                    <calcite-tab-nav slot=\"title-group\">\n                      {this.renderChannelsTabTitle(\"rgb\")}\n                      {this.renderChannelsTabTitle(\"hsv\")}\n                    </calcite-tab-nav>\n                    {this.renderChannelsTab(\"rgb\")}\n                    {this.renderChannelsTab(\"hsv\")}\n                  </calcite-tabs>\n                )}\n              </div>\n            </div>\n          )}\n          {noSaved ? null : (\n            <div class={{ [CSS.savedColorsSection]: true, [CSS.section]: true }}>\n              <div class={CSS.header}>\n                <label>{messages.saved}</label>\n                <div class={CSS.savedColorsButtons}>\n                  <calcite-button\n                    appearance=\"transparent\"\n                    class={CSS.deleteColor}\n                    disabled={noColor}\n                    iconStart=\"minus\"\n                    kind=\"neutral\"\n                    label={messages.deleteColor}\n                    onClick={this.deleteColor}\n                    scale={scale}\n                    type=\"button\"\n                  />\n                  <calcite-button\n                    appearance=\"transparent\"\n                    class={CSS.saveColor}\n                    disabled={noColor}\n                    iconStart=\"plus\"\n                    kind=\"neutral\"\n                    label={messages.saveColor}\n                    onClick={this.saveColor}\n                    scale={scale}\n                    type=\"button\"\n                  />\n                </div>\n              </div>\n              {savedColors.length > 0 ? (\n                <div class={CSS.savedColors}>\n                  {[\n                    ...savedColors.map((color) => (\n                      <calcite-color-picker-swatch\n                        class={CSS.savedColor}\n                        color={color}\n                        key={color}\n                        onClick={this.handleSavedColorSelect}\n                        onKeyDown={this.handleSavedColorKeyDown}\n                        scale={scale}\n                        tabIndex={0}\n                      />\n                    )),\n                  ]}\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </InteractiveContainer>\n    );\n  }\n\n  private storeColorFieldScope = (node: HTMLDivElement): void => {\n    this.colorFieldScopeNode = node;\n  };\n\n  private storeHueScope = (node: HTMLDivElement): void => {\n    this.hueScopeNode = node;\n  };\n\n  private renderChannelsTabTitle = (channelMode: this[\"channelMode\"]): VNode => {\n    const { channelMode: activeChannelMode, messages } = this;\n    const selected = channelMode === activeChannelMode;\n    const label = channelMode === \"rgb\" ? messages.rgb : messages.hsv;\n\n    return (\n      <calcite-tab-title\n        class={CSS.colorMode}\n        data-color-mode={channelMode}\n        key={channelMode}\n        onCalciteTabsActivate={this.handleTabActivate}\n        selected={selected}\n      >\n        {label}\n      </calcite-tab-title>\n    );\n  };\n\n  private renderChannelsTab = (channelMode: this[\"channelMode\"]): VNode => {\n    const { isClearable, channelMode: activeChannelMode, channels, messages, alphaChannel } = this;\n    const selected = channelMode === activeChannelMode;\n    const isRgb = channelMode === \"rgb\";\n    const channelAriaLabels = isRgb\n      ? [messages.red, messages.green, messages.blue]\n      : [messages.hue, messages.saturation, messages.value];\n    const direction = getElementDir(this.el);\n    const channelsToRender = alphaChannel ? channels : channels.slice(0, 3);\n\n    return (\n      <calcite-tab class={CSS.control} key={channelMode} selected={selected}>\n        {/* channel order should not be mirrored */}\n        <div class={CSS.channels} dir=\"ltr\">\n          {channelsToRender.map((channelValue, index) => {\n            const isAlphaChannel = index === 3;\n\n            if (isAlphaChannel) {\n              channelValue =\n                isClearable && !channelValue ? channelValue : alphaToOpacity(channelValue);\n            }\n\n            /* the channel container is ltr, so we apply the host's direction */\n            return this.renderChannel(\n              channelValue,\n              index,\n              channelAriaLabels[index],\n              direction,\n              isAlphaChannel ? \"%\" : \"\",\n            );\n          })}\n        </div>\n      </calcite-tab>\n    );\n  };\n\n  private renderChannel = (\n    value: number | null,\n    index: number,\n    ariaLabel: string,\n    direction: Direction,\n    suffix?: string,\n  ): VNode => {\n    return (\n      <calcite-input-number\n        class={CSS.channel}\n        data-channel-index={index}\n        dir={direction}\n        key={index}\n        label={ariaLabel}\n        lang={this.effectiveLocale}\n        numberButtonType=\"none\"\n        numberingSystem={this.numberingSystem}\n        onCalciteInputNumberChange={this.handleChannelChange}\n        onCalciteInputNumberInput={this.handleChannelInput}\n        onCalciteInternalInputNumberBlur={this.handleChannelBlur}\n        onCalciteInternalInputNumberFocus={this.handleChannelFocus}\n        onKeyDown={this.handleKeyDown}\n        scale={this.scale === \"l\" ? \"m\" : \"s\"}\n        // workaround to ensure input borders overlap as desired\n        // this is because the build transforms margin-left to its\n        // logical-prop, which is undesired as channels are always ltr\n        style={{\n          marginLeft:\n            index > 0 && !(this.scale === \"s\" && this.alphaChannel && index === 3) ? \"-1px\" : \"\",\n        }}\n        suffixText={suffix}\n        value={value?.toString()}\n      />\n    );\n  };\n\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  handleKeyDown(event: KeyboardEvent): void {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n\n  private showIncompatibleColorWarning(value: ColorValue, format: Format): void {\n    console.warn(\n      `ignoring color value (${value}) as it is not compatible with the current format (${format})`,\n    );\n  }\n\n  private setMode(format: ColorPicker[\"format\"], warn = true): void {\n    const mode = format === \"auto\" ? this.mode : format;\n    this.mode = this.ensureCompatibleMode(mode, warn);\n  }\n\n  private ensureCompatibleMode(mode: SupportedMode, warn): SupportedMode {\n    const { alphaChannel } = this;\n    const isAlphaCompatible = alphaCompatible(mode);\n\n    if (alphaChannel && !isAlphaCompatible) {\n      const alphaMode = toAlphaMode(mode);\n\n      if (warn) {\n        console.warn(\n          `setting format to (${alphaMode}) as the provided one (${mode}) does not support alpha`,\n        );\n      }\n\n      return alphaMode;\n    }\n\n    if (!alphaChannel && isAlphaCompatible) {\n      const nonAlphaMode = toNonAlphaMode(mode);\n\n      if (warn) {\n        console.warn(\n          `setting format to (${nonAlphaMode}) as the provided one (${mode}) does not support alpha`,\n        );\n      }\n\n      return nonAlphaMode;\n    }\n\n    return mode;\n  }\n\n  private captureHueSliderColor(x: number): void {\n    const hue = (HUE_LIMIT_CONSTRAINED / this.effectiveSliderWidth) * x;\n\n    this.internalColorSet(this.baseColorFieldColor.hue(hue), false);\n  }\n\n  private captureOpacitySliderValue(x: number): void {\n    const alpha = opacityToAlpha((OPACITY_LIMITS.max / this.effectiveSliderWidth) * x);\n\n    this.internalColorSet(this.baseColorFieldColor.alpha(alpha), false);\n  }\n\n  private internalColorSet(\n    color: Color | null,\n    skipEqual = true,\n    context: ColorPicker[\"internalColorUpdateContext\"] = \"user-interaction\",\n  ): void {\n    if (skipEqual && colorEqual(color, this.color)) {\n      return;\n    }\n\n    this.internalColorUpdateContext = context;\n    this.color = color;\n    this.value = this.toValue(color);\n    this.internalColorUpdateContext = null;\n  }\n\n  private toValue(color: Color | null, format: SupportedMode = this.mode): ColorValue | null {\n    if (!color) {\n      return null;\n    }\n\n    const hexMode = \"hex\";\n\n    if (format.includes(hexMode)) {\n      const hasAlpha = format === CSSColorMode.HEXA;\n      return normalizeHex(hexify(color.round(), hasAlpha), hasAlpha);\n    }\n\n    if (format.includes(\"-css\")) {\n      const value = color[format.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n\n      // Color omits alpha values when alpha is 1\n      const needToInjectAlpha =\n        (format.endsWith(\"a\") || format.endsWith(\"a-css\")) && color.alpha() === 1;\n      if (needToInjectAlpha) {\n        const model = value.slice(0, 3);\n        const values = value.slice(4, -1);\n        return `${model}a(${values}, ${color.alpha()})`;\n      }\n\n      return value;\n    }\n\n    const colorObject =\n      /* Color() does not support hsva, hsla nor rgba, so we use the non-alpha mode */\n      color[toNonAlphaMode(format)]().round().object();\n\n    if (format.endsWith(\"a\")) {\n      return normalizeAlpha(colorObject);\n    }\n\n    return colorObject;\n  }\n\n  private getSliderCapSpacing(): number {\n    const {\n      dimensions: {\n        slider: { height },\n        thumb: { radius },\n      },\n    } = this;\n\n    return radius * 2 - height;\n  }\n\n  private updateDimensions(scale: Scale = \"m\"): void {\n    this.dimensions = DIMENSIONS[scale];\n  }\n\n  private deleteColor = (): void => {\n    const colorToDelete = hexify(this.color, this.alphaChannel);\n    const inStorage = this.savedColors.indexOf(colorToDelete) > -1;\n\n    if (!inStorage) {\n      return;\n    }\n\n    const savedColors = this.savedColors.filter((color) => color !== colorToDelete);\n\n    this.savedColors = savedColors;\n\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  };\n\n  private saveColor = (): void => {\n    const colorToSave = hexify(this.color, this.alphaChannel);\n    const alreadySaved = this.savedColors.indexOf(colorToSave) > -1;\n\n    if (alreadySaved) {\n      return;\n    }\n\n    const savedColors = [...this.savedColors, colorToSave];\n\n    this.savedColors = savedColors;\n\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  };\n\n  private drawColorControls = throttle(\n    (type: \"all\" | \"color-field\" | \"hue-slider\" | \"opacity-slider\" = \"all\"): void => {\n      if ((type === \"all\" || type === \"color-field\") && this.colorFieldRenderingContext) {\n        this.drawColorField();\n      }\n\n      if ((type === \"all\" || type === \"hue-slider\") && this.hueSliderRenderingContext) {\n        this.drawHueSlider();\n      }\n\n      if (\n        this.alphaChannel &&\n        (type === \"all\" || type === \"opacity-slider\") &&\n        this.opacitySliderRenderingContext\n      ) {\n        this.drawOpacitySlider();\n      }\n    },\n    throttleFor60FpsInMs,\n  );\n\n  private drawColorField(): void {\n    const context = this.colorFieldRenderingContext;\n    const {\n      dimensions: {\n        colorField: { height, width },\n      },\n    } = this;\n\n    context.fillStyle = this.baseColorFieldColor\n      .hsv()\n      .saturationv(100)\n      .value(100)\n      .alpha(1)\n      .string();\n    context.fillRect(0, 0, width, height);\n\n    const whiteGradient = context.createLinearGradient(0, 0, width, 0);\n    whiteGradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    whiteGradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    context.fillStyle = whiteGradient;\n    context.fillRect(0, 0, width, height);\n\n    const blackGradient = context.createLinearGradient(0, 0, 0, height);\n    blackGradient.addColorStop(0, \"rgba(0,0,0,0)\");\n    blackGradient.addColorStop(1, \"rgba(0,0,0,1)\");\n    context.fillStyle = blackGradient;\n    context.fillRect(0, 0, width, height);\n\n    this.drawActiveColorFieldColor();\n  }\n\n  private setCanvasContextSize(\n    canvas: HTMLCanvasElement,\n    { height, width }: { height: number; width: number },\n  ): void {\n    if (!canvas) {\n      return;\n    }\n\n    const devicePixelRatio = window.devicePixelRatio || 1;\n\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.height = `${height}px`;\n    canvas.style.width = `${width}px`;\n\n    const context = canvas.getContext(\"2d\");\n    context.scale(devicePixelRatio, devicePixelRatio);\n  }\n\n  private captureColorFieldColor = (x: number, y: number, skipEqual = true): void => {\n    const {\n      dimensions: {\n        colorField: { height, width },\n      },\n    } = this;\n    const saturation = Math.round((HSV_LIMITS.s / width) * x);\n    const value = Math.round((HSV_LIMITS.v / height) * (height - y));\n\n    this.internalColorSet(\n      this.baseColorFieldColor.hsv().saturationv(saturation).value(value),\n      skipEqual,\n    );\n  };\n\n  private initColorField = (canvas: HTMLCanvasElement): void => {\n    this.colorFieldRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"color-field\");\n    this.drawColorControls();\n  };\n\n  private initHueSlider = (canvas: HTMLCanvasElement): void => {\n    this.hueSliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"hue-slider\");\n    this.drawHueSlider();\n  };\n\n  private initOpacitySlider = (canvas: HTMLCanvasElement): void => {\n    if (!canvas) {\n      return;\n    }\n\n    this.opacitySliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"opacity-slider\");\n    this.drawOpacitySlider();\n  };\n\n  private updateCanvasSize(\n    context: \"all\" | \"color-field\" | \"hue-slider\" | \"opacity-slider\" = \"all\",\n  ): void {\n    const { dimensions } = this;\n\n    if (context === \"all\" || context === \"color-field\") {\n      this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas, dimensions.colorField);\n    }\n\n    const adjustedSliderDimensions = {\n      width: this.effectiveSliderWidth,\n      height:\n        dimensions.slider.height + (dimensions.thumb.radius - dimensions.slider.height / 2) * 2,\n    };\n\n    if (context === \"all\" || context === \"hue-slider\") {\n      this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n\n    if (context === \"all\" || context === \"opacity-slider\") {\n      this.setCanvasContextSize(\n        this.opacitySliderRenderingContext?.canvas,\n        adjustedSliderDimensions,\n      );\n    }\n  }\n\n  private drawActiveColorFieldColor(): void {\n    const { color } = this;\n\n    if (!color) {\n      return;\n    }\n\n    const hsvColor = color.hsv();\n\n    const {\n      dimensions: {\n        colorField: { height, width },\n        thumb: { radius },\n      },\n    } = this;\n\n    const x = hsvColor.saturationv() / (HSV_LIMITS.s / width);\n    const y = height - hsvColor.value() / (HSV_LIMITS.v / height);\n\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = x;\n      this.colorFieldScopeTop = y;\n    });\n\n    this.drawThumb(this.colorFieldRenderingContext, radius, x, y, hsvColor, false);\n  }\n\n  private drawThumb(\n    context: CanvasRenderingContext2D,\n    radius: number,\n    x: number,\n    y: number,\n    color: Color,\n    applyAlpha: boolean,\n  ): void {\n    const startAngle = 0;\n    const endAngle = 2 * Math.PI;\n    const outlineWidth = 1;\n\n    context.beginPath();\n    context.arc(x, y, radius, startAngle, endAngle);\n    context.fillStyle = \"#fff\";\n    context.fill();\n\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = outlineWidth;\n    context.stroke();\n\n    if (applyAlpha && color.alpha() < 1) {\n      const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n      context.beginPath();\n      context.arc(x, y, radius - 3, startAngle, endAngle);\n      context.fillStyle = pattern;\n      context.fill();\n    }\n\n    context.globalCompositeOperation = \"source-atop\";\n\n    context.beginPath();\n    context.arc(x, y, radius - 3, startAngle, endAngle);\n    const alpha = applyAlpha ? color.alpha() : 1;\n    context.fillStyle = color.rgb().alpha(alpha).string();\n    context.fill();\n\n    context.globalCompositeOperation = \"source-over\";\n  }\n\n  private drawActiveHueSliderColor(): void {\n    const { color } = this;\n\n    if (!color) {\n      return;\n    }\n\n    const hsvColor = color.hsv().saturationv(100).value(100);\n\n    const {\n      dimensions: {\n        thumb: { radius },\n      },\n    } = this;\n\n    const width = this.effectiveSliderWidth;\n    const x = hsvColor.hue() / (HUE_LIMIT_CONSTRAINED / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = sliderBoundX;\n    });\n\n    this.drawThumb(this.hueSliderRenderingContext, radius, sliderBoundX, y, hsvColor, false);\n  }\n\n  private drawHueSlider(): void {\n    const context = this.hueSliderRenderingContext;\n    const {\n      dimensions: {\n        slider: { height },\n        thumb: { radius: thumbRadius },\n      },\n    } = this;\n\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n\n    const gradient = context.createLinearGradient(0, 0, width, 0);\n\n    const hueSliderColorStopKeywords = [\n      \"red\",\n      \"yellow\",\n      \"lime\",\n      \"cyan\",\n      \"blue\",\n      \"magenta\",\n      \"#ff0004\" /* 1 unit less than #ff0 to avoid duplicate values within range */,\n    ];\n\n    const offset = 1 / (hueSliderColorStopKeywords.length - 1);\n    let currentOffset = 0;\n\n    hueSliderColorStopKeywords.forEach((keyword) => {\n      gradient.addColorStop(currentOffset, Color(keyword).string());\n      currentOffset += offset;\n    });\n\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n\n    this.drawSliderPath(context, height, width, x, y);\n\n    context.fillStyle = gradient;\n    context.fill();\n\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n\n    this.drawActiveHueSliderColor();\n  }\n\n  private drawOpacitySlider(): void {\n    const context = this.opacitySliderRenderingContext;\n    const {\n      baseColorFieldColor: previousColor,\n      dimensions: {\n        slider: { height },\n        thumb: { radius: thumbRadius },\n      },\n    } = this;\n\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n\n    const gradient = context.createLinearGradient(0, y, width, 0);\n    const startColor = previousColor.rgb().alpha(0);\n    const midColor = previousColor.rgb().alpha(0.5);\n    const endColor = previousColor.rgb().alpha(1);\n\n    gradient.addColorStop(0, startColor.string());\n    gradient.addColorStop(0.5, midColor.string());\n    gradient.addColorStop(1, endColor.string());\n\n    this.drawSliderPath(context, height, width, x, y);\n\n    const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n    context.fillStyle = pattern;\n    context.fill();\n\n    context.fillStyle = gradient;\n    context.fill();\n\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n\n    this.drawActiveOpacitySliderColor();\n  }\n\n  private drawSliderPath(\n    context: CanvasRenderingContext2D,\n    height: number,\n    width: number,\n    x: number,\n    y: number,\n  ): void {\n    const radius = height / 2 + 1;\n    context.beginPath();\n    context.moveTo(x + radius, y);\n    context.lineTo(x + width - radius, y);\n    context.quadraticCurveTo(x + width, y, x + width, y + radius);\n    context.lineTo(x + width, y + height - radius);\n    context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    context.lineTo(x + radius, y + height);\n    context.quadraticCurveTo(x, y + height, x, y + height - radius);\n    context.lineTo(x, y + radius);\n    context.quadraticCurveTo(x, y, x + radius, y);\n    context.closePath();\n  }\n\n  private getCheckeredBackgroundPattern(): HTMLCanvasElement {\n    if (this.checkerPattern) {\n      return this.checkerPattern;\n    }\n\n    const pattern = document.createElement(\"canvas\");\n    pattern.width = 10;\n    pattern.height = 10;\n    const patternContext = pattern.getContext(\"2d\");\n\n    patternContext.fillStyle = \"#ccc\";\n    patternContext.fillRect(0, 0, 10, 10);\n    patternContext.fillStyle = \"#fff\";\n    patternContext.fillRect(0, 0, 5, 5);\n    patternContext.fillRect(5, 5, 5, 5);\n\n    this.checkerPattern = pattern;\n\n    return pattern;\n  }\n\n  private drawActiveOpacitySliderColor(): void {\n    const { color } = this;\n\n    if (!color) {\n      return;\n    }\n\n    const hsvColor = color;\n\n    const {\n      dimensions: {\n        thumb: { radius },\n      },\n    } = this;\n\n    const width = this.effectiveSliderWidth;\n    const x = alphaToOpacity(hsvColor.alpha()) / (OPACITY_LIMITS.max / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n\n    requestAnimationFrame(() => {\n      this.opacityScopeLeft = sliderBoundX;\n    });\n\n    this.drawThumb(this.opacitySliderRenderingContext, radius, sliderBoundX, y, hsvColor, true);\n  }\n\n  private getSliderBoundX(x: number, width: number, radius: number): number {\n    const closeToEdge = closeToRangeEdge(x, width, radius);\n\n    return closeToEdge === 0\n      ? x\n      : closeToEdge === -1\n        ? remap(x, 0, width, radius, radius * 2)\n        : remap(x, 0, width, width - radius * 2, width - radius);\n  }\n\n  private storeOpacityScope = (node: HTMLDivElement): void => {\n    this.opacityScopeNode = node;\n  };\n\n  private handleOpacityScopeKeyDown = (event: KeyboardEvent): void => {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 0.01,\n      ArrowRight: 0.01,\n      ArrowDown: -0.01,\n      ArrowLeft: -0.01,\n    };\n\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const alpha = this.baseColorFieldColor.alpha();\n      const color = this.baseColorFieldColor.alpha(alpha + delta);\n      this.internalColorSet(color, false);\n    }\n  };\n\n  private updateColorFromChannels(channels: this[\"channels\"]): void {\n    this.internalColorSet(Color(channels, this.channelMode));\n  }\n\n  private updateChannelsFromColor(color: Color | null): void {\n    this.channels = color ? this.toChannels(color) : [null, null, null, null];\n  }\n\n  private toChannels(color: Color): Channels {\n    const { channelMode } = this;\n\n    const channels = color[channelMode]()\n      .array()\n      .map((value, index) => {\n        const isAlpha = index === 3;\n        return isAlpha ? value : Math.floor(value);\n      });\n\n    if (channels.length === 3) {\n      channels.push(1); // Color omits alpha when 1\n    }\n\n    return channels as Channels;\n  }\n\n  private getAdjustedScopePosition(left: number, top: number): [number, number] {\n    return [left - SCOPE_SIZE / 2, top - SCOPE_SIZE / 2];\n  }\n}\n","/**\n * Do not edit directly\n * Generated on Thu, 24 Oct 2024 00:22:20 GMT\n */\n\nexport const calciteColorNeutralBlk000 = \"#ffffff\";\nexport const calciteColorNeutralBlk005 = \"#f8f8f8\";\nexport const calciteColorNeutralBlk010 = \"#f3f3f3\";\nexport const calciteColorNeutralBlk020 = \"#eaeaea\";\nexport const calciteColorNeutralBlk030 = \"#dfdfdf\";\nexport const calciteColorNeutralBlk040 = \"#d4d4d4\";\nexport const calciteColorNeutralBlk050 = \"#cacaca\";\nexport const calciteColorNeutralBlk060 = \"#bfbfbf\";\nexport const calciteColorNeutralBlk070 = \"#b5b5b5\";\nexport const calciteColorNeutralBlk080 = \"#aaaaaa\";\nexport const calciteColorNeutralBlk090 = \"#9f9f9f\";\nexport const calciteColorNeutralBlk100 = \"#949494\";\nexport const calciteColorNeutralBlk110 = \"#8a8a8a\";\nexport const calciteColorNeutralBlk120 = \"#808080\";\nexport const calciteColorNeutralBlk130 = \"#757575\";\nexport const calciteColorNeutralBlk140 = \"#6a6a6a\";\nexport const calciteColorNeutralBlk150 = \"#606060\";\nexport const calciteColorNeutralBlk160 = \"#555555\";\nexport const calciteColorNeutralBlk170 = \"#4a4a4a\";\nexport const calciteColorNeutralBlk180 = \"#404040\";\nexport const calciteColorNeutralBlk190 = \"#353535\";\nexport const calciteColorNeutralBlk200 = \"#2b2b2b\";\nexport const calciteColorNeutralBlk210 = \"#202020\";\nexport const calciteColorNeutralBlk220 = \"#151515\";\nexport const calciteColorNeutralBlk230 = \"#0b0b0b\";\nexport const calciteColorNeutralBlk235 = \"#060606\";\nexport const calciteColorNeutralBlk240 = \"#000000\";\nexport const calciteColorHighSaturationBlueHBb010 = \"#c7eaff\";\nexport const calciteColorHighSaturationBlueHBb020 = \"#9fd4f3\";\nexport const calciteColorHighSaturationBlueHBb030 = \"#77bde7\";\nexport const calciteColorHighSaturationBlueHBb040 = \"#50a7da\";\nexport const calciteColorHighSaturationBlueHBb050 = \"#2890ce\";\nexport const calciteColorHighSaturationBlueHBb060 = \"#007ac2\";\nexport const calciteColorHighSaturationBlueHBb070 = \"#00619b\";\nexport const calciteColorHighSaturationBlueHBb080 = \"#004874\";\nexport const calciteColorHighSaturationBlueHBb090 = \"#00304d\";\nexport const calciteColorHighSaturationBlueHBb100 = \"#001726\";\nexport const calciteColorHighSaturationGreenBlueHGb010 = \"#cef5f4\";\nexport const calciteColorHighSaturationGreenBlueHGb020 = \"#afedec\";\nexport const calciteColorHighSaturationGreenBlueHGb030 = \"#8fe6e5\";\nexport const calciteColorHighSaturationGreenBlueHGb040 = \"#5ae0de\";\nexport const calciteColorHighSaturationGreenBlueHGb050 = \"#28cecb\";\nexport const calciteColorHighSaturationGreenBlueHGb060 = \"#00bab5\";\nexport const calciteColorHighSaturationGreenBlueHGb070 = \"#009b98\";\nexport const calciteColorHighSaturationGreenBlueHGb080 = \"#007472\";\nexport const calciteColorHighSaturationGreenBlueHGb090 = \"#004d4c\";\nexport const calciteColorHighSaturationGreenBlueHGb100 = \"#002625\";\nexport const calciteColorHighSaturationGreenHGg010 = \"#bdf2c4\";\nexport const calciteColorHighSaturationGreenHGg020 = \"#a2e4ab\";\nexport const calciteColorHighSaturationGreenHGg030 = \"#87d692\";\nexport const calciteColorHighSaturationGreenHGg040 = \"#6bc878\";\nexport const calciteColorHighSaturationGreenHGg050 = \"#50ba5f\";\nexport const calciteColorHighSaturationGreenHGg060 = \"#35ac46\";\nexport const calciteColorHighSaturationGreenHGg070 = \"#288835\";\nexport const calciteColorHighSaturationGreenHGg080 = \"#1a6324\";\nexport const calciteColorHighSaturationGreenHGg090 = \"#0d3f14\";\nexport const calciteColorHighSaturationGreenHGg100 = \"#001a03\";\nexport const calciteColorHighSaturationYellowGreenHYg010 = \"#e5f7b4\";\nexport const calciteColorHighSaturationYellowGreenHYg020 = \"#d9ef9f\";\nexport const calciteColorHighSaturationYellowGreenHYg030 = \"#cde78a\";\nexport const calciteColorHighSaturationYellowGreenHYg040 = \"#c2e075\";\nexport const calciteColorHighSaturationYellowGreenHYg050 = \"#b6d860\";\nexport const calciteColorHighSaturationYellowGreenHYg060 = \"#aad04b\";\nexport const calciteColorHighSaturationYellowGreenHYg070 = \"#84a338\";\nexport const calciteColorHighSaturationYellowGreenHYg080 = \"#5e7526\";\nexport const calciteColorHighSaturationYellowGreenHYg090 = \"#384813\";\nexport const calciteColorHighSaturationYellowGreenHYg100 = \"#121a00\";\nexport const calciteColorHighSaturationYellowHYy010 = \"#fff7cc\";\nexport const calciteColorHighSaturationYellowHYy020 = \"#fef3ad\";\nexport const calciteColorHighSaturationYellowHYy030 = \"#fcee8d\";\nexport const calciteColorHighSaturationYellowHYy040 = \"#fbea6e\";\nexport const calciteColorHighSaturationYellowHYy050 = \"#f9e54e\";\nexport const calciteColorHighSaturationYellowHYy060 = \"#edd317\";\nexport const calciteColorHighSaturationYellowHYy070 = \"#d9bc00\";\nexport const calciteColorHighSaturationYellowHYy080 = \"#bfa200\";\nexport const calciteColorHighSaturationYellowHYy090 = \"#8c7500\";\nexport const calciteColorHighSaturationYellowHYy100 = \"#5c4e00\";\nexport const calciteColorHighSaturationOrangeYellowHOy010 = \"#ffe2bf\";\nexport const calciteColorHighSaturationOrangeYellowHOy020 = \"#fed3a1\";\nexport const calciteColorHighSaturationOrangeYellowHOy030 = \"#fcc582\";\nexport const calciteColorHighSaturationOrangeYellowHOy040 = \"#fbb664\";\nexport const calciteColorHighSaturationOrangeYellowHOy050 = \"#f9a845\";\nexport const calciteColorHighSaturationOrangeYellowHOy060 = \"#f89927\";\nexport const calciteColorHighSaturationOrangeYellowHOy070 = \"#c67718\";\nexport const calciteColorHighSaturationOrangeYellowHOy080 = \"#9a5b10\";\nexport const calciteColorHighSaturationOrangeYellowHOy090 = \"#6d3f08\";\nexport const calciteColorHighSaturationOrangeYellowHOy100 = \"#402300\";\nexport const calciteColorHighSaturationOrangeHOo010 = \"#ffd8bf\";\nexport const calciteColorHighSaturationOrangeHOo020 = \"#fdc39f\";\nexport const calciteColorHighSaturationOrangeHOo030 = \"#faae7f\";\nexport const calciteColorHighSaturationOrangeHOo040 = \"#f89960\";\nexport const calciteColorHighSaturationOrangeHOo050 = \"#f58440\";\nexport const calciteColorHighSaturationOrangeHOo060 = \"#f36f20\";\nexport const calciteColorHighSaturationOrangeHOo070 = \"#c65a18\";\nexport const calciteColorHighSaturationOrangeHOo080 = \"#9a4410\";\nexport const calciteColorHighSaturationOrangeHOo090 = \"#6d2f08\";\nexport const calciteColorHighSaturationOrangeHOo100 = \"#401900\";\nexport const calciteColorHighSaturationRedOrangeHRo010 = \"#ffc7b3\";\nexport const calciteColorHighSaturationRedOrangeHRo020 = \"#f8af95\";\nexport const calciteColorHighSaturationRedOrangeHRo030 = \"#f09677\";\nexport const calciteColorHighSaturationRedOrangeHRo040 = \"#e97e5a\";\nexport const calciteColorHighSaturationRedOrangeHRo050 = \"#e1653c\";\nexport const calciteColorHighSaturationRedOrangeHRo060 = \"#da4d1e\";\nexport const calciteColorHighSaturationRedOrangeHRo070 = \"#ad3c16\";\nexport const calciteColorHighSaturationRedOrangeHRo080 = \"#802c0f\";\nexport const calciteColorHighSaturationRedOrangeHRo090 = \"#531b07\";\nexport const calciteColorHighSaturationRedOrangeHRo100 = \"#260a00\";\nexport const calciteColorHighSaturationRedHRr010 = \"#ffc6bf\";\nexport const calciteColorHighSaturationRedHRr020 = \"#ffaaa1\";\nexport const calciteColorHighSaturationRedHRr030 = \"#f2877b\";\nexport const calciteColorHighSaturationRedHRr040 = \"#f07062\";\nexport const calciteColorHighSaturationRedHRr050 = \"#e65240\";\nexport const calciteColorHighSaturationRedHRr060 = \"#d83020\";\nexport const calciteColorHighSaturationRedHRr070 = \"#a82b1e\";\nexport const calciteColorHighSaturationRedHRr080 = \"#7c1d13\";\nexport const calciteColorHighSaturationRedHRr090 = \"#4f0e08\";\nexport const calciteColorHighSaturationRedHRr100 = \"#210300\";\nexport const calciteColorHighSaturationPinkHPk010 = \"#ffd1ef\";\nexport const calciteColorHighSaturationPinkHPk020 = \"#fabee4\";\nexport const calciteColorHighSaturationPinkHPk030 = \"#f2a5d6\";\nexport const calciteColorHighSaturationPinkHPk040 = \"#eb8dc9\";\nexport const calciteColorHighSaturationPinkHPk050 = \"#e673bb\";\nexport const calciteColorHighSaturationPinkHPk060 = \"#e04ea6\";\nexport const calciteColorHighSaturationPinkHPk070 = \"#ba2f7e\";\nexport const calciteColorHighSaturationPinkHPk080 = \"#851b52\";\nexport const calciteColorHighSaturationPinkHPk090 = \"#590b32\";\nexport const calciteColorHighSaturationPinkHPk100 = \"#260404\";\nexport const calciteColorHighSaturationVioletRedHVr010 = \"#fadbff\";\nexport const calciteColorHighSaturationVioletRedHVr020 = \"#e4beeb\";\nexport const calciteColorHighSaturationVioletRedHVr030 = \"#cfa1d7\";\nexport const calciteColorHighSaturationVioletRedHVr040 = \"#b983c3\";\nexport const calciteColorHighSaturationVioletRedHVr050 = \"#a466af\";\nexport const calciteColorHighSaturationVioletRedHVr060 = \"#8e499b\";\nexport const calciteColorHighSaturationVioletRedHVr070 = \"#73377e\";\nexport const calciteColorHighSaturationVioletRedHVr080 = \"#572561\";\nexport const calciteColorHighSaturationVioletRedHVr090 = \"#3c1243\";\nexport const calciteColorHighSaturationVioletRedHVr100 = \"#200026\";\nexport const calciteColorHighSaturationVioletHVv010 = \"#e8d9ff\";\nexport const calciteColorHighSaturationVioletHVv020 = \"#cdb9eb\";\nexport const calciteColorHighSaturationVioletHVv030 = \"#b39ad7\";\nexport const calciteColorHighSaturationVioletHVv040 = \"#987ac3\";\nexport const calciteColorHighSaturationVioletHVv050 = \"#7e5baf\";\nexport const calciteColorHighSaturationVioletHVv060 = \"#633b9b\";\nexport const calciteColorHighSaturationVioletHVv070 = \"#4e2c7e\";\nexport const calciteColorHighSaturationVioletHVv080 = \"#3a1e61\";\nexport const calciteColorHighSaturationVioletHVv090 = \"#250f43\";\nexport const calciteColorHighSaturationVioletHVv100 = \"#100026\";\nexport const calciteColorVibrantBlueVBb120 = \"#59d6ff\";\nexport const calciteColorVibrantBlueVBb140 = \"#3db8ff\";\nexport const calciteColorVibrantBlueVBb160 = \"#009af2\";\nexport const calciteColorVibrantBlueVBb180 = \"#009af2\";\nexport const calciteColorVibrantGreenBlueVGb120 = \"#59fffc\";\nexport const calciteColorVibrantGreenBlueVGb140 = \"#00f7f3\";\nexport const calciteColorVibrantGreenBlueVGb160 = \"#00e6e2\";\nexport const calciteColorVibrantGreenBlueVGb180 = \"#00cfca\";\nexport const calciteColorVibrantGreenVGg120 = \"#73ff84\";\nexport const calciteColorVibrantGreenVGg140 = \"#3bed52\";\nexport const calciteColorVibrantGreenVGg160 = \"#00b81b\";\nexport const calciteColorVibrantGreenVGg180 = \"#00a118\";\nexport const calciteColorVibrantYellowGreenVYg120 = \"#d7ff73\";\nexport const calciteColorVibrantYellowGreenVYg140 = \"#bbed3b\";\nexport const calciteColorVibrantYellowGreenVYg160 = \"#96cc00\";\nexport const calciteColorVibrantYellowGreenVYg180 = \"#7fab00\";\nexport const calciteColorVibrantYellowVYy120 = \"#fff766\";\nexport const calciteColorVibrantYellowVYy140 = \"#ffee33\";\nexport const calciteColorVibrantYellowVYy160 = \"#f5d000\";\nexport const calciteColorVibrantYellowVYy180 = \"#ebba17\";\nexport const calciteColorVibrantOrangeYellowVOy120 = \"#ffb54d\";\nexport const calciteColorVibrantOrangeYellowVOy140 = \"#ff9500\";\nexport const calciteColorVibrantOrangeYellowVOy160 = \"#e68600\";\nexport const calciteColorVibrantOrangeYellowVOy180 = \"#d17300\";\nexport const calciteColorVibrantRedOrangeVRo120 = \"#ff824d\";\nexport const calciteColorVibrantRedOrangeVRo140 = \"#ff4d00\";\nexport const calciteColorVibrantRedOrangeVRo160 = \"#de4300\";\nexport const calciteColorVibrantRedOrangeVRo180 = \"#c93b00\";\nexport const calciteColorVibrantRedVRr120 = \"#ff624d\";\nexport const calciteColorVibrantRedVRr140 = \"#ff0015\";\nexport const calciteColorVibrantRedVRr160 = \"#d90012\";\nexport const calciteColorVibrantRedVRr180 = \"#b3000f\";\nexport const calciteColorVibrantPinkVPk120 = \"#ff66c2\";\nexport const calciteColorVibrantPinkVPk140 = \"#ff19a4\";\nexport const calciteColorVibrantPinkVPk160 = \"#d11486\";\nexport const calciteColorVibrantPinkVPk180 = \"#c00073\";\nexport const calciteColorVibrantVioletRedVVr120 = \"#ea80ff\";\nexport const calciteColorVibrantVioletRedVVr140 = \"#dd33ff\";\nexport const calciteColorVibrantVioletRedVVr160 = \"#ac08cc\";\nexport const calciteColorVibrantVioletRedVVr180 = \"#83009e\";\nexport const calciteColorVibrantVioletVVv120 = \"#b580ff\";\nexport const calciteColorVibrantVioletVVv140 = \"#974dff\";\nexport const calciteColorVibrantVioletVVv160 = \"#8129ff\";\nexport const calciteColorVibrantVioletVVv180 = \"#6a0be6\";\nexport const calciteColorDarkGreenDGg410 = \"#44ed51\";\nexport const calciteColorDarkGreenDGg420 = \"#36da43\";\nexport const calciteColorDarkGreenDGg430 = \"#36da43\";\nexport const calciteColorDarkYellowDYy410 = \"#ffe24d\";\nexport const calciteColorDarkYellowDYy420 = \"#ffc900\";\nexport const calciteColorDarkYellowDYy430 = \"#f4b000\";\nexport const calciteColorDarkRedDRr410 = \"#ff7465\";\nexport const calciteColorDarkRedDRr420 = \"#fe583e\";\nexport const calciteColorDarkRedDRr430 = \"#f3381b\";\nexport const calciteColorDarkBlueDBb410 = \"#47bbff\";\nexport const calciteColorDarkBlueDBb420 = \"#00a0ff\";\nexport const calciteColorDarkBlueDBb430 = \"#0087d7\";\nexport const calciteContainerSize0 = \"0\";\nexport const calciteContainerSize154 = \"154px\";\nexport const calciteContainerSize320 = \"320px\";\nexport const calciteContainerSize328 = \"328px\";\nexport const calciteContainerSize476 = \"476px\";\nexport const calciteContainerSize504 = \"504px\";\nexport const calciteContainerSize678 = \"678px\";\nexport const calciteContainerSize768 = \"768px\";\nexport const calciteContainerSize854 = \"854px\";\nexport const calciteContainerSize1152 = \"1152px\";\nexport const calciteContainerSize1440 = \"1440px\";\nexport const calciteFontFamilyAndaleMono = \"Andale Mono\"; // Fallback for Monaco\nexport const calciteFontFamilyAvenirNextPro = \"Avenir Next LT Pro\";\nexport const calciteFontFamilyAvenirNextWorld = \"Avenir Next World\";\nexport const calciteFontFamilyAvenirNext = \"Avenir Next\"; // Primary font family\nexport const calciteFontFamilyAvenir = \"Avenir\"; // Fallback for Avenir Next\nexport const calciteFontFamilyConsolas = \"Consolas\"; // Fallback for Monaco\nexport const calciteFontFamilyHelveticaNeue = \"Helvetica Neue\"; // Fallback for Avenir Next\nexport const calciteFontFamilyLucidaConsole = \"Lucida Console\"; // Fallback for Monaco\nexport const calciteFontFamilyMonaco = \"Monaco\";\nexport const calciteFontFamilyMonospace = \"monospace\"; // Fallback for Monaco\nexport const calciteFontFamilySansSerif = \"sans-serif\"; // Fallback for Avenir Next\nexport const calciteFontStyleItalic = \"italic\"; // used in ratings\nexport const calciteFontWeightUltralight = \"200\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightThin = \"100\";\nexport const calciteFontWeightLight = \"300\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightRegular = \"400\";\nexport const calciteFontWeightMedium = \"500\";\nexport const calciteFontWeightMediumItalic = \"Medium Italic\";\nexport const calciteFontWeightDemi = \"600\";\nexport const calciteFontWeightBold = \"700\";\nexport const calciteFontWeightExtrabold = \"800\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightBlack = \"900\"; // only for Avenir Next World (secondary font family)\nexport const calciteFontWeightHeavy = \"900\";\nexport const calciteFontTextDecorationNone = \"none\";\nexport const calciteFontTextDecorationUnderline = \"underline\";\nexport const calciteFontTextCaseNone = \"none\";\nexport const calciteFontTextCaseUppercase = \"uppercase\";\nexport const calciteFontTextCaseLowercase = \"lowercase\";\nexport const calciteFontTextCaseCapitalize = \"capitalize\";\nexport const calciteOpacity0 = \"0\";\nexport const calciteOpacity4 = \"0.04\";\nexport const calciteOpacity8 = \"0.08\";\nexport const calciteOpacity10 = \"0.1\";\nexport const calciteOpacity20 = \"0.2\";\nexport const calciteOpacity30 = \"0.3\";\nexport const calciteOpacity40 = \"0.4\";\nexport const calciteOpacity50 = \"0.5\";\nexport const calciteOpacity60 = \"0.6\";\nexport const calciteOpacity70 = \"0.7\";\nexport const calciteOpacity80 = \"0.8\";\nexport const calciteOpacity85 = \"0.85\";\nexport const calciteOpacity90 = \"0.9\";\nexport const calciteOpacity92 = \"0.92\";\nexport const calciteOpacity96 = \"0.96\";\nexport const calciteOpacity100 = \"1\";\nexport const calciteShadow0 = {\"x\":\"0\",\"y\":\"0\",\"blur\":\"0\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0)\"};\nexport const calciteShadow1 = {\"x\":\"0\",\"y\":\"2\",\"blur\":\"8\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.04)\"};\nexport const calciteShadow2 = {\"x\":\"0\",\"y\":\"4\",\"blur\":\"16\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.08)\"};\nexport const calciteShadow3 = {\"x\":\"0\",\"y\":\"4\",\"blur\":\"20\",\"spread\":\"0\",\"color\":\"rgba(#000000, 0.08)\"};\nexport const calciteShadow4 = {\"x\":\"0\",\"y\":\"12\",\"blur\":\"32\",\"spread\":\"-2\",\"color\":\"rgba(#000000, 0.1)\"};\nexport const calciteSize1 = \"1px\";\nexport const calciteSize2 = \"2px\";\nexport const calciteSize4 = \"4px\";\nexport const calciteSize6 = \"6px\";\nexport const calciteSize8 = \"8px\";\nexport const calciteSize10 = \"10px\";\nexport const calciteSize12 = \"12px\";\nexport const calciteSize14 = \"14px\";\nexport const calciteSize16 = \"16px\";\nexport const calciteSize20 = \"20px\";\nexport const calciteSize24 = \"24px\";\nexport const calciteSize28 = \"28px\";\nexport const calciteSize32 = \"32px\";\nexport const calciteSize36 = \"36px\";\nexport const calciteSize40 = \"40px\";\nexport const calciteSize44 = \"44px\";\nexport const calciteSize48 = \"48px\";\nexport const calciteSize56 = \"56px\";\nexport const calciteSize64 = \"64px\";\nexport const calciteSize72 = \"72px\";\nexport const calciteSize80 = \"80px\";\nexport const calciteSize96 = \"96px\";\nexport const calciteSize112 = \"112px\";\nexport const calciteSize128 = \"128px\";\nexport const calciteSize144 = \"144px\";\nexport const calciteSize160 = \"160px\";\nexport const calciteSize192 = \"192px\";\nexport const calciteSize224 = \"224px\";\nexport const calciteSize256 = \"256px\";\nexport const calciteSize288 = \"288px\";\nexport const calciteSizeNone = \"0\";\nexport const calciteSizeRelative50 = \"50%\";\nexport const calciteSizeRelative100 = \"100%\";\nexport const calciteSizeRelative125 = \"125%\";\nexport const calciteSizeRelative137 = \"137.5%\";\nexport const calciteSizeRelative150 = \"150%\";\nexport const calciteSizeRelative162 = \"162.5%\";\nexport const calciteSizeRelative200 = \"200%\";\nexport const calciteSizeRelativeAuto = \"auto\";\nexport const calciteZIndex0 = \"-999999\";\nexport const calciteZIndex1 = \"1\";\nexport const calciteZIndex3 = \"300\";\nexport const calciteZIndex4 = \"400\";\nexport const calciteZIndex5 = \"500\";\nexport const calciteZIndex6 = \"600\";\nexport const calciteZIndex7 = \"700\";\nexport const calciteZIndex8 = \"800\";\nexport const calciteZIndex9 = \"900\";\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","export const clamp = (value: number, min: number, max: number): number => Math.max(min, Math.min(value, max));\n\nconst decimalNumberRegex = new RegExp(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n\n/**\n * Returns the quantity of real decimal places for a number, which excludes trailing zeros.\n *\n * Adapted from {@link https://stackoverflow.com/questions/10454518/javascript-how-to-retrieve-the-number-of-decimals-of-a-string-number}.\n *\n * @param decimal - decimal value\n * @param value\n * @returns {number} the amount of decimal places in a number\n */\nexport const decimalPlaces = (value: number | string): number => {\n  const match = (\"\" + value).match(decimalNumberRegex);\n  if (!match || parseInt(match[1]) === 0) {\n    return 0;\n  }\n  return Math.max(\n    0,\n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) -\n      // Adjust for scientific notation.\n      (match[2] ? +match[2] : 0),\n  );\n};\n\nexport function getDecimals(value: number): number {\n  if (decimalPlaces(value) > 0 && value > 0) {\n    return parseFloat(`0.${value.toString().split(\".\")[1]}`);\n  }\n  return value;\n}\n\nexport function remap(value: number, fromMin: number, fromMax: number, toMin: number, toMax: number): number {\n  return ((value - fromMin) * (toMax - toMin)) / (fromMax - fromMin) + toMin;\n}\n\n/**\n * Helper to determine if a value is close to the edge of a range within a threshold.\n *\n * @param value\n * @param range\n * @param threshold\n * @returns -1 if close to lower edge, 1 if close to upper edge, 0 otherwise.\n */\nexport function closeToRangeEdge(value: number, range: number, threshold: number): number {\n  return value < threshold ? -1 : value > range - threshold ? 1 : 0;\n}\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n"],"names":["colorName","isArrayish","obj","Array","isArray","length","splice","Function","Object","getOwnPropertyDescriptor","constructor","name","concat","prototype","slice","swizzle$1","simpleSwizzle","exports","args","results","i","len","arg","call","push","wrap","fn","arguments","colorNames","swizzle","hasOwnProperty","reverseNames","create","cs","colorString$1","to","get","clamp","num","min","max","Math","hexDouble","str","round","toString","toUpperCase","string","val","model","substring","toLowerCase","hsl","hwb","rgb","value","match","hexAlpha","i2","parseInt","parseFloat","alpha","isNaN","hex","rgba","percent","r","g","b","hsla","hwba","a","keyword","cssKeywords","reverseKeywords","key","keys","convert$2","channels","labels","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","gray","conversions$2","Error","defineProperty","delta","h","s","l","rdif","gdif","bdif","v","diff","diffc","c","w","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","y","x","z","t2","t3","t1","smin","lmin","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","m","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","saturation","undefined","ansi","color","mult","rem","colorString","split","map","char","join","integer","chroma","grayscale","hue","pure","mg","conversions$1","deriveBFS","fromModel","graph","models","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","wrapConversion","toModel","path","cur","conversion","conversions","route","convert$1","forEach","routes","wrappedFn","_len2","_key2","arg0","result","wrapRounded","raw","_len","_key","wrapRaw","colorConvert","convert","skippedModels","hashedModelKeys","sort","limiters","Color","object","this","valpha","newArray","zeroArray","indexOf","hashedKeys","JSON","stringify","limit","freeze","toJSON","places","self","percentString","array","unitArray","unitObject","roundToPlace","red","getset","maxfn","green","blue","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","hexa","rgbArray","alphaHex","rgbNumber","luminosity","lum","element","entries","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","includes","_len3","_key3","_len4","_key4","number","Number","toFixed","roundTo","channel","modifier","CSS","DEFAULT_COLOR","Color$1","DEFAULT_STORAGE_KEY_PREFIX","RGB_LIMITS","HSV_LIMITS","HUE_LIMIT_CONSTRAINED","OPACITY_LIMITS","DIMENSIONS","slider","height","width","colorField","thumb","radius","preview","size","hexChar","shorthandHex","longhandHex","shorthandHexWithAlpha","longhandHexWithAlpha","alphaToOpacity","opacityToAlpha","opacity","isValidHex","hasAlpha","isShorthandHex","isLonghandHex","evaluateHex","pattern","test","normalizeHex","convertFromHexToHexa","startsWith","rgbToHex","hexToRGB","hexify","numToHex","padStart","replace","first","second","third","fourth","CSSColorMode","HEX","HEXA","RGB_CSS","RGBA_CSS","HSL_CSS","HSLA_CSS","ObjectColorMode","RGB","RGBA","HSL","HSLA","HSV","HSVA","parseMode","colorValue","hasChannels","colorObject","_len5","_key5","every","colorEqual","value1","value2","alphaCompatible","mode","toNonAlphaMode","ColorPickerHexInput","proxyCustomElement","HTMLElement","onHexInputBlur","hexInputNode","inputValue","allowEmpty","internalColor","willClearValue","isLonghand","alphaChannel","onHexInputChange","formatHexForInternalInput","onOpacityInputBlur","opacityInputNode","formatOpacityForInternalInput","onOpacityInputInput","onOpacityInputChange","normalized","internalSetValue","onInputFocus","event","type","selectText","onHexInputInput","hexInputValue","oldValue","onInputKeyDown","altKey","ctrlKey","metaKey","shiftKey","composedPath","preventDefault","isNudgeKey","previousNonNullValue","direction","bump","nudgeRGBChannels","withModifiers","singleChar","validHexChar","onHexInputPaste","clipboardData","getData","storeHexInputRef","storeOpacityInputRef","connectedCallback","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","handleValueChange","render","hexLabel","messages","scale","opacityInputValue","inputScale","class","label","maxLength","onCalciteInputTextChange","onCalciteInputTextInput","onCalciteInternalInputTextBlur","onCalciteInternalInputTextFocus","onKeyDown","onPaste","prefixText","ref","numberButtonType","numberingSystem","onCalciteInputNumberInput","onCalciteInternalInputNumberBlur","onCalciteInternalInputNumberFocus","suffixText","setFocus","componentFocusable","focusElement","emit","currentColor","nextColor","normalizedLonghand","changed","calciteColorPickerHexInputChange","amount","context","nudgedChannels","rgbChannels","nudgedAlpha","COLORS","CHECKER_DIMENSIONS","squareSize","checkerSquareSize","ColorPickerSwatch","handleColorChange","isEmpty","classes","xmlns","renderSwatch","active","el","borderRadius","commonSwatchProps","rx","stroke","getModeName","strokeWidth","Fragment","id","renderSwatchRect","clipPath","x1","y1","patternUnits","fill","_ref","Tab","guid","Host","labeledBy","role","tabIndex","selected","parentTabsEl","closest","disconnectedCallback","document","body","dispatchEvent","CustomEvent","detail","internalTabChangeHandler","find","tagName","tab","getTabIndex","then","index","stopPropagation","nodeListToArray","parentElement","children","filter","matches","updateAriaInfo","tabIds","titleIds","ICON","TabNav","effectiveDir","lastScrollWheelAxis","resizeObserver","createObserver","updateScrollingState","onTabTitleWheel","deltaX","deltaY","abs","scrollBy","scrollByX","currentTarget","onSlotChange","intersectionObserver","disconnect","slottedElements","slotChangeGetAssignedElements","child","observe","calciteInternalTabNavSlotChange","storeTabTitleWrapperRef","tabTitleContainerEl","root","threshold","scrollToTabTitles","readTask","tabTitleContainer","containerBounds","getBoundingClientRect","tabTitles","querySelectorAll","reverse","closestToEdge","tabTitle","tabTitleBounds","containerEndX","tabTitleEndX","scrollerButtonWidth","offsetAdjustment","offsetWidth","clientWidth","scrollTo","offsetLeft","left","behavior","scrollToNextTabTitles","scrollToPreviousTabTitles","handleTabFocus","destination","focused","focusElementInGroup","enabledTabTitles","scrollTabTitleIntoView","onTabTitleScroll","renderScrollButton","overflowDirection","bordered","hasOverflowingStartTabTitle","hasOverflowingEndTabTitle","isEnd","hidden","appearance","nextTabTitles","previousTabTitles","iconFlipRtl","iconStart","kind","onClick","selectedTitleChanged","calciteInternalTabChange","selectedTabId","onMessagesChange","connectLocalized","connectMessages","storageKey","storageId","localStorage","getItem","storedTab","parse","setUpMessages","selectedTitle","componentWillRender","layout","getElementDir","componentDidRender","title","getTabIdentifier","disconnectLocalized","disconnectMessages","position","CSS_UTILITY","rtl","onScroll","onWheel","onSlotchange","focusPreviousTabHandler","target","focusNextTabHandler","focusFirstTabHandler","focusLastTabHandler","internalActivateTabHandler","activatedTabTitle","getIndexOfTabTitle","isLTR","scrollPosition","scrollLeft","overflowingStartTabTitle","overflowingEndTabTitle","right","activateTabHandler","calciteTabChange","internalCloseTabHandler","closedTabTitleEl","handleTabTitleClose","updateTabTitles","getTabTitleById","globalInternalTabChangeHandler","syncId","effectiveLocaleChange","updateMessages","effectiveLocale","selectedTabIdChanged","setItem","calciteSize24","calciteSize32","calciteSize44","isOverflowStart","isOverflowEnd","visibleWidth","totalContentWidth","scrollWidth","Promise","all","ids","filterDirectChildren","closed","selectionModified","visibleTabTitlesIndices","reduce","tabTitleIndices","totalVisibleTabTitles","closable","activateTab","closedTabTitleIndex","findIndex","nextTabTitleIndex","requestAnimationFrame","focus","ICONS","TabTitle","closeClickHandler","closeTabTitleAndNotify","mutationObserver","updateHasText","calciteInternalTabIconChanged","selectedHandler","setupTextContentObserver","isBrowser","iconStartEl","flipRtl","icon","getIconScale","iconEndEl","iconEnd","controls","toAriaBoolean","disabled","InteractiveContainer","hasText","renderCloseButton","close","closeButtonEl","calciteInternalTabTitleRegister","updateHostInteraction","keyDownHandler","calciteInternalTabsFocusNext","calciteInternalTabsFocusPrevious","calciteInternalTabsFocusFirst","calciteInternalTabsFocusLast","userTriggered","payload","calciteInternalTabsActivate","calciteTabsActivate","textContent","trim","childList","subtree","calciteInternalTabsClose","calciteTabsClose","SLOTS","Tabs","defaultSlotChangeHandler","tabs","setDefaultSlotRef","slotEl","handleInheritableProps","updateItems","calciteInternalTabNavSlotChangeHandler","titles","titlesWatcher","updateAriaSettings","tabsWatcher","getSlotAssignedElements","some","localeCompare","tabDomIndexes","titleDomIndexes","indexInDOM","registryIndex","nav","querySelector","ColorPicker","internalColorUpdateContext","isActiveChannelInputEmpty","shiftKeyChannelAdjustment","upOrDownArrowKeyTracker","handleTabActivate","channelMode","getAttribute","updateChannelsFromColor","handleColorFieldScopeKeyDown","arrowKeyToXYOffset","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","scopeOrientation","captureColorFieldColor","colorFieldScopeLeft","colorFieldScopeTop","handleHueScopeKeyDown","arrowKeyToXOffset","baseColorFieldColor","internalColorSet","handleHexInputChange","isClearable","handleSavedColorSelect","swatch","handleChannelInput","input","channelIndex","adjustedValue","handleChannelChange","handleChannelBlur","handleChannelFocus","isAlphaChannel","getChannelInputLimit","updateColorFromChannels","handleSavedColorKeyDown","isActivationKey","handleColorFieldPointerDown","handleCanvasControlPointerDown","colorFieldRenderingContext","colorFieldScopeNode","handleHueSliderPointerDown","hueSliderRenderingContext","captureHueSliderColor","hueScopeNode","handleOpacitySliderPointerDown","opacitySliderRenderingContext","captureOpacitySliderValue","opacityScopeNode","globalPointerUpHandler","isPrimaryPointerButton","previouslyDragging","activeCanvasInfo","drawColorControls","calciteColorPickerChange","globalPointerMoveHandler","isConnected","bounds","samplingX","samplingY","clientX","clientY","canvas","storeColorFieldScope","storeHueScope","renderChannelsTabTitle","activeChannelMode","onCalciteTabsActivate","renderChannelsTab","channelAriaLabels","channelsToRender","dir","channelValue","renderChannel","ariaLabel","suffix","lang","onCalciteInputNumberChange","handleKeyDown","style","marginLeft","deleteColor","colorToDelete","savedColors","saveColor","colorToSave","throttle","_this","drawColorField","drawHueSlider","drawOpacitySlider","skipEqual","dimensions","initColorField","getContext","updateCanvasSize","initHueSlider","initOpacitySlider","storeOpacityScope","handleOpacityScopeKeyDown","toChannels","handleAllowEmptyOrClearableChange","clearable","handleAlphaChannelChange","format","console","warn","handleAlphaChannelDimensionsChange","effectiveSliderWidth","activeDimensions","getSliderWidth","oldColor","previousColor","handleFormatOrAlphaChannelChange","setMode","handleScaleChange","updateDimensions","modeChanged","nextMode","showIncompatibleColorWarning","dragging","calciteColorPickerInput","alphaColorObject","normalizeColor","colorChanged","endsWith","handleChannelKeyUpOrDown","classList","contains","focusScope","focusEl","renderingContext","captureValue","scopeNode","window","addEventListener","once","offsetX","offsetY","focusFirstTabbable","willSetNoColor","parsedMode","valueIsCompatible","initialColor","removeEventListener","channelsDisabled","thumbRadius","hexDisabled","hideChannels","hideHex","hideSaved","hueScopeLeft","opacityScopeLeft","savedDisabled","sliderWidth","selectedColorInHex","hueTop","hueLeft","opacityTop","opacityLeft","noColor","vertical","noHex","noChannels","noSaved","adjustedColorFieldScopeLeft","adjustedColorFieldScopeTop","getAdjustedScopePosition","adjustedHueScopeLeft","adjustedHueScopeTop","adjustedOpacityScopeLeft","adjustedOpacityScopeTop","onPointerDown","top","tabindex","onCalciteColorPickerHexInputChange","slot","saved","ensureCompatibleMode","isAlphaCompatible","alphaMode","toAlphaMode","nonAlphaMode","toValue","normalizeAlpha","getSliderCapSpacing","fillStyle","fillRect","whiteGradient","createLinearGradient","addColorStop","blackGradient","drawActiveColorFieldColor","setCanvasContextSize","devicePixelRatio","adjustedSliderDimensions","hsvColor","drawThumb","applyAlpha","endAngle","beginPath","arc","strokeStyle","lineWidth","createPattern","getCheckeredBackgroundPattern","globalCompositeOperation","drawActiveHueSliderColor","sliderBoundX","getSliderBoundX","gradient","hueSliderColorStopKeywords","offset","currentOffset","clearRect","drawSliderPath","startColor","midColor","endColor","drawActiveOpacitySliderColor","moveTo","lineTo","quadraticCurveTo","closePath","checkerPattern","createElement","patternContext","closeToEdge","closeToRangeEdge","remap","SCOPE_SIZE","calciteSize48","freeGlobal$1","global","freeSelf","root$1","Symbol$1","Symbol","objectProto$1","nativeObjectToString$1","symToStringTag$1","toStringTag","nativeObjectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","isOwn","tag","unmasked","e","getRawTag","objectToString","isObjectLike","symbolTag","isSymbol","reWhitespace","reTrimStart","baseTrim","charAt","trimmedEndIndex","isObject","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","isBinary","now$1","Date","now","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","cancel","flush","decimalNumberRegex","RegExp","decimalPlaces","getDecimals","fromMin","fromMax","toMin","toMax","range"],"sourceRoot":""}