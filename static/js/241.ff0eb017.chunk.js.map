{"version":3,"file":"static/js/241.ff0eb017.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/TelemetryDisplay.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/OverlayShader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/overlay/OverlayTechnique.js","../node_modules/@arcgis/core/views/2d/engine/webgl/OverlayContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/OverlayMultipoint.js","../node_modules/@arcgis/core/views/2d/layers/VideoLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as e}from\"../../core/Clonable.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(e(r)){constructor(o){super(o),this.frame=null,this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};o([t({type:Boolean})],p.prototype,\"frame\",void 0),o([t({type:Boolean})],p.prototype,\"frameCenter\",void 0),o([t({type:Boolean})],p.prototype,\"frameOutline\",void 0),o([t({type:Boolean})],p.prototype,\"lineOfSight\",void 0),o([t({type:Boolean})],p.prototype,\"sensorLocation\",void 0),o([t({type:Boolean})],p.prototype,\"sensorTrail\",void 0),p=o([s(\"esri.layers.support.TelemetryDisplay\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as o}from\"../../../../../../../chunks/tslib.es6.js\";import{location as e,uniform as r,GraphShaderModule as p,VertexInput as i,UniformGroup as s,FragmentOutput as n,input as d,FragmentInput as a}from\"../../GraphShaderModule.js\";import{Float as l,dot as v,Vec3 as c,Vec2 as y,Vec4 as u,texture2D as f,Mat3 as g,Sampler2D as m}from\"../../graph/glsl.js\";class x extends i{}t([e(0,y)],x.prototype,\"pos\",void 0),t([e(1,y)],x.prototype,\"uv\",void 0);class h extends a{}class w extends s{}t([r(g)],w.prototype,\"dvs\",void 0);class S extends s{}t([r(y)],S.prototype,\"perspective\",void 0),t([r(y)],S.prototype,\"texSize\",void 0),t([r(l)],S.prototype,\"wrapAroundShift\",void 0),t([r(l)],S.prototype,\"opacity\",void 0),t([r(m)],S.prototype,\"texture\",void 0);class j extends p{vertex(t){const o=t.uv.divide(this.config.texSize),e=new l(1).add(v(o,this.config.perspective)),r=new c(t.pos.add(new y(this.config.wrapAroundShift,0)),1),p=this.transform.dvs.multiply(r);return{uv:o,glPosition:new u(p.xy.multiply(e),0,e)}}fragment(t){const o=f(this.config.texture,t.uv).multiply(this.config.opacity),e=new n;return e.glFragColor=o,e}}t([r(w)],j.prototype,\"transform\",void 0),t([r(S)],j.prototype,\"config\",void 0),t([o(0,d(x))],j.prototype,\"vertex\",null),t([o(0,d(h))],j.prototype,\"fragment\",null);export{j as OverlayShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../../../../core/maybe.js\";import{Mesh as t}from\"../../../meshing/Mesh.js\";import{simplePipelineState as s}from\"../../utils.js\";import{Technique as i}from\"../Technique.js\";import{TechniqueType as o}from\"../TechniqueType.js\";import{OverlayShader as r}from\"../shaders/OverlayShader.js\";import{CompareFunction as n,StencilOperation as a,DataType as p,PrimitiveType as h}from\"../../../../../../webgl/enums.js\";class u extends i{constructor(){super(...arguments),this.type=o.Overlay,this._mesh=null,this.shaders={overlay:new r}}render(e,t){const{context:i,painter:o}=e,r=this._getMesh(e,t);o.setPipelineState(s);const{isWrapAround:p,wrapAroundShift:h}=t.config,u={...t.config,wrapAroundShift:0},m={shader:this.shaders.overlay,uniforms:{transform:t.transform,config:u},defines:null,optionalAttributes:null,useComputeBuffer:!1};o.setPipelineState({...s,stencil:{write:!1,test:{compare:n.EQUAL,op:{fail:a.KEEP,zFail:a.KEEP,zPass:a.REPLACE},ref:0,mask:255}}}),o.submitDrawMeshUntyped(i,m,r),p&&(u.wrapAroundShift=h,o.submitDrawMeshUntyped(i,m,r))}shutdown(){e(this._mesh)}_getMesh(e,s){const{context:i}=e;if(this._mesh){const e=this._mesh.vertexBuffers.get(\"positions\");if(!e)throw new Error(\"Buffer not found\");e.setData(s.position)}else{const e=null!=s.index?s.index.length:s.position.length/2;this._mesh=new t(i,{vertex:{positions:s.position,uvs:s.tex},index:null!=s.index?{index:s.index}:void 0,groups:[{attributes:[{name:\"pos\",count:2,type:p.FLOAT,location:0,vertex:\"positions\",stride:8,offset:0},{name:\"tex\",count:2,type:p.UNSIGNED_SHORT,location:1,vertex:\"uvs\",stride:4,offset:0}],index:null!=s.index?\"index\":void 0,primitive:h.TRIANGLE_STRIP}],parts:[{group:0,start:0,count:e}]})}return this._mesh}}export{u as OverlayTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{toRadian as t}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{identity as e,multiply as r,translate as o,scale as i,rotate as s}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{normalizeMapX as c}from\"../../../../geometry/support/normalizeUtils.js\";import{getInfo as h}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getWorldWidth as m}from\"../../viewpointUtils.js\";import{WGLDrawPhase as d}from\"./enums.js\";import p from\"./WGLContainer.js\";import{OverlayTechnique as f}from\"./shaderGraph/techniques/overlay/OverlayTechnique.js\";class u extends p{constructor(){super(...arguments),this._viewStateId=-1,this._dvsMat3=a(),this._overlayTechnique=new f}get dvsMat3(){return this._dvsMat3}beforeRender(t){this._updateMatrices(t),this._updateOverlays(t,this.children);for(const e of this.children)e.beforeRender(t)}doRender(t){if(t.drawPhase!==d.MAP||!this.visible)return;super.doRender(t);const e=this._overlayTechnique;for(const r of this.children)r.draw(t,e)}onDetach(){this._overlayTechnique.shutdown()}_updateMatrices(a){const{state:h}=a,{id:m,size:d,pixelRatio:p,resolution:f,rotation:u,viewpoint:v,displayMat3:_}=h;if(this._viewStateId===m)return;const M=t(u),g=p*d[0],y=p*d[1];this._localOrigin=v.targetGeometry.clone();const{x:w,y:x}=this._localOrigin,b=c(w,h.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const j=f*g,O=f*y,R=e(this._dvsMat3);r(R,R,_),o(R,R,n(g/2,y/2)),i(R,R,l(g/j,-y/O,1)),s(R,R,-M),this._viewStateId=m}_updateOverlays(e,r){const{state:o}=e,{rotation:i,spatialReference:s,worldScreenWidth:a,size:n,viewpoint:l}=o,c=this._localOrigin;let d,p=0;const f=h(s);if(f&&s.isWrappable){const e=n[0],r=n[1],c=t(i),h=Math.abs(Math.cos(c)),u=Math.abs(Math.sin(c)),v=Math.round(e*h+r*u),[_,M]=f.valid,g=m(s),{x:y,y:w}=l.targetGeometry,x=[y,w],b=[0,0];o.toScreen(b,x);const j=[0,0];let O;O=v>a?.5*a:.5*v;const R=Math.floor((y+.5*g)/g),q=_+R*g,S=M+R*g,G=[b[0]+O,0];o.toMap(j,G),j[0]>S&&(p=g),G[0]=b[0]-O,o.toMap(j,G),j[0]<q&&(p=-g),d={worldWidth:g,xBounds:[_,M]}}for(const t of r)t.updateDrawCoords(c,p,s,d)}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{on as t}from\"../../../../core/events.js\";import e from\"../../../../core/Handles.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{when as i,initial as o}from\"../../../../core/reactiveUtils.js\";import{createScreenPoint as s}from\"../../../../core/screenUtils.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{project as a}from\"../../../../geometry/projection.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import l from\"../../../layers/support/Geometry.js\";import{TextureWrapMode as u}from\"../../../webgl/enums.js\";import{Texture as m}from\"../../../webgl/Texture.js\";import{TextureDescriptor as d}from\"../../../webgl/TextureDescriptor.js\";import p from\"../../../../geometry/Polygon.js\";import c from\"../../../../geometry/Point.js\";const f=2;class x extends h{constructor(r){super(),this.element=r,this._handles=new e,this.isWrapAround=!1,this.perspectiveTransform=n(),this.wrapAroundShift=0,this.clipGeometry=null,this._handles.add(i((()=>this.element),(()=>{const e=this.element;this.ready(),e&&this._handles.add(t(e,\"play\",(()=>this.requestRender())))}),o))}getMesh(t){throw new Error(\"Method not implemented.\")}destroy(){this._handles.destroy(),this.texture=r(this.texture)}get textureSize(){if(!this.texture)return[1,1];const t=this.texture.descriptor;return[t.width,t.height]}get dvsMat3(){return this.parent.dvsMat3}beforeRender(t){const e=this.element;if(null==e)return;const{context:r}=t,{videoWidth:i,videoHeight:o}=e;if(0!==i&&0!==o){if(this.texture)e.paused||this.texture.setData(e);else{const t=new d;t.wrapMode=u.CLAMP_TO_EDGE,t.preMultiplyAlpha=!0,t.width=i,t.height=o,this.texture=new m(r,t,e)}e.paused||(this.texture.generateMipmap(),this.requestRender()),super.beforeRender(t)}}_createTransforms(){return null}updateDrawCoords(t,e,r,i){const o=this.element,s=this._getFrameInfo();if(!o||!s)return;this._initializeData(t,s,r);const{controlPoints:n,horizon:h}=s,u=Math.sqrt(n.length),m=u,{x:d,y:c}=t,x=this._vertices,y=n[0],g=n[u-1],P=n[(m-1)*u],w=n[(m-1)*u+u-1],_=a(h?h[0].mapPoint:y.mapPoint,r),v=a(h?h[1].mapPoint:g.mapPoint,r),j=a(P.mapPoint,r),A=a(w.mapPoint,r);this.clipGeometry=h?new l({geometry:p.fromJSON({rings:[[[j.x,j.y],[A.x,A.y],[v.x,v.y],[_.x,_.y],[j.x,j.y]]],spatialReference:r})}):null;for(let l=0;l<n.length;l++){const t=n[l],{sourcePoint:e,mapPoint:i}=t;if(null==e||null==i)continue;const o=a(i,r);x[l*f+0]=o.x-d,x[l*f+1]=o.y-c}let M=e;if(i){const t=Math.min(_.x,v.x,j.x,A.x),e=Math.max(_.x,v.x,j.x,A.x),{worldWidth:r,xBounds:o}=i,[s,n]=o;t<s&&e>s?M=r:e>n&&t<n&&(M=-r)}this.wrapAroundShift=M,this.isWrapAround=0!==M}draw(t,e){this.isReady&&this._vertices&&this._indices&&this._texCoords?e.render(t,{transform:{dvs:this.dvsMat3},config:{perspective:this.perspectiveTransform,texSize:this.textureSize,wrapAroundShift:this.wrapAroundShift,isWrapAround:this.isWrapAround,opacity:this.opacity,texture:{texture:this.texture,unit:0}},position:this._vertices,tex:this._texCoords,index:this._indices}):this.requestRender()}_initializeData(t,e,r){if(null!=this._vertices&&null!=this._indices)return;const{controlPoints:i}=e,o=Math.sqrt(i.length),s=o,n=new Float32Array(f*i.length),h=new Uint16Array(2*i.length);for(let m=0;m<i.length;m++){const e=i[m],{sourcePoint:o,mapPoint:s}=e;if(null==o||null==s)continue;const l=a(s,r);n[m*f+0]=l.x-t.x,n[m*f+1]=l.y-t.y,h[2*m+0]=o.x,h[2*m+1]=o.y}const l=new Uint16Array(s*o+(s-2)*(o+2));let u=0;for(let a=0;a<s;a++){for(let t=0;t<o;t++)l[u++]=a*o+t,l[u++]=(a+1)*o+t;a<s-2&&(l[u++]=(a+1)*o+(o-1),l[u++]=(a+1)*o)}this._vertices=n,this._texCoords=h,this._indices=l}_getFrameInfo(){if(!this.groundControlPoints)return null;const t=this._getFrameControlPoints(),e=this.frameHorizonPoints;let r=null;if(e){const t=e.startX,i=e.startY,o=e.endX,n=e.endY;r=[{sourcePoint:s(t,i),mapPoint:new c(e.startLongitude,e.startLatitude)},{sourcePoint:s(o,n),mapPoint:new c(e.endLongitude,e.endLatitude)}]}return{controlPoints:t,horizon:r}}_getFrameControlPoints(){const t=this.groundControlPoints,e=t?.length;if(!e)return[];const r=new Array(e),i=Math.max(...t.map((({x:t})=>t))),o=this.element.videoWidth/i;for(let n=0;n<e;n++){const{x:e,y:i,lat:a,lon:h}=t[n];r[n]={sourcePoint:s(e*o,-i*o),mapPoint:new c(h,a)}}return r}}export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Color.js\";import r from\"../../../Graphic.js\";import\"../../../symbols.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as s,initial as l}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/GraphicsLayer.js\";import h from\"../../../layers/support/TelemetryDisplay.js\";import m from\"../engine/webgl/OverlayContainer.js\";import y from\"../engine/webgl/OverlayMultipoint.js\";import{LayerView2DMixin as p}from\"./LayerView2D.js\";import c from\"./graphics/GraphicContainer.js\";import f from\"./graphics/GraphicsView2D.js\";import d from\"../../layers/LayerView.js\";import g from\"../../../symbols/SimpleFillSymbol.js\";import u from\"../../../symbols/SimpleLineSymbol.js\";import b from\"../../../symbols/SimpleMarkerSymbol.js\";const v=new i([255,127,0]);let _=class extends(p(d)){constructor(){super(...arguments),this._graphicsLayer=new n,this._frameOutlineGraphic=new r({symbol:new g({outline:{type:\"simple-line\",color:v}})}),this._sensorTrailGraphic=new r({symbol:new u({color:v})}),this._lineOfSightGraphic=new r({symbol:new u({color:v})}),this._sensorLocationGraphic=new r({symbol:new b({color:v})}),this._frameCenterGraphic=new r({symbol:new b({color:v,style:\"cross\"})}),this._overlayContainer=null,this.layer=null,this.symbolColor=v,this.visibleTelemetryElements=null}destroy(){this._graphicsLayer=t(this._graphicsLayer)}initialize(){this.addHandles(s((()=>this.symbolColor),(()=>{this._frameOutlineGraphic.symbol.outline.color=this.symbolColor,this._sensorTrailGraphic.symbol.color=this.symbolColor,this._lineOfSightGraphic.symbol.color=this.symbolColor,this._sensorLocationGraphic.symbol.color=this.symbolColor,this._frameCenterGraphic.symbol.color=this.symbolColor}),l)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new h({frame:this.layer.telemetryDisplay?.frame??!1,frameCenter:this.layer.telemetryDisplay?.frameCenter??!0,frameOutline:this.layer.telemetryDisplay?.frameOutline??!0,lineOfSight:this.layer.telemetryDisplay?.lineOfSight??!0,sensorLocation:this.layer.telemetryDisplay?.sensorLocation??!0,sensorTrail:this.layer.telemetryDisplay?.sensorTrail??!0})}attach(){this._overlayContainer=new m,this.container.addChild(this._overlayContainer),this._addOverlayMultipoint(),this.graphicsView=new f({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this._graphicsLayer.graphics,container:new c(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([s((()=>[this.layer.telemetryDisplay?.frame,this.layer.telemetryDisplay?.frameCenter,this.layer.telemetryDisplay?.frameOutline,this.layer.telemetryDisplay?.sensorLocation,this.layer.telemetryDisplay?.sensorTrail,this.layer.telemetryDisplay?.lineOfSight]),(()=>this._updateVisibleTelemetryElements()),l),s((()=>[this.layer.telemetry,this.visibleTelemetryElements?.frameCenter,this.visibleTelemetryElements?.frameOutline,this.visibleTelemetryElements?.sensorLocation,this.visibleTelemetryElements?.sensorTrail,this.visibleTelemetryElements?.lineOfSight]),(()=>this._updateGraphicGeometries()),l)])}detach(){this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this.graphicsView=t(this.graphicsView)}supportsSpatialReference(e){return!0}moveEnd(){}viewChange(){this.graphicsView.viewChange()}update(e){this.graphicsView.processUpdate(e)}isUpdating(){return!this.graphicsView||this.graphicsView.updating}_updateVisibleTelemetryElements(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frame=this.layer.telemetryDisplay.frame,this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}_updateGraphicGeometries(){const{telemetry:e}=this.layer,{visibleTelemetryElements:i}=this;e&&i&&(i.frameOutline&&e.frameOutline?this._frameOutlineGraphic.geometry=this.layer.telemetry.frameOutline:this._frameOutlineGraphic.geometry=null,i.sensorTrail&&e.sensorTrail?this._sensorTrailGraphic.geometry=this.layer.telemetry.sensorTrail:this._sensorTrailGraphic.geometry=null,i.lineOfSight&&e.lineOfSight?this._lineOfSightGraphic.geometry=this.layer.telemetry.lineOfSight:this._lineOfSightGraphic.geometry=null,i.sensorLocation&&e.sensorLocation?this._sensorLocationGraphic.geometry=this.layer.telemetry.sensorLocation:this._sensorLocationGraphic.geometry=null,i.frameCenter&&e.frameCenter?this._frameCenterGraphic.geometry=this.layer.telemetry.frameCenter:this._frameCenterGraphic.geometry=null)}async _addOverlayMultipoint(){if(!this.layer.videoElement)return;const e=new y(this.layer.videoElement);this.addAttachHandles([s((()=>[this.layer.frameHorizonPoints,this.layer.groundControlPoints]),(()=>{const{visibleTelemetryElements:i}=this;i?.frame?(e.frameHorizonPoints=this.layer.frameHorizonPoints,e.groundControlPoints=this.layer.groundControlPoints,e.opacity=1):e.opacity=0}),l)]),this._overlayContainer.addChild(e),this.view.stage.requestRender()}};e([a()],_.prototype,\"graphicsView\",void 0),e([a()],_.prototype,\"layer\",void 0),e([a()],_.prototype,\"symbolColor\",void 0),e([a({type:h})],_.prototype,\"visibleTelemetryElements\",void 0),_=e([o(\"esri.views.2d.layers.VideoLayerView2D\")],_);const C=_;export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e,FeatureSelection as r}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as i}from\"./AGraphicContainer.js\";import{renderHighlight as s}from\"../support/util.js\";class t extends i{renderChildren(i){for(const e of this.children)e.setTransform(i.state);if(super.renderChildren(i),this._updateAttributeView(),this.children.some((e=>e.hasData))){switch(i.drawPhase){case e.MAP:this._renderChildren(i,r.All);break;case e.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(i)}this._boundsRenderer&&this._boundsRenderer.doRender(i)}}_renderHighlight(e){s(e,!1,(e=>{this._renderChildren(e,r.Highlight)}))}}export{t as default};\n"],"names":["p","e","r","constructor","o","super","this","frame","frameCenter","frameOutline","lineOfSight","sensorLocation","sensorTrail","t","type","Boolean","prototype","s","l","x","i","y","h","a","w","g","S","m","j","vertex","uv","divide","config","texSize","add","v","perspective","c","pos","wrapAroundShift","transform","dvs","multiply","glPosition","u","xy","fragment","f","texture","opacity","n","glFragColor","d","arguments","Overlay","_mesh","shaders","overlay","render","context","painter","_getMesh","setPipelineState","isWrapAround","shader","uniforms","defines","optionalAttributes","useComputeBuffer","stencil","write","test","compare","EQUAL","op","fail","KEEP","zFail","zPass","REPLACE","ref","mask","submitDrawMeshUntyped","shutdown","vertexBuffers","get","Error","setData","position","index","length","positions","uvs","tex","groups","attributes","name","count","FLOAT","location","stride","offset","UNSIGNED_SHORT","primitive","TRIANGLE_STRIP","parts","group","start","_viewStateId","_dvsMat3","_overlayTechnique","dvsMat3","beforeRender","_updateMatrices","_updateOverlays","children","doRender","drawPhase","MAP","visible","draw","onDetach","state","id","size","pixelRatio","resolution","rotation","viewpoint","displayMat3","_","M","_localOrigin","targetGeometry","clone","b","spatialReference","O","R","worldScreenWidth","isWrappable","Math","abs","cos","sin","round","valid","toScreen","floor","q","G","toMap","worldWidth","xBounds","updateDrawCoords","element","_handles","perspectiveTransform","clipGeometry","ready","requestRender","getMesh","destroy","textureSize","descriptor","width","height","parent","videoWidth","videoHeight","paused","wrapMode","CLAMP_TO_EDGE","preMultiplyAlpha","generateMipmap","_createTransforms","_getFrameInfo","_initializeData","controlPoints","horizon","sqrt","_vertices","P","mapPoint","A","geometry","fromJSON","rings","sourcePoint","min","max","isReady","_indices","_texCoords","unit","Float32Array","Uint16Array","groundControlPoints","_getFrameControlPoints","frameHorizonPoints","startX","startY","endX","endY","startLongitude","startLatitude","endLongitude","endLatitude","Array","map","_ref","lat","lon","_graphicsLayer","_frameOutlineGraphic","symbol","outline","color","_sensorTrailGraphic","_lineOfSightGraphic","_sensorLocationGraphic","_frameCenterGraphic","style","_overlayContainer","layer","symbolColor","visibleTelemetryElements","initialize","addHandles","graphics","addMany","telemetryDisplay","attach","container","addChild","_addOverlayMultipoint","graphicsView","requestUpdateCallback","requestUpdate","view","featuresTilingScheme","addAttachHandles","on","graphicUpdateHandler","_updateVisibleTelemetryElements","telemetry","_updateGraphicGeometries","detach","removeAllChildren","supportsSpatialReference","moveEnd","viewChange","update","processUpdate","isUpdating","updating","videoElement","stage","C","renderChildren","setTransform","_updateAttributeView","some","hasData","_renderChildren","All","HIGHLIGHT","hasHighlight","_renderHighlight","_boundsRenderer","Highlight"],"sourceRoot":""}